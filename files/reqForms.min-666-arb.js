function PreAjax(e, t) { if (isSet(e) && isSet(t) && isSet(ReqObj.Form[t].ServiceSequence)) { var r = RemoveObjFromService(e, t, ReqObj.Form[t].ServiceSequence); if (isSet(ReqObj.Form[t].HitArray) && ReqObj.Form[t].HitArray.push(r), isSet(r) && "" !== r) return r } } function SpliceObject(e, t) { if (isSet(e) && isSet(t)) { for (var r = "", o = 0; o < t.length; o++)if (e.toLowerCase() === ConstructorName(t[o].fn).toLowerCase()) { r = t.splice(o, 1)[0]; break } return r } } function RemoveObjFromService(e, t) { var r = ""; return isSet(t) && (r = RemoveObjFromArray(e, t, ReqObj.Form[t].ServiceSequence)), r } function RemoveObjFromHit(e, t) { var r = ""; return isSet(t) && isSet(ReqObj.Form[t].HitArray) && (r = RemoveObjFromArray(ConstructorName(e.fn), t, ReqObj.Form[t].HitArray)), r } function RemoveObjFromArray(e, t, r) { if (isSet(e) && isSet(t) && isSet(r)) { var o = SpliceObject(e, r); if (isSet(o)) return o } } function Ajaxfailure(e, t, r) { isSet(e) && isSet(t) && isSet(ReqObj.Form[t].ServiceSequence) && (RemoveObjFromHit(e, t), ReqObj.Form[t].ServiceSequence.push(e)), r && !isSet(ReqObj.Form[t].ServiceSequence) && (FinishEnquiryService(t), ReqObj.Form[t].hitFinishEnquiryService = !1) } function PostAjax(e, t) { if (isSet(e)) { if (isSet(ReqObj.Form[t].HitArray)) { var r = RemoveObjFromHit(e, t); "" !== r && (e = r) } SubmitCallback(e.cb, t); for (var o = 0; o < e.post.length; o++)PrePostService(e.post[o], t); e.post = [], "undefined" !== ReqObj.Form[t].hitFinishEnquiryService && ReqObj.Form[t].hitFinishEnquiryService && 0 === e.cb.length && (FinishEnquiryService(t), ReqObj.Form[t].hitFinishEnquiryService = !1) } } function SubmitCallback(e, t) { if (isSet(t) && isSet(ReqObj.Form[t].ServiceSequence) && isSet(e)) for (var r = 0; r < e.length; r++)ReqObj.Form[t].ServiceSequence.push(e[r]), e[r].fn.onSubmit(t) } function PrePostService(e, t) { RemoveButton(t), isSet(e) && "" !== e && ("popup" === chatBlPopupInline(t) ? newchatblScroll("t" + t + "_chatScroll", t) : addBlLoader(t, "left"), e.call(ReqObj.Form[t].FormSequence, t)) } function UpdateChatName(e) { if (notEmpty(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn")) || isSet(ReqObj.UserDetail) && notEmpty(ReqObj.UserDetail.fn)) { var t = usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn"); notEmpty(t) || (t = ReqObj.UserDetail.fn), $("#t" + e + "_hiid").text("Hi " + t) } else $("#t" + e + "_hiid").text("Hi") } function BlStaticQues(e) { this.StaticHtml = "", this.uploadfiles = 0, this.files = "", this.deleteId = 0, this.className = "BlStaticQues", this.attachmentCalled = !1, this.staticCalled = !1 } function InlineDefault(e) { $("#t" + e + "_allBtn").html(""), $("#t" + e + "_thankDiv").html("").addClass("bedsnone"), $("#t" + e + "_mcont").css({ display: "flex" }) } function ShowSkip(e, t) { var r = ["Isq", "BlStaticQues"]; if (isSet(e)) { for (var o = 0; o < e.length; o++)if (-1 !== $.inArray(ConstructorName(e[o].Obj), r)) return !1; return !0 } return !0 } function ShowButton(e, t) { var r = ["ThankYou", "UserVerification", "ProductNameQuestion", "UserLogin", "ProductName", "MoreDetails", "ContactDetail", "TermsConditions", "CountrySugg"]; if (isSet(e)) { for (var o = 0; o < e.length; o++)if (-1 !== $.inArray(ConstructorName(e[o].Obj), r)) return !1; return !0 } return !0 } function IsPrevStepAvailable(e) { if (IsPrevBtnImplemented(e)) { var t = ReqObj.Form[e].FormSequence; if (isSet(ReqObj.Form[e].IsthroughClosebtn) && !ReqObj.Form[e].IsthroughClosebtn) { var r = []; (r = t.OnCloseCounter > -1 ? t.OnCloseCounter > 0 ? ReqObj.Form[e].OnCloseArray[t.OnCloseCounter - 1] : ReqObj.Form[e].UiArray[t.StepCounter] : t.StepCounter > 0 ? ReqObj.Form[e].UiArray[t.StepCounter - 1] : []).length > 0 && (r = manipulatePrevStepArray(r, t.StepCounter - 1, e)); var o = ["Isq", "RequirementDtl"]; if (isSet(r)) { for (var i = 0; i < r.length; i++)if (isSet(ConstructorName(r[i].Obj))) for (var a = 0; a < o.length; a++)if (ConstructorName(r[i].Obj).toLowerCase() === o[a].toLowerCase()) return !0; return !1 } return !1 } return !1 } } function manipulatePrevStepArray(e, t, r) { var o = ["isqsp", "contactdetail", "userlogin", "userverification"], i = [], a = e.length; if (isSet(ReqObj.Form[r].calledClassName[t]) && "" !== ReqObj.Form[r].calledClassName[t]) { for (var s = 0; s < a; s++)-1 === $.inArray(ReqObj.Form[r].calledClassName[t].toLowerCase(), o) && i.push(e[s]); return i } return [] } function submitclass(e, t) { var r = "", o = 0; if ("popup" === chatBlPopupInline(e)) { for (var i = 0; i < t.length; i++)if ("RequirementDtl" === ConstructorName(t[i].Obj)) { o = 1; break } 1 === o ? r += returnButton("t" + e, "_submit", "Next", "blchat-btn3") : (r += '<div class="betxtc">', r += returnButton("t" + e, "_submit", "Next", "blchat-btn3"), r += "</div>") } else "inline" === chatBlPopupInline(e) && (r += returnButton("t" + e, "_submit", "Next &gt;", "chat-txt1")); return r } function buttonName(e, t) { if (IsChatbl(t) && ShowButton(e, t)) { var r = "inline" === chatBlPopupInline(t) ? "<div class='betxtc' id='t" + t + "_btnHtml'>" : "popup" === chatBlPopupInline(t) ? "<div class='be-btnctr' id='t" + t + "_btnHtml'>" : ""; ShowSkip(e, t) && (r += "<button class='chat-txt' id='t" + t + "_notSure' > Skip</button>"), r += submitclass(t, e), $("#t" + t + "_bl_form").append(r) } } function RemoveButton(e) { isSet(e) && IsChatbl(e) && $("#t" + e + "_btnHtml").each(function () { $(this).remove() }) } function ButtonNameUI(e, t) { handleSubmitButton(getBtnObject(ReqObj.Form[t].typeofform.toLowerCase(), t, e = e.toLowerCase()), t) } function getBtnObject(e, t, r) { return 0 === ReqObj.Form[t].FormSequence.StepCounter ? stepOneButton(e, t, r) : stepNextButton(e, t, r) } function stepOneButton(e, t, r) { var o = "", i = isGDPRCountry() ? "befstbtn2 hovsub" : "befstgo2 hovsub", a = usercookie.getCookie("ImeshVisitor"); if ("09" === t.substring(0, 2)) "image" === e || "video" === e ? 0 === ReqObj.Form[t].FormSequence.StepCounter && "" === usercookie.getCookie("ImeshVisitor") ? o = { buttonText: "Get Quotes ", buttonCls: "befstgo2", parentCls: "", specialchar: !0 } : (o = isSet(ReqObj.Form[t].isQuantIsq) && "" !== ReqObj.Form[t].isQuantIsq && !0 === ReqObj.Form[t].isQuantIsq ? { buttonText: "Contact Supplier", buttonCls: "befstgo2 hovsub", parentCls: "" } : { buttonText: "Enquire Now", buttonCls: "befstgo2 hovsub", parentCls: "" }, ("" === a && 1 === ReqObj.Form["0901"].FormSequence.StepCounter && isSet(ReqObj.Form[t].isQuantIsq) && (!1 === ReqObj.Form[t].isQuantIsq || "" === ReqObj.Form[t].isQuantIsq) || void 0 === ReqObj.Form[t].isQuantIsq) && (o = "bl" === e ? "IN" === iso ? { buttonText: "Go", buttonCls: "befstbtn hovsub", parentCls: "befstgo" } : { buttonText: "Go", buttonCls: "befstbtn hovsub", parentCls: "befstgo1" } : { buttonText: "Submit", buttonCls: i + " hovsub", parentCls: "" })) : o = restScreensButton(e, t, r); else if ("popupchatbl" === e) o = { buttonText: "", buttonCls: "cbl_sbmtbt cbl_pa cbl_cp", parentCls: "cbl_sbmt_btn cbl_pr cbl_zi3" }; else { o = { buttonText: "Submit Requirement", buttonCls: isSet(ReqObj.Form[t].changeUICTA) && "" !== ReqObj.Form[t].changeUICTA ? "be_btmm hovsub pdgbt" : "be_btmm hovsub", parentCls: "be-mdl" } } return o } function stepNextButton(e, t, r) { var o = restScreensButton(e, t, r); return backButtonNameUI(t), o } function restScreensButton(e, t, r) { var o = "", i = usercookie.getCookie("ImeshVisitor"), a = currentISO(); if ("" === i) { var s = isGDPRCountry() ? "befstbtn2 hovsub" : "befstgo2 hovsub"; o = "bl" === e ? "IN" === a ? { buttonText: "Go", buttonCls: "befstbtn hovsub", parentCls: "befstgo" } : { buttonText: "Go", buttonCls: "befstbtn hovsub", parentCls: "befstgo1" } : { buttonText: "Submit", buttonCls: s + " hovsub", parentCls: "" } } else (new RegExp("contactdetail").test(r) || new RegExp("productname").test(r)) && (o = "bl" === e ? { buttonText: "Submit", buttonCls: "form-btn hovsub", parentCls: "befstgo2" } : { buttonText: "Submit", buttonCls: "befstgo2 hovsub", parentCls: "" }), new RegExp("userverification").test(r) && (o = "bl" === e ? { buttonText: "Confirm Requirement", buttonCls: "blotpbtn hovsub", parentCls: "befstgo3" } : { buttonText: "Confirm", buttonCls: "befstgo3 hovsub", parentCls: "" }), "isq" !== r && "isqrequirementdtl" !== r && "requirementdtl" !== r && "staticques" !== r && "requirementdtlblstaticques" !== r && "blstaticques" !== r || (o = "bl" === e ? { buttonText: "Next", buttonCls: "form-btn hovsub", parentCls: "befstgo2" } : { buttonText: "Next", buttonCls: "befstgo2 hovsub", parentCls: "" }); return o } function handleSubmitButton(e, t) { IsChatbl(t) || ($("#t" + t + "_submit").prop("value", e.buttonText).removeClass().addClass(e.buttonCls).parent().removeClass().addClass(e.parentCls), onHovSubmitChange(t), backButtonNameUI(t)) } function backButtonNameUI(e) { isOtherEnq(e) && "" !== usercookie.getCookie("ImeshVisitor") && IsPrevStepAvailable(e) ? ($("#t" + e + "_backdiv").removeClass("bedsnone"), $("#t" + e + "_fBtn").addClass("eqBksb"), $("#t" + e + "_submitdiv").addClass("eqBsub")) : ($("#t" + e + "_fBtn").removeClass("eqBksb"), $("#t" + e + "_submitdiv").removeClass("eqBsub"), $("#t" + e + "_backdiv").addClass("bedsnone")) } function CompanyNameService(e) { var t = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", r = ContactDetail.prototype.getData(e); $.ajax({ cache: !1, url: appsServerName + "index.php?r=Newreqform/GlusrUpdate", type: "GET", data: r, dataType: "json", success: function (r) { if (isSet(r)) if (isSet(r.msg) && isSet(r.msg.MESSAGE) && 200 === parseInt(r.msg.MESSAGE.CODE)) { var o = new UserLogin; o.sendRequest({ data: { logObject: "", tmpId: e, userlogin: o, blureve: !1, todo: "glusrupdate" } }), blenqGATracking(t, "service:GlusrUpdate:success", getEventLabel(), 1, e) } else blenqGATracking(t, "service:GlusrUpdate:failure", r, 1, e); else blenqGATracking(t, "service:GlusrUpdate:failure", "response undefined", 1, e) }, error: function (r) { r = isSet(r) ? JSON.stringify(r) : "response undefined", blenqGATracking(t, "service:GlusrUpdate:failure", r, 1, e) } }) } function ContactDetail(e, t, r) { this.setName = "", this.setEmail = "", this.setCity = "", this.imeshCookie = "", this.iplocCookie = "", this.usercountry = "", this.geoip_country_iso = "", this.name = e, this.email = t, this.city = r, this.contactdetailhtml = "", this.className = "ContactDetail", this.ContactDetailHtmlNameObj = { Label: "", UserInput: "", OuterWrapper: "", ClosingWrapper: "" }, this.ContactDetailHtmlEmailObj = { Label: "", UserInput: "", OuterWrapper: "", ClosingWrapper: "" }, this.ContactDetailHtmlCityObj = { Label: "", UserInput: "", OuterWrapper: "", ClosingWrapper: "" }, this.ContactDetailHtmlObjArray = [], this.nonMandatory = !1, this.classCount = 0, this.templateId = "", this.phonecalled = !1 } function CountrySugg() { this.countrysugghtml = "", this.CountrySuggHtmlObj = { Label: "", UserInput: "", OuterWrapper: "", ClosingWrapper: "" }, this.CountrySuggHtmlObjArray = [], this.className = "CountrySugg" } function FinishEnquiryService(e) { var t = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", r = ReqObj.Form[e].generationId, o = ReqObj.Form[e].query_destination, i = ReqObj.Form[e].modId; $.ajax({ cache: !1, url: appsServerName + "index.php?r=Newreqform/FinishEnqService", type: "GET", crossorigin: !0, dataType: "json", data: { ofr_id: r, rfq_queryDestination: o, modId: i }, success: function (r) { isSet(r) ? isSet(r.RESP) || "failure" != r.RESP ? blenqGATracking(t, "service:FinishEnqService:success", r.RESULT, 1, e) : blenqGATracking(t, "service:FinishEnqService:failure", r.ERROR_MESSAGE, 1, e) : blenqGATracking(t, "service:FinishEnqService:failure", r, 1, e) }, error: function (r) { r = isSet(r) ? r : "response undefined", blenqGATracking(t, "service:FinishEnqService:failure", r, 1, e) } }) } function FlagSuggestor() { this.flaghit = {}, this.countryiso = {}, this.toupdate = {}, this.tmpId = "" } function setCountryISO(e, t) { var r = flagsugg; !0 === r.isChangeFromSuggestor(e, t) && r.changeToUpdateStatus("changeflag"), r.toupdate[r.tmpId] ? r.sequenceUpdate(e, t) : r.setCountry(e, t) } function UpdateISO(e, t) { ReqObj.changeUserIso = e, ReqObj.changeUserCountry = t } function FormCloseStep(e, t) { var r = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", o = ReqObj.Form[e].FormSequence || {}, i = $("#t" + e + "_thankDiv").hasClass("bedsnone"); RemoveButton(e); var a = "CloseStep:"; if (ReqObj.Form[e].IsthroughClosebtn = !0, ReqObj.Form[e].generationCalled && i) if (isSet(ReqObj.Form[e].OnCloseStep) && !ReqObj.Form[e].OnCloseStep) { if (a += o.StepCounter + 1 + ":", isSet(ReqObj.Form[e].UiArray[o.StepCounter])) for (s = 0; s < ReqObj.Form[e].UiArray[o.StepCounter].length; s++)s < ReqObj.Form[e].UiArray[o.StepCounter].length && s > 0 && (a += "-"), a += ConstructorName(ReqObj.Form[e].UiArray[o.StepCounter][s].Obj); blenqGATracking(r, a, getEventLabel(), 0, e), ReqObj.Form[e].FormSequence.OnCloseSeq(e) } else { if (a += o.StepCounter + 1 + (o.OnCloseCounter + 1) + ":", isSet(ReqObj.Form[e].OnCloseArray) && isSet(ReqObj.Form[e].OnCloseArray[o.OnCloseCounter]) && isSet(ReqObj.Form[e].OnCloseArray[o.OnCloseCounter])) for (s = 0; s < ReqObj.Form[e].OnCloseArray[o.OnCloseCounter].length; s++)s < ReqObj.Form[e].OnCloseArray[o.OnCloseCounter].length && s > 0 && (a += "-"), a += ConstructorName(ReqObj.Form[e].OnCloseArray[o.OnCloseCounter][s].Obj); blenqGATracking(r, a, getEventLabel(), 0, e), ReqObj.Form[e].FormSequence.OnClosegetStep(e) } else if (ReqObj.Form[e].generationCalled) { if (!i) if (o.OnCloseCounter = parseInt(o.OnCloseCounter, 10), o.StepCounter = parseInt(o.StepCounter, 10), o.OnCloseCounter > -1) { if (a += o.StepCounter + 1 + (o.OnCloseCounter + 1) + ":", isSet(ReqObj.Form[e].OnCloseArray) && isSet(ReqObj.Form[e].OnCloseArray[o.OnCloseCounter])) for (var s = 0; s < ReqObj.Form[e].OnCloseArray[o.OnCloseCounter].length; s++)s < ReqObj.Form[e].OnCloseArray[o.OnCloseCounter].length && s > 0 && (a += "-"), a += ConstructorName(ReqObj.Form[e].OnCloseArray[o.OnCloseCounter][s].Obj); blenqGATracking(r, a, getEventLabel(), 0, e), CloseForm(e) } else a += o.StepCounter + 1 + 1 + ":ThankYou", CloseForm(e) } else if (o.StepCounter > -1) { if (a += o.StepCounter + 1 + ":", isSet(ReqObj.Form[e].UiArray[o.StepCounter])) for (var s = 0; s < ReqObj.Form[e].UiArray[o.StepCounter].length; s++)s < ReqObj.Form[e].UiArray[o.StepCounter].length && s > 0 && (a += "-"), a += ConstructorName(ReqObj.Form[e].UiArray[o.StepCounter][s].Obj); blenqGATracking(r, a, getEventLabel(), 0, e), CloseForm(e) } else CloseForm(e) } function sectionInitialisationStepWise(e, t) { leftSideInitialise(e, t), rightSideInitialise(e, t) } function leftSideInitialise(e, t) { new LeftSide(e, ReqObj.Form[e].typeofform, t) } function rightSideInitialise(e, t) { 0 === t && new RightSide(e, ReqObj.Form[e].typeofform, t) } function initialiseOuterSection(e) { $("#t" + e + "_leftsection").html(""), $("#t" + e + "_rightsection").html(""), $("#t" + e + "_leftsection").html(sectionInitialise(getSections(e, ReqObj.Form[e].typeofform).left)), $("#t" + e + "_rightsection").html(sectionInitialise(getSections(e, ReqObj.Form[e].typeofform).right)) } function sectionInitialise(e) { for (var t = e.length, r = "", o = 0; o < t; o++)r += returnContainer(e[o].section_id, e[o].section_element, e[o].section_class, "", "", "") + "</div>"; return r } function getSections(e, t) { var r = {}; return r[t] = { left: getSectionObject(e, t, "left"), right: getSectionObject(e, t, "right") }, r[t] } function getSectionObject(e, t, r) { for (var o = section_number[t][r], i = {}, a = [], s = 1; s <= o; s++)i.section_id = "t" + e, i.section_element = section_class[t][r][s].id, i.section_name = section_class[t][r][s].name, i.section_class = section_class[t][r][s].cls, a.push(createSectionObject(i)); return a } function createSectionObject(e) { return { section_id: e.section_id, section_name: e.section_name, section_class: e.section_class, section_element: e.section_element } } function Generation(e) { this.v4iilexCookie = "", this.imeshCookie = "", this.iplocCookie = "", this.imEqGlCookie = "", this.siteEntryPage = "", this.adcampCookie = "", this.emktgCookie = "", this.geoLocCookie = "", this.iso = "", this.arg = e, this.className = "Generation" } function GenerateIntent(e) { var t = isSet(e.form_type) && "" !== e.form_type ? e.form_type : ""; "" === t && (t = isSet(e.formType) && "" !== e.formType ? e.formType : ""), e.form_type = t; var r = 0 !== parseInt(e.tmpId) && isSet(e.tmpId) ? e.tmpId : 0; if (e.tmpId = "", "" !== e.form_type.toLowerCase() && "bl" === e.form_type.toLowerCase()) { var o = e.BLIntent.toLowerCase(); isSet(o) && "" !== o && ("yes" === o && "mcat video" === e.ctaName.toLowerCase() && (e.flag = 16), "yes" === o && "mcat video" !== e.ctaName.toLowerCase() && (e.flag = 14)) } e = ObjectTrim(e), "" !== usercookie.getCookie("ImeshVisitor") && $.ajax({ cache: !1, url: appsServerName + "index.php?r=Newreqform/IntentGeneration", type: "GET", dataType: "json", data: e, success: function (o) { isSet(o) && isSet(o.success) && 1 === parseInt(o.success) ? 12 === parseInt(e.flag) && 0 !== r && blenqGATracking(t, "service:IntentGeneration:success", getEventLabel(), 1, r) : 0 !== r && blenqGATracking(t, "service:IntentGeneration:failure", o, 1, r) }, error: function (e) { e = isSet(e) ? e : "response undefined", 0 !== r && blenqGATracking(t, "service:IntentGeneration:failure", e, 1, r) } }) } function getFormHeading(e, t) { var r = ReqObj.Form[e].ctaName.toLowerCase().trim(), o = (t = t.toLowerCase(), ReqObj.Form[e].ctaName); switch (t) { case "userlogin": case "userlogincontactdetail": return getLoginHeading(r, e, o); case "contactdetail": return getContactHeading("all", e, o); case "isq": return getIsqHeading(r, e, o); case "isqrequirementdtl": return getIsqReqHeading("all", e, o); case "requirementdtl": return getReqHeading("all", e, o); case "blstaticques": return getBlStaticHeading("all", e, o); case "contactdetailonclosein": return getContactDetailOnCloseInHeading("all", e, o); case "contactdetailonclosenotin": return getContactDetailOnCloseNotInHeading("all", e, o); case "userverification": return getUserVerificationHeading("all", e, o); case "userverificationonclose": return getUserVerificationOnCloseHeading("all", e, o); default: return defaultScreenMsg(r, e, o) } } function defaultScreenMsg(e, t, r) { return "" === usercookie.getCookie("ImeshVisitor") ? getLoginHeading(e, t, r) : loginDefaultmsg(t, r, "Connect with ") } function loginGetmsg(e, t, r) { var o = "IN" !== currentISO() ? "email" : "mobile"; return returnSpan("", "", t, "befwt") + " " + r + ' from "' + ReqObj.Form[e].rcvName + '" on your ' + o + " quickly" } function loginGetmsgSpecialCase(e, t, r) { var o = "IN" !== currentISO() ? "email" : "mobile"; return returnSpan("", "", t, "befwt") + " " + r + " on your " + o + " quickly" } function loginDefaultmsg(e, t, r) { return "image" === ReqObj.Form[e].typeofform.toLowerCase() || "video" === ReqObj.Form[e].typeofform.toLowerCase() ? returnSpan("", "", "Get Best Quotes", "befwt") + " for " + ReqObj.Form[e].prodName : r + '"' + returnSpan("", "", ReqObj.Form[e].rcvName, "befwt") + '"' } function contactLogMsg(e, t, r) { return r + '"' + ReqObj.Form[e].rcvName + '" for more information' } function contactMsg(e, t) { return returnSpan("", "", "Supplier wants to know more about you", "befwt") } function getLoginHeading(e, t, r) { switch (e) { case "get best quote": case "get quote": return loginGetmsg(t, r, ""); case "get latest price": return loginGetmsg(t, r, "and details"); case "inlineenq": return loginDefaultmsg(t, r); case "send email": case "send sms": return loginDefaultmsg(t, r, "Connect with "); case "contact seller": case "contact seller_next": case "contact seller_pre": return loginGetmsgSpecialCase(t, "Contact Seller", "and get details"); case "contact supplier": return loginGetmsgSpecialCase(t, "Contact Supplier", "and get details"); case "click to call": return loginDefaultmsg(t, r, "Connect with "); case "ask price": case "ask for price": case "no price": return loginGetmsg(t, "Ask for price", "and details"); case "request a call back": return loginGetmsg(t, "", "Request a Call Back "); case "contact now": return contactLogMsg(t, r, "Contact "); default: return loginDefaultmsg(t, r, "Connect with ") } } function getContactHeading(e, t, r) { switch (e) { case "all": return contactMsg(t, r); case "get best quote": case "get quote": case "get latest price": case "inlineenq": case "send email": case "send sms": case "contact seller": case "contact seller_next": case "contact seller_pre": case "click to call": return loginDefaultmsg(t, r); case "ask price": case "ask for price": case "no price": return loginDefaultmsg(t, "Ask Price"); case "request a call back": return loginGetmsg(t, "", "get a Call Back"); case "contact now": return contactLogMsg(t, r, "Contact "); default: return loginDefaultmsg(t, r, "Connect with ") } } function returnIsqHeading(e, t) { return isSet(ReqObj.Form[e].ctaheadingappend) && !0 === ReqObj.Form[e].ctaheadingappend ? returnSpan("", "", t, "befwt") + "\n by adding a few details of your requirement" : "Adding a few details of your requirement can get you quick response from the supplier" } function getIsqHeading(e, t, r) { switch (e) { case "get best quote": return returnIsqHeading(t, "Get Best Quote"); case "get quote": return returnIsqHeading(t, "Get Quote"); case "get latest price": return returnIsqHeading(t, "Get Latest Price"); case "contact seller": case "contact seller_next": case "contact seller_pre": return returnIsqHeading(t, "Contact Seller"); case "contact supplier": return returnIsqHeading(t, "Contact Supplier"); case "ask price": return returnIsqHeading(t, "Ask Price"); case "ask for price": return returnIsqHeading(t, "Ask for price"); default: return "Adding a few details of your requirement can get you quick response from the supplier" } } function getReqHeading(e, t, r) { switch (e) { case "all": return "Send a quick message to the seller for more information."; default: return isSet(ReqObj.Form[t].heading) && "" !== ReqObj.Form[t].heading.trim() ? ReqObj.Form[t].heading : "Send Enquiry to the Seller" } } function getIsqReqHeading(e, t, r) { switch (e) { case "all": return "Almost done!"; default: return isSet(ReqObj.Form[t].heading) && "" !== ReqObj.Form[t].heading.trim() ? ReqObj.Form[t].heading : "Send Enquiry to the Seller" } } function getUserVerificationHeading(e, t, r) { switch (e) { case "all": return "Confirm your requirement"; default: return isSet(ReqObj.Form[t].heading) && "" !== ReqObj.Form[t].heading.trim() ? ReqObj.Form[t].heading : "Send Enquiry to the Seller" } } function getBlStaticHeading(e, t, r) { switch (e) { case "all": return "Almost done!"; default: return isSet(ReqObj.Form[t].heading) && "" !== ReqObj.Form[t].heading.trim() ? ReqObj.Form[t].heading : "Send Enquiry to the Seller" } } function getContactDetailOnCloseInHeading(e, t, r) { switch (e) { case "all": return "Looks like you missed a few details!"; default: return isSet(ReqObj.Form[t].heading) && "" !== ReqObj.Form[t].heading.trim() ? ReqObj.Form[t].heading : "Send Enquiry to the Seller" } } function getContactDetailOnCloseNotInHeading(e, t, r) { switch (e) { case "all": return "Awesome! You're Done"; default: return isSet(ReqObj.Form[t].heading) && "" !== ReqObj.Form[t].heading.trim() ? ReqObj.Form[t].heading : "Send Enquiry to the Seller" } } function getUserVerificationOnCloseHeading(e, t, r) { switch (e) { case "all": return "Confirm your requirement"; default: return isSet(ReqObj.Form[t].heading) && "" !== ReqObj.Form[t].heading.trim() ? ReqObj.Form[t].heading : "Send Enquiry to the Seller" } } FormSeq.prototype.BLChatEvents = function (e) { $(document).off("mouseenter.Chatbl").on("mouseenter.Chatbl", ".be-chat", function (e) { disable_scroll() }), $(document).off("mouseleave.Chatbl").on("mouseleave.Chatbl", ".be-chat", function (e) { enable_scroll() }), $("#t" + e + "_chatScroll").off("mouseenter.Chatbl").on("mouseenter.Chatbl", function (e) { null !== e.relatedTarget ? $(".chat-bl").css({ "overflow-y": "auto" }) : e.stopPropagation() }), $("#t" + e + "_chatScroll").off("mouseleave.Chatbl").on("mouseleave.Chatbl", function (e) { null !== e.relatedTarget ? $(".chat-bl").css({ "overflow-y": "hidden" }) : e.stopPropagation() }), $("#t" + e + "_chatScroll").off("scroll").on("scroll", function (e) { HideSuggester() }) }, FormSeq.prototype.BLChat = function (e) { UpdateChatName(e), ReqObj.Form[e].IsqStep1 = ReturnCorrectVal(ReqObj.Form[e].IsqStep1, 1), ReqObj.Form[e].IsqStepN = ReturnCorrectVal(ReqObj.Form[e].IsqStepN, 1), ReqObj.Form[e].isProdNameQuesShown = !1, ReqObj.Form[e].isOtpShownOnFirstStep = !1, this.BLChatQuestionStart(e) }, FormSeq.prototype.BLChatQuestionStart = function (e) { "chatbl" === ReqObj.Form[e].formType.toLowerCase() && e.substring(0, 2), isChatBlSequenceUpdated = !1, this.BLChatEvents(e), isSecondBl() && "V" !== usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "uv") && "IN" === currentISO() ? (ReqObj.Form[e].isOtpShownOnFirstStep = !0, ReqObj.Form[e].isProdNameQuesShown = !1, ReqObj.Form[e].isProdNameShown = !1, this.BLChatOtp(e)) : "inline" === chatBlPopupInline(e).toLowerCase() ? (ReqObj.Form[e].isOtpShownOnFirstStep = !1, ReqObj.Form[e].isProdNameQuesShown = !0, ReqObj.Form[e].isProdNameShown = !1, this.BLChatProdNameQuestion(e)) : (ReqObj.Form[e].isOtpShown = !1, ReqObj.Form[e].isProdNameQuesShown = !1, ReqObj.Form[e].isProdNameShown = !1, this.BLChatLogin(e)) }, FormSeq.prototype.BLChatProdNameQuestion = function (e) { UpdateChatName(e); this.NumberofClassCalled = 1; var t = { pre: [], post: [this.BLChatProdName], current: [this.BLChatQuestionStart] }, r = { UiArray: [], ServiceArray: [] }; if (ReqObj.Form[e].isProdNameQuesShown = !0, CreateSeq({ object: { obj: new ProductNameQuestion(e), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }), usercookie.getCookie("ImeshVisitor") && ("IN" === currentISO() || "IN" !== currentISO() && usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn"))) { t = { pre: [], post: [], current: [] }; var o = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(o) } }, FormSeq.prototype.BLChatProdName = function (e) { this.NumberofClassCalled = 1, ReqObj.Form[e].isProdNameShown = !0; var t = { pre: [], post: [this.BLChatLogin], current: [this.BLChatProdName] }, r = { UiArray: [], ServiceArray: [] }; if (ReqObj.Form[e].UserInputs.IsProduct === "Change the product".trim() || isSet(ReqObj.Form[e].isproductshown) && ReqObj.Form[e].isproductshown) { if (CreateSeq({ object: { obj: new ProductName(e), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }), usercookie.getCookie("ImeshVisitor") && "IN" === currentISO()) { t = { pre: [], post: [], current: [] }; var o = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(o) } } else this.BLChatLogin(e) }, FormSeq.prototype.BLChatCountry = function (e) { this.NumberofClassCalled = 1; var t = { pre: [this.BLChatCountryName], post: [], current: [this.BLChatCountry] }; usercookie.getCookie("ImeshVisitor") ? this.BLChatName(e) : CreateSeq({ object: { obj: new MoreDetails, toReplace: !1, isService: !1, array: { UiArray: [], ServiceArray: [] }, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) }, FormSeq.prototype.BLChatCountryName = function (e) { this.NumberofClassCalled = 1; var t = { pre: [this.BLChatTNC], post: [], current: [this.BLChatCountryName] }; ReqObj.Form[e].UserInputs.toChange === "Change your country".trim() ? usercookie.getCookie("ImeshVisitor") ? this.BLChatName(e) : CreateSeq({ object: { obj: new CountrySugg, toReplace: !1, isService: !1, array: { UiArray: [], ServiceArray: [] }, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) : this.BLChatTNC(e) }, FormSeq.prototype.BLChatTNC = function (e) { var t = { UiArray: [], ServiceArray: [] }, r = { pre: [this.BLChatLogin], post: [], current: [this.BLChatTNC] }; if (this.NumberofClassCalled = 1, "IN" === currentISO() || (ReqObj.isTNCShownOnFirstStep || !isGDPRCountry()) && IsTncAlreadyFilled(e)) this.BLChatLogin(e); else { var o = { object: { obj: new TermsConditions(e), toReplace: !1, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; "popup" !== chatBlPopupInline(e) && CreateSeq(o), r = { pre: [], post: [] }; var i = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(i) } }, FormSeq.prototype.BLChatLogin = function (e) { if (this.NumberofClassCalled = 1, usercookie.getCookie("ImeshVisitor")) ShowProdName(e) && "popup" === chatBlPopupInline(e) && !ReqObj.Form[e].isProdNameShown ? this.BLChatProdName(e) : this.BLChatName(e); else { var t = { pre: [], post: [this.BLChatCountryName], current: [this.BLChatLogin] }; if ("popup" === chatBlPopupInline(e)) if (ShowProdName(e)) t = { pre: [], post: [this.BLChatProdName], current: [this.BLChatLogin] }; else t = { pre: [], post: [this.BLChatName], current: [this.BLChatQuestionStart] }; var r = { UiArray: [], ServiceArray: [] }; if (CreateSeq({ object: { obj: new UserLogin(e), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }), "IN" === currentISO()) { t = { pre: [], post: [] }; var o = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(o) } } }, FormSeq.prototype.BLChatName = function (e) { if (this.NumberofClassCalled = 1, notEmpty(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn")) || isSet(ReqObj.UserDetail) && notEmpty(ReqObj.UserDetail.fn)) this.BLChatCity(e); else { var t = { UiArray: [], ServiceArray: [] }, r = { pre: [this.BLChatCity], post: [], current: [this.BLChatName] }; if (CallGeneration(e)) { var o = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(o), r = { pre: [], post: [], current: [] } } var i = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; CreateSeq({ object: { obj: new ContactDetail(1, 0, 0), toReplace: !1, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [i], hasFallback: !1, FallbackObj: null }) } }, FormSeq.prototype.BLChatCity = function (e) { this.NumberofClassCalled = 1; var t = { pre: [this.BLChatOtp], post: [], current: [this.BLChatCity] }, r = { UiArray: [], ServiceArray: [] }; if (CallGeneration(e)) { t = { pre: [], post: [] }; var o = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(o), t = { pre: [], post: [], current: [] } } if (usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "ctid") || "IN" !== currentISO()) CallGeneration(e) ? this.BLChatIsq(e) : this.BLChatOtp(e); else { var i = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; t = { pre: [this.BLChatOtp], post: [], current: [this.BLChatCity] }, CreateSeq({ object: { obj: new ContactDetail(0, 0, 1), toReplace: !1, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [i], hasFallback: !1, FallbackObj: null }) } }, FormSeq.prototype.BLChatOtp = function (e) { var t = { UiArray: [], ServiceArray: [] }, r = { pre: [], post: [this.BLChatIsq], current: [this.BLChatQuestionStart] }, o = { message: "" }; "IN" === currentISO() && (isSecondBl() && "V" !== usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "uv") && ReqObj.Form[e].isOtpShownOnFirstStep ? "chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() ? (r = { pre: [], post: [this.BLChatName], current: [this.BLChatQuestionStart] }, o.message = "second") : (r = ShowProdName(e) && !ReqObj.Form[e].isProdNameShown ? { pre: [], post: [this.BLChatProdName], current: [this.BLChatQuestionStart] } : { pre: [], post: [this.BLChatIsq], current: [this.BLChatQuestionStart] }, o.message = "second") : (r = ShowProdName(e) && !ReqObj.Form[e].isProdNameShown ? { pre: [], post: [this.BLChatProdName], current: [this.BLChatQuestionStart] } : { pre: [], post: [this.BLChatIsq], current: [this.BLChatQuestionStart] }, o.message = "")); if (this.NumberofClassCalled = 1, ShowOtp()) { if (CreateSeq({ object: { obj: new UserVerification(e), toReplace: !1, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null, message: o }), ReqObj.Form[e].isOtpShownOnFirstStep && usercookie.getCookie("ImeshVisitor") && ("IN" === currentISO() || "IN" !== currentISO() && usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn"))) { r = { pre: [], post: [], current: [] }; var i = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(i) } } else "popup" !== chatBlPopupInline(e) && ReqObj.Form[e].isOtpShownOnFirstStep && !ReqObj.Form[e].isProdNameQuesShown ? this.BLChatProdNameQuestion(e) : this.BLChatIsqSubsequent(e) }, FormSeq.prototype.BLChatIsq = function (e) { this.NumberofClassCalled = 1; var t = { UiArray: [], ServiceArray: [] }, r = { pre: [this.BLChatIsqSubsequent], post: [], current: [this.BLChatIsq] }; if (CallGeneration(e)) { r = { pre: [this.BLChatOtp], post: [], current: [this.BLChatIsq] }; var o = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(o), r = { pre: [], post: [], current: [this.BLChatIsq] } } if (ShowIsq(e)) { if (ShowReqBox(e)) var i = { object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; else i = { object: { obj: new ThankYou(e), toReplace: !1, objHtmlId: e + "_thankDiv", isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; CreateSeq({ object: { obj: ReqObj.Form[e].GlobalIsqObject, array: t, hooks: r, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !0, FallbackObj: i }) } else this.BLChatRd(e) }, FormSeq.prototype.BLChatIsqSubsequent = function (e) { this.NumberofClassCalled = 1; var t = { UiArray: [], ServiceArray: [] }, r = { pre: [this.BLChatIsqSubsequent], post: [], current: [this.BLChatIsqSubsequent] }; if ("" === ReqObj.Form[e].IsqArray || ReqObj.Form[e].prevCount < ReqObj.Form[e].IsqLength) { if (ReqObj.Form[e].flags.isDescDivShown) o = { object: { obj: new ThankYou(e), toReplace: !1, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; else var o = { object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; CreateSeq({ object: { obj: ReqObj.Form[e].GlobalIsqObject, array: t, hooks: r, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !0, FallbackObj: o }) } else this.BLChatRd(e) }, FormSeq.prototype.BLChatStaticQuestion = function (e) { this.NumberofClassCalled = 1; var t = { pre: [this.BLChatRd], post: [], current: [this.BLChatStaticQuestion] }; returnIsEnrichShownKeyVal(e) && "product" === ReqObj.Form[e].modrefType ? CreateSeq({ object: { obj: new BlStaticQues(e), toReplace: !0, isService: !1, array: { UiArray: [], ServiceArray: [] }, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) : this.BLChatRd(e) }, FormSeq.prototype.BLChatRd = function (e) { this.NumberofClassCalled = 1; var t = { UiArray: [], ServiceArray: [] }, r = { pre: [this.BLChatThankYou], post: [], current: [this.BLChatRd] }; if (chatBlPopupInline(e) && "V" !== usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "uv")) r = { pre: [this.BLChatOtp], post: [], current: [this.BLChatRd] }; if (CallGeneration(e)) { r = { pre: [this.BLChatThankYou], post: [], current: [this.BLChatRd] }; var o = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(o), r = { pre: [], post: [], current: [this.BLChatRd] } } ShowReqBox(e) ? CreateSeq({ object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) : this.BLChatThankYou(e) }, FormSeq.prototype.BLChatThankYou = function (e) { this.NumberofClassCalled = 1; var t = { pre: [], post: [], current: [this.BLChatThankYou] }, r = { object: { obj: new ThankYou(e), toReplace: !1, objHtmlId: e + "_thankDiv", isService: !1, array: { UiArray: [], ServiceArray: [] }, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(r) }, BlStaticQues.prototype.hasHtml = function (e) { if (isSet(e)) { var t = e.tmpId; this.getHtml(t), "" !== this.StaticHtml ? this.ifHtmlPresent(e, t) : this.ifHtmlNotPresent(e, t) } }, BlStaticQues.prototype.getHtml = function (e) { if (this.StaticHtml += "<div class='bemt15' id='t" + e + "_isqStatic'>", this.StaticData = { DATA: [] }, StaticQuesForeignUser(e)) { if (ReqObj.Form[e].EnrichmentVal = "", StaticQuesForeignUser(e) && (this.isStaticCalled = !0, "product" === ReqObj.Form[e].modrefType.toLowerCase())) { var t = []; t = ["Unit(s)", "Piece(s)", "Kilogram(s)", "Ton", "Box(es)", "Meter(s)"].concat(["Kilogram", "Nos", "Tons", "20' Container", "40' Container", "Bags", "Bag", "Barrel", "Barrels", "Bottles", "Boxes", "Bushel", "Bushels", "Cartons", "Dozens", "Foot", "Gallon", "Grams", "Hectare", "Kilometer", "Kilowatt", "Litre", "Litres", "Long Ton", "Metric Ton", "Metric Tons", "Ounce", "Packets", "Packs", "Pair", "Pairs", "Piece", "Pound", "Reams", "Rolls", "Sets", "Sheets", "Short Ton", "Square Feet", "Square Meters", "Watt"]); for (var r = [], o = 0; o < t.length; o++)r.push("1"); t.push("Other"), r.push("-99"), this.StaticData = { DATA: [[{ IM_SPEC_MASTER_FULL_DESC: "", IM_SPEC_MASTER_ID: "375782", IM_SPEC_MASTER_TYPE: "1", IM_SPEC_MASTER_DESC: "Quantity", IM_SPEC_OPTIONS_DESC: "None", IM_SPEC_OPTIONS_ID: "3433901" }, { IM_SPEC_MASTER_FULL_DESC: "", IM_SPEC_MASTER_ID: "376269", IM_SPEC_MASTER_TYPE: "3", IM_SPEC_MASTER_DESC: "Quantity Unit", IM_SPEC_OPTIONS_DESC: DataSeparator(t), IM_SPEC_OPTIONS_ID: DataSeparator(r) }]] } } } else ReqObj.Form[e].flags.isEnrichShown.isAttachmentShown || (this.isAttachmentCalled = !0, this.StaticHtml += this.attachFiles(e)), "IN" !== currentISO() || ReqObj.Form[e].flags.isEnrichShown.isStaticShown ? "IN" !== currentISO() && (this.isStaticCalled = !0) : (this.isStaticCalled = !0, this.StaticData = { DATA: [{ IM_SPEC_MASTER_FULL_DESC: "", IM_SPEC_MASTER_ID: "147968", IM_SPEC_MASTER_DESC: "Looking for suppliers", IM_SPEC_MASTER_TYPE: "2", IM_SPEC_OPTIONS_DESC: DataSeparator(["Anywhere in India", "Local Only", "Specific City"]), IM_SPEC_OPTIONS_ID: DataSeparator(["386611", "386612", "386613"]) }] }); ReqObj.Form[e].prevCount = 0, ReqObj.Form[e].stopper = 0, ReqObj.Form[e].stopper = Math.min(3, this.StaticData.DATA.length - ReqObj.Form[e].prevCount) + ReqObj.Form[e].prevCount, ReqObj.Form[e].Isq.CurrentPageQuestions = [], this.TraverseStaticQuestion(e), this.StaticHtml += "</div>" }, BlStaticQues.prototype.ifHtmlPresent = function (e, t) { if (!0 === this.isStaticCalled && (ReqObj.Form[e.tmpId].flags.isEnrichShown.isStaticShown = !0), !0 === this.isAttachmentCalled && (ReqObj.Form[e.tmpId].flags.isEnrichShown.isAttachmentShown = !0), e.that.NumberofClassCalled -= 1, AttachObject(e.object, t), isSet(e.AfterService)) for (var r = 0; r < e.AfterService.length; r++)e.that.MakeSeq(e.AfterService[r], t); 0 === e.that.NumberofClassCalled && makeFinalSeq(e, t) }, BlStaticQues.prototype.ifHtmlNotPresent = function (e, t) { e.hasFallback && CreateSeq(e.FallbackObj) }, BlStaticQues.prototype.TraverseStaticQuestion = function (e) { for (var t = [], r = [], o = [], i = ReqObj.Form[e].prevCount; i < ReqObj.Form[e].stopper; i++)ReqObj.Form[e].Isq.Question = [], ReqObj.Form[e].toGetCurrentPagestring = !0, FindIsqObject(this.StaticData.DATA[i], e, 0, !1, t), FindIsqObjectQuestions(this.StaticData.DATA[i], e, 0, !1, r), o.push(ReqObj.Form[e].Isq.Question); ReqObj.Form[e].Isq.CurrentPageQuestions.push(o), ReqObj.Form[e].prevCount = ReqObj.Form[e].stopper; var a = { SuffixOuterHtml: "", SuffixClosingHtml: "", suffix: "" }; this.StaticHtml += MakeWrapper(t, e, a, "") }, BlStaticQues.prototype.displayHtml = function (e) { return isOtherEnq(e) && (ReqObj.Form[e].calledClassName[ReqObj.Form[e].FormSequence.StepCounter] = this.className), [this.StaticHtml] }, BlStaticQues.prototype.attachFiles = function (e) { for (var t = '<div><ul class="be-att">', r = "", o = "", i = "", a = 1; a < 5; a++)!0 === ReqObj.Form[e].flags.isDescDivShown ? (i = 1 === a ? '<li class="attch_add"' : '<li class="attch_add bedsnone"', r = 1 === a ? 'style="clear:both;border-top:1px solid #dfd8d8"' : 'style="border-left:0px;border-top:1px solid #dfd8d8"') : (i = 1 === a ? '<li class="attch_add"' : '<li class="attch_add bedsnone"', r = 1 === a ? 'style="clear:both;"' : 'style="border-left:0px"'), a < 4 && (o = '<div id="t' + e + "attachaddmore" + a + '" class="add_More bedsnone">+</div>'), t += i + 'id="t' + e + "attachment_div_" + a + '"' + r + ">" + o + '<a href="#" id="t' + e + "add_attachment_" + a + '" class="att Be9"><div class="Be10">Attach Files</div></a><div class="posi flt-rgt pdz bedsnone" id="t' + e + "upload_indicator_" + a + '"><img src=""></div><a href="#" id="t' + e + "file_attached_" + a + '" class="att2 Be11 bedsnone" target="_blank"></a><div id="t' + e + "remove_attachment_" + a + '" class="blnewform_sprit Be12 bedsnone"></div><div class="attch_add bedsnone" style="height:150px;"><iframe id="t' + e + "add_attach_iframe_" + a + '" name="t' + e + "add_attach_iframe_" + a + '" style="width:100%;height:80px;" border="0" framespacing="0" allowtransparency="true"></iframe><input type="file" id="t' + e + "input_attach_" + a + '" style="height: 0px; width: 0px;visibility: hidden;" name="image"><input type="hidden" id="t' + e + "attachment_file_name_" + a + '"><input type="hidden" id="t' + e + "type_" + a + '"><input type="hidden" name="t' + e + "attachment_path_" + a + '" value="" id="t' + e + "attachment_path_" + a + '"><input type="hidden" name="t' + e + "attachment_file_name_" + a + '" value="" id="t' + e + "attachment_file_name_" + a + '"><input type="hidden" name="success-url" value= "$server_name/eto-upload-attachment.mp" id="t' + e + "success_url_" + a + '"><input type="hidden" name="failure-url" value="$server_name/eto-upload-attachment.mp" id="t' + e + "failure_url_" + a + '"><input type="hidden" name="t' + e + "img_small_ori_" + a + '" value="" id="t' + e + "img_small_ori_" + a + '"><input type="hidden" name="t' + e + "myfile_doc_" + a + '" value="" id="t' + e + "myfile_doc_" + a + '"></li>'; return t += "</ul></div>" }, BlStaticQues.prototype.SaveDetails = function (e) { SaveIsq(e, "static", 0), $("#spcity").length > 0 && (ReqObj.Form[e].Static.enrichCity1 = $("#t" + e + "_enrich_city1").val(), ReqObj.Form[e].Static.enrichCity2 = $("#t" + e + "_enrich_city2").val(), ReqObj.Form[e].Static.enrichCity3 = $("#t" + e + "_enrich_city3").val(), ReqObj.Form[e].Static.enrichCity1id = $("#t" + e + "_enrich_city1specificcity_hidden").val(), ReqObj.Form[e].Static.enrichCity2id = $("#t" + e + "_enrich_city2specificcity_hidden").val(), ReqObj.Form[e].Static.enrichCity3id = $("#t" + e + "_enrich_city3specificcity_hidden").val()); for (var t = 1; t < 5; t++)$("#t" + e + "file_attached_" + t).length > 0 ? (ReqObj.Form[e].Static["img_small_ori_" + t] = $("#t" + e + "img_small_ori_" + t).val(), ReqObj.Form[e].Static["myfile_doc_" + t] = $("#t" + e + "myfile_doc_" + t).val()) : (ReqObj.Form[e].Static["img_small_ori_" + t] = "", ReqObj.Form[e].Static["myfile_doc_" + t] = "") }, BlStaticQues.prototype.onSubmit = function (e) { var t = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", r = PreAjax("BlStaticQues", e), o = ""; o = IsChatbl(e) ? "BL" : ReqObj.Form[e].formType; var i = { enrichDesc: "" }; if (isSet(ReqObj.Form[e].Static.optionsValue) && ReqObj.Form[e].Static.optionsValue.length > 0 && isSet(ReqObj.Form[e].Static.questionsDesc)) for (var a = 0; a < ReqObj.Form[e].Static.questionsDesc.length; a++)"Looking for suppliers" === ReqObj.Form[e].Static.questionsDesc[a] && (i.prefered_suppliers_location = ReqObj.Form[e].Static.optionsValue[a], isSet(ReqObj.Form[e].Static.optionsValue[a]) && "specific city" === trimVal(ReqObj.Form[e].Static.optionsValue[a].toLowerCase()) && (i.enrichCity1 = ReqObj.Form[e].Static.enrichCity1, i.enrichCity2 = ReqObj.Form[e].Static.enrichCity2, i.enrichCity3 = ReqObj.Form[e].Static.enrichCity3, i.enrichCity1id = ReqObj.Form[e].Static.enrichCity1id, i.enrichCity2id = ReqObj.Form[e].Static.enrichCity2id, i.enrichCity3id = ReqObj.Form[e].Static.enrichCity3id)), StaticQuesForeignUser(e) && ("quantity" !== ReqObj.Form[e].Static.questionsDesc[a].toLowerCase() && "quantity unit" !== ReqObj.Form[e].Static.questionsDesc[a].toLowerCase() || ("quantity" === ReqObj.Form[e].Static.questionsDesc[a].toLowerCase() ? i.enrichDesc += ReqObj.Form[e].Static.questionsDesc[a] + ": " + ReqObj.Form[e].Static.optionsValue[a] + " " : "quantity unit" === ReqObj.Form[e].Static.questionsDesc[a].toLowerCase() && (i.enrichDesc += ReqObj.Form[e].Static.optionsValue[a]))); for (a = 1; a < 5; a++)i["img_small_ori_" + a] = ReqObj.Form[e].Static["img_small_ori_" + a], i["myfile_doc_" + a] = ReqObj.Form[e].Static["myfile_doc_" + a]; "" === ReqObj.Form[e].ReqDtlBox && (i.enrichDesc = trimVal(i.enrichDesc), isSet(i.enrichDesc) && "" !== i.enrichDesc && (i.enrichDesc = "," === i.enrichDesc[i.enrichDesc.length - 1] ? i.enrichDesc.slice(0, -1) : i.enrichDesc)), ReqObj.Form[e].EnrichmentVal = i.enrichDesc, isSet(ReqObj.Form[e].ReqDtlBox) && ("" !== ReqObj.Form[e].ReqDtlBox ? isSet(i.enrichDesc) && "" !== i.enrichDesc ? i.enrichDesc = ReqObj.Form[e].ReqDtlBox + ", " + i.enrichDesc : i.enrichDesc = ReqObj.Form[e].ReqDtlBox : i.enrichDesc = i.enrichDesc), "enq" === ReqObj.Form[e].formType.toLowerCase() && (i.r_glusrid = ReqObj.Form[e].rcvGlid, i.q_dest = ReqObj.Form[e].query_destination), isObjectEmpty(i) && ValidGenId(ReqObj.Form[e].generationId) ? (i.modid = ReqObj.Form[e].modId, i.offer_id = ReqObj.Form[e].generationId, i.s_glusrid = usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "glid"), i.blEnqFlag = o, i.updatevalue = "updatevalue", $.ajax({ cache: !1, url: appsServerName + "index.php?r=Newreqform/saveEnrichment", type: "GET", timeout: 3e3, dataType: "json", crossOrigin: !0, crossDomain: !0, data: i, success: function (o) { isSet(o) ? 200 === parseInt(o.CODE) ? (blenqGATracking(t, "service:saveEnrichment:success", getEventLabel(), 1, e), PostAjax(r, e)) : blenqGATracking(t, "service:saveEnrichment:failure", o, 1, e) : (blenqGATracking(t, "service:saveEnrichment:failure", "response undefined", 1, e), Ajaxfailure(r, e)) }, error: function (o) { o = isSet(o) ? JSON.stringify(o) : "response undefined", blenqGATracking(t, "service:saveEnrichment:failure", o, 1, e), Ajaxfailure(r, e) } })) : PostAjax(r, e) }, BlStaticQues.prototype.GetDetail = function (e) { }, BlStaticQues.prototype.displayAnswer = function (e) { var t = chatBlClass(e, "right"), r = "inline" === chatBlPopupInline(e) ? "message-right" : "popup" === chatBlPopupInline(e) ? "message-right1" : ""; return [ConversationRightWrapper(e, GetAnswer(e, "static"), { classtotest: t, leftright: r })] }, BlStaticQues.prototype.defaultEventsForAttach = function (e) { RadioClick(e); for (var t = 1; t < 5; t++)$("#t" + e + "add_attachment_" + t).on("click", { tmpId: e, loop: t }, this.openWin), $("#t" + e + "input_attach_" + t).on("change", { tmpId: e, loop: t, modId: ReqObj.Form[e].modId, that: this }, this.uploadFile), $("#t" + e + "attachaddmore" + t).on("click", { tmpId: e, todo: "addMoreAttachments", loop: t }, this.handleUI), $("#t" + e + "remove_attachment_" + t).on("click", { tmpId: e, loop: t, that: this }, this.deleteFile) }, BlStaticQues.prototype.openWin = function (e) { var t = e.data.tmpId, r = e.data.loop; $("#t" + t + "input_attach_" + r).val(null), $("#t" + t + "input_attach_" + r).click() }, BlStaticQues.prototype.getData = function (e, t, r, o) { if (null === $("#t" + e + "input_attach_" + t).val()) return ""; if (isSet(o)) { var i = 0, a = $("#t" + e + "input_attach_" + t)[0]; o.file = a.files[0]; var s = new FormData; s.append("IMAGE", o.file); var n = o.file.name; n = n.replace(/\'+/g, "_"); var l, c = 0, m = ""; if (/\//.test(n)) c = (l = n.split("/"))[l.length - 1]; else c = (l = n.split("\\"))[l.length - 1]; (m = (m = c.replace(/\\s+/g, "-")).toLowerCase()).indexOf("\\") > -1 && (m = m.replace(/\\/g, "/")), m.indexOf(" ") > -1 && (m = m.replace(/ /g, "-")); var u = m.substr(m.lastIndexOf("/") + 1); $("#t" + e + "attachment_file_name_" + t).value = u, u.length > 65 && (i = 1, alert("Filename cannot have more than 65 characters")), u.split(".").length > 2 && (i = 1, alert("Filename cannot contain dot(.)")), u.lastIndexOf(" ") > -1 && (i = 1, alert("Filename can contain only alphabets (a-z A-Z) , numbers (0-9) , underscore (_) or hiphen (-)")); var p = m.substr(m.indexOf("."), m.length); return ".jpg" === (p = p.toLowerCase()) || ".gif" === p || ".png" === p || ".jpeg" === p ? $("#t" + e + "type_" + t).val("default") : ".pdf" === p || ".doc" === p || ".docx" === p || ".xls" === p || ".xlsx" === p || ".txt" === p || ".rtf" === p || ".ppt" === p || ".pptx" === p ? $("#t" + e + "type_" + t).val("doc") : (i = 1, alert("Attachment can be either of jpg / gif / png / pdf / doc / docx / xls / xlsx / txt / rtf / ppt / pptx file extensions only")), $("#t" + e + "upload_indicator_" + t).removeClass("bedsnone"), s.append("MODID", r), s.append("USR_ID", usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "glid")), s.append("IMAGE_TYPE", "Rfq"), s.append("UPLOADED_BY", "User"), 1 !== i && s } }, BlStaticQues.prototype.defaultEvents = function (e) { this.defaultEventsForAttach(e), SelectBoxEvents(), InputBoxEvents(), CheckBoxClick(e), $(document).on("hover", ".info_iconeqbl", function () { $(this).children(".full_desc").removeClass("bedsnone") }), $(document).on("mouseout", ".info_iconeqbl", function () { $(this).children(".full_desc").addClass("bedsnone") }), RadioClick(e), $(".t" + e + "other_radiotemp").off("click").on("click", function (t) { $(this).hasClass("t" + e + "be-radioboxtemp") && $(this).siblings().each(function () { if ("block" === $(this).parent().css("display")) { var e = $(this); e.children("input").prop("checked", !1), e.children("input").removeClass("waschecked"), e.removeClass("sl-box chksl"), e.children().children(".bechk-in").children().hide() } }) }), get_buyer_info(e), "" !== usercookie.getCookie("ImeshVisitor") && $("#t" + e + "_leftR").removeClass("lftMgn") }, BlStaticQues.prototype.EventIfScreenPresent = function (e) { isOtherEnq(e) && (this.handleHeading(e), ButtonNameUI("isq", e)) }, BlStaticQues.prototype.handleHeading = function (e) { "image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || 0 !== ReqObj.Form[e].FormSequence.StepCounter ? $("#t" + e + "_hdg").removeClass("bedsnone").html(getFormHeading(e, ReqObj.Form[e].currentScreen)) : $("#t" + e + "_hdg").addClass("bedsnone").html(""), ButtonNameUI("staticques", e) }, BlStaticQues.prototype.handleButton = function (e) { ButtonNameUI(ReqObj.Form[e].currentScreen, e) }, BlStaticQues.prototype.validate = function (e) { return ValidateQuestions(e, !0, 0) }, BlStaticQues.prototype.uploadFile = function (e) { var t = e.data.tmpId, r = e.data.loop, o = e.data.modId, i = e.data.that, a = i.getData(t, r, o, i); if ("" !== a && !1 !== a) { var s = ""; s = "https://uploading.imimg.com/uploadimage", isObjectEmpty(a) && ValidGenId(ReqObj.Form[t].generationId) && $.ajax({ url: s, type: "POST", data: a, processData: !1, contentType: !1, success: function (e) { if (isSet(e)) { if (200 !== parseInt(e.Code)) return alert(e.Reason), i.handleUI({ data: { todo: "uploadFailure", tmpId: t, loop: r } }), !1; i.uploadfiles++; var o = e.Data.AwsPath.Image_Original_Path, a = i.file.name, s = o.substring(o.lastIndexOf("/") + 1); if ("Success" !== e.Status) return alert(e.Reason), i.handleUI({ data: { todo: "uploadFailure", tmpId: t, loop: r } }), !1; $("#t" + t + "file_attached_" + r).attr("href", o), $("#t" + t + "file_attached_" + r).html(a), $("#t" + t + "attachment_path_" + r).val(o), $("#t" + t + "attachment_file_name_" + r).val(s), "default" === $("#t" + t + "type_" + r).val() ? $("#t" + t + "img_small_ori_" + r).val(o) : $("#t" + t + "myfile_doc_" + r).val(o), i.handleUI({ data: { todo: "uploadSuccess", tmpId: t, loop: r } }) } }, error: function () { return alert("File is not uploaded.Please try again..."), i.handleUI("uploadFailure", t, r), !1 } }) } }, BlStaticQues.prototype.handleUI = function (e) { var t = e.data.todo, r = e.data.tmpId, o = e.data.loop; ("uploadSuccess" === t && ($("#t" + r + "remove_attachment_" + o).removeClass("bedsnone"), $("#t" + r + "add_attachment_" + o).addClass("bedsnone"), $("#t" + r + "upload_indicator_" + o).addClass("bedsnone"), $("#t" + r + "file_attached_" + o).removeClass("bedsnone"), $("#t" + r + "attachaddmore" + o).removeClass("bedsnone")), "uploadFailure" === t && $("#t" + r + "upload_indicator_" + o).addClass("bedsnone"), "addMoreAttachments" === t) && ($("#t" + r + "attachment_div_" + (o + 1)).removeClass("bedsnone"), $("#t" + r + "attachaddmore" + o).addClass("bedsnone")); "deleteFile" === t && ($("#t" + r + "addmore_attachment" + o).addClass("bedsnone"), $("#t" + r + "file_attached_" + o).attr("href", ""), $("#t" + r + "file_attached_" + o).html(""), $("#t" + r + "file_attached_" + o).addClass("bedsnone"), $("#t" + r + "attachment_path_" + o).val(""), $("#t" + r + "attachment_file_name_" + o).val(""), $("#t" + r + "remove_attachment_" + o).addClass("bedsnone"), $("#t" + r + "add_attachment_" + o).removeClass("bedsnone"), $("#t" + r + "upload_indicator_" + o).removeClass("bedsnone"), $("#t" + r + "attachaddmore" + o).addClass("bedsnone"), $("#t" + r + "img_small_ori_" + o).val(""), $("#t" + r + "myfile_doc_" + o).val("")) }, BlStaticQues.prototype.deleteFile = function (e) { var t = e.data.tmpId, r = e.data.loop, o = e.data.that; $.ajax({ url: appsServerName + "index.php?r=enrichform/DeleteAttachment", data: { file: $("#t" + t + "attachment_file_name_" + r).val() }, dataType: "json", type: "GET", success: function (e) { isSet(e) && o.handleUI({ data: { tmpId: t, loop: r, todo: "deleteFile" } }) }, error: function (e) { } }) }, FormSeq.prototype.BLinline = function (e) { this.NumberofClassCalled = 3, ReqObj.Form[e].IsqStep1 = ReturnCorrectVal(ReqObj.Form[e].IsqStep1, 3), ReqObj.Form[e].IsqStepN = ReturnCorrectVal(ReqObj.Form[e].IsqStepN, 2), updateEnrichShownKey(e, !1, !1); var t = { UiArray: this.arraySeq, ServiceArray: this.ServiceSequence }, r = { pre: [], post: [] }; if (ShowProdName(e)) { usercookie.getCookie("ImeshVisitor") && (r = { pre: [], post: [this.InlineOpenForm, this.SubsequentStep] }), this.NumberofClassCalled += 1; var o = { object: { obj: new ProductName(e), toReplace: !0, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(o), r = { pre: [], post: [] } } else r = { pre: [this.InlineOpenForm, this.SubsequentStep], post: [] }; if (usercookie.getCookie("ImeshVisitor")) this.NumberofClassCalled -= 1, $("#t" + e + "_byrinfoIn").html(get_buyer_info(e)).removeClass("bedsnone"), ShowProdName(e) || (r = { pre: [this.InlineOpenForm, this.SubsequentStep], post: [] }); else { r = { pre: [], post: [this.InlineOpenForm, this.SubsequentStep] }; var i = { object: { obj: new UserLogin(e), toReplace: !0, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(i), r = { pre: [], post: [] } } var a = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if (this.MakeSeq(a), ShowNameField(e)) { r = { pre: [], post: [] }; var s = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null, nextStep: ReqObj.Form[e].SubsequentStep }, n = "IN" === currentISO(), l = { object: { obj: new ContactDetail(1, 0, 0), toReplace: !1, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [s], hasFallback: !1, FallbackObj: null, nonMandatory: { name: n } }; this.MakeSeq(l) } else this.NumberofClassCalled -= 1; if ("04" !== e.substring(0, 2) || 1 !== parseInt(ReqObj.Form[e].disableRd)) { r = { pre: [], post: [] }; var c = { object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if (ShowIsq(e)) CreateSeq({ object: { obj: ReqObj.Form[e].GlobalIsqObject, array: t, hooks: r, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !0, FallbackObj: c }); else ShowReqBox(e) ? CreateSeq(c) : (this.NumberofClassCalled -= 1, this.FullServiceArray.push(t.ServiceArray), ReqObj.Form[e].UiArray.push(t.UiArray), this.getStep(e)) } else this.NumberofClassCalled -= 1, this.FullServiceArray.push(t.ServiceArray), ReqObj.Form[e].UiArray.push(t.UiArray), this.getStep(e) }, FormSeq.prototype.BLpopup = function (e) { updateEnrichShownKey(e, !1, !1), ReqObj.Form[e].IsqStep1 = ReturnCorrectVal(ReqObj.Form[e].IsqStep1, 3), ReqObj.Form[e].IsqStepN = ReturnCorrectVal(ReqObj.Form[e].IsqStepN, 2); var t = { pre: [], post: [] }, r = { UiArray: this.arraySeq, ServiceArray: this.ServiceSequence }; if (usercookie.getCookie("ImeshVisitor")) if (isSecondBl() && ShowOtp()) { this.NumberofClassCalled = 1, t.pre = [], t.post = [], CreateSeq({ object: { obj: new UserVerification(e), toReplace: !0, objHtmlId: e + "_otpbox", isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }), t.pre = [], t.post = [this.SubsequentStep]; l = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(l) } else { if ($("#t" + e + "_byrinfo").html(get_buyer_info(e)).removeClass("bedsnone"), this.NumberofClassCalled = 2, ShowProdName(e)) { this.NumberofClassCalled += 1, t = { pre: [], post: [this.SubsequentStep] }; s = { object: { obj: new ProductName(e), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(s), t = { pre: [], post: [] } } else t = { pre: [this.SubsequentStep], post: [] }; l = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(l); c = currentISO(); if (usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn") || "IN" === c) this.NumberofClassCalled -= 1; else { t = { pre: [], post: [] }; m = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }, u = { object: { obj: new ContactDetail(1, 0, 0), toReplace: !1, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [m], hasFallback: !1, FallbackObj: null }; this.MakeSeq(u) } if (ShowIsq(e)) { t.pre = [], t.post = []; var o = { object: { obj: new RequirementDtl(e), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; CreateSeq({ object: { obj: ReqObj.Form[e].GlobalIsqObject, array: r, hooks: t, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !0, FallbackObj: o }) } else if (ShowStaticQuestionForeign(e)) if (returnIsEnrichShownKeyVal(e) || !ReqObj.Form[e].flags.isDescDivShown) { var i = { pre: [this.OnCloseSeq], post: [] }; t = { pre: [], post: [] }; if (returnIsEnrichShownKeyVal(e) && !ReqObj.Form[e].flags.isDescDivShown && (this.NumberofClassCalled += 1), returnIsEnrichShownKeyVal(e) && "bl" === ReqObj.Form[e].formType.toLowerCase()) { var a = { obj: new BlStaticQues(e), toReplace: !0, isService: !1, array: r }; 1 === this.NumberofClassCalled ? a.hooks = i : 2 === this.NumberofClassCalled && (a.hooks = t), CreateSeq({ object: a, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) } if (!ReqObj.Form[e].flags.isDescDivShown) t.pre = [this.OnCloseSeq], t.post = [], CreateSeq(o = { object: { obj: new RequirementDtl(e, "isq"), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !0, FallbackObj: { object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1 }, nextStep: ReqObj.Form[e].NextStep }) } else this.OnCloseSeq(e); else if (ShowReqBox(e)) { CreateSeq(o = { object: { obj: new RequirementDtl(e), toReplace: !1, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) } } else { if (this.NumberofClassCalled = 2, ShowProdName(e)) { this.NumberofClassCalled += 1, t = { pre: [], post: [] }; var s = { object: { obj: new ProductName(e), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(s) } t = { pre: [], post: [this.SubsequentStep] }; var n = { object: { obj: new UserLogin(e), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(n), t = { pre: [], post: [] }; var l = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(l); var c = currentISO(); if (usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn") || "IN" === c) this.NumberofClassCalled -= 1, this.FullServiceArray.push(r.ServiceArray), ReqObj.Form[e].UiArray.push(r.UiArray), this.getStep(e); else { t = { pre: [], post: [] }; var m = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }, u = { object: { obj: new ContactDetail(1, 0, 0), toReplace: !1, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [m], hasFallback: !1, FallbackObj: null }; this.MakeSeq(u) } } }, ContactDetail.prototype.getClassCount = function (e) { $.isEmptyObject(ReqObj.Form[e].ContactDetail) ? this.classCount = 1 : this.classCount = returnObjectSize(ReqObj.Form[e].ContactDetail) + 1 }, ContactDetail.prototype.returnKey = function (e) { var t = ""; return 1 === this.name && 0 === this.email && 0 === this.city && (t = "Name"), 0 === this.name && 1 === this.email && 0 === this.city && (t = "IN" === currentISO() ? "Email" : "Mobile"), 0 === this.name && 0 === this.email && 1 === this.city && (t = "City"), t }, ContactDetail.prototype.displayAnswer = function (e) { var t = this.returnKey(e), r = ""; 1 === this.name && 0 === this.email && 0 === this.city && (r = ReturnBlUserName(e)); var o = chatBlClass(e, "right"), i = "inline" === chatBlPopupInline(e) ? "message-right" : "popup" === chatBlPopupInline(e) ? "cbl_ansr" : ""; return [ConversationRightWrapper(e, returnAnswer(e, t), { classtotest: o, leftright: i }), r] }, ContactDetail.prototype.SaveDetails = function (e, t) { IsChatbl(e) && (ReqObj.Form[e].UserInputs.Name = $("#t" + e + "_q_first_nm" + this.classCount).val(), ReqObj.Form[e].UserInputs.Mobile = $("#t" + e + "_q_mobile_f" + this.classCount).val(), ReqObj.Form[e].UserInputs.Email = $("#t" + e + "_q_email_in" + this.classCount).val(), ReqObj.Form[e].UserInputs.City = isSet(ReqObj.Form[e].UserInputs.City) && "" !== ReqObj.Form[e].UserInputs.City ? ReqObj.Form[e].UserInputs.City : $("#t" + e + "_q_city_oth" + this.classCount).val()) }, ContactDetail.prototype.displayHtml = function (e) { return this.templateId = e, "09" === e.substring(0, 2) ? 1 === this.name && 1 === this.email && 1 === this.city && (ReqObj.Form[e].flags.isNECShown = !0) : 1 === this.name && 1 === this.email && 1 === this.city ? ReqObj.Form[e].flags.isNECShown = !0 : ReqObj.Form[e].flags.isNECShown = !1, "popup" === chatBlPopupInline(e) ? [this.contactdetailLabelhtml, this.contactdetailInputhtml] : (isOtherEnq(e) && (ReqObj.Form[e].calledClassName[ReqObj.Form[e].FormSequence.StepCounter] = this.className), [this.contactdetailhtml]) }, ContactDetail.prototype.addHtmlObjToArray = function (e) { isSet(e) && this.ContactDetailHtmlObjArray.push([e]) }, ContactDetail.prototype.getContactDetailHtml = function (e) { var t = currentISO(); if (this.imeshCookie && 1 === this.name && 1 === this.email && 1 === this.city ? ("" === this.setName && this.addHtmlObjToArray(this.showName(e)), ("" === this.setEmail && "IN" === t || "" === this.setMobile && "IN" !== t && !0 === ReqObj.Form[e].OnCloseStep) && this.addHtmlObjToArray(this.showEmailOrMobile(e)), (isSet(t) && "IN" === t || "IN" === this.usercountry) && "" === this.setCity && this.addHtmlObjToArray(this.showCity(e))) : 1 === this.name && 0 === this.email && 0 === this.city ? "" === this.setName && this.addHtmlObjToArray(this.showName(e)) : 1 === this.email && 0 === this.name && 0 === this.city ? this.addHtmlObjToArray(this.showEmailOrMobile(e)) : 0 === this.email && 0 === this.name && 1 === this.city && "IN" === t && this.addHtmlObjToArray(this.showCity(e)), this.ContactDetailHtmlObjArray.length > 0) { if ("popup" !== chatBlPopupInline(e)) var r = isFirstImgVidCTA(e) ? "" : "beW5", o = { SuffixOuterHtml: "<div class='belft beW11' id='t" + e + "_contactinfo" + this.classCount + "'> <div id='t" + e + "_idcontactscreen" + this.classCount + "' class='" + r + "'>", SuffixClosingHtml: "</div></div > ", suffix: "_contactinfo", isPhone: this.phonecalled }, i = MakeWrapper(this.ContactDetailHtmlObjArray, e, o, ""); else { o = { SuffixOuterHtml: "<div class='cbl_ques cbl_vh' id='t" + e + "_contactinfo" + this.classCount + "'> <div id='t" + e + "_idcontactscreen" + this.classCount + "' class='beW5 '>", SuffixClosingHtml: "</div></div > ", suffix: "_contactinfo" }; this.contactdetailLabelhtml = MakeWrapper(this.ContactDetailHtmlObjArray, e, o, "ques"); o = { SuffixOuterHtml: "<div class='t" + e + "_userInput dn' id='t" + e + "_contactinfo" + this.classCount + "'> <div id='t" + e + "_idcontactscreen" + this.classCount + "' class='beW5 cbl_dtls cbl_name cbl_df cbl_w1'>", SuffixClosingHtml: "</div></div > ", suffix: "_contactinfo" }; this.contactdetailInputhtml = MakeWrapper(this.ContactDetailHtmlObjArray, e, o, "input"); i = this.contactdetailLabelhtml + this.contactdetailInputhtml } return ReqObj.Form[e].ContactDetail[this.classCount] = i, i } return "" }, ContactDetail.prototype.hasHtml = function (e) { if (isSet(e)) { var t = e.tmpId; this.getClassCount(t), this.nonMandatory = void 0 !== e.nonMandatory ? e.nonMandatory : "", this.captureDetails(t), this.cookies(t), this.contactdetailhtml = this.getContactDetailHtml(t), e.that.NumberofClassCalled -= 1, "" !== this.contactdetailhtml ? this.ifHtmlPresent(e, t) : this.ifHtmlNotPresent(e, t) } }, ContactDetail.prototype.ifHtmlPresent = function (e, t) { if (AttachObject(e.object, t), isSet(e.AfterService)) for (var r = 0; r < e.AfterService.length; r++)e.that.MakeSeq(e.AfterService[r], t); 0 === e.that.NumberofClassCalled && makeFinalSeq(e, t) }, ContactDetail.prototype.ifHtmlNotPresent = function (e, t) { e.hasFallback && CreateSeq(e.FallbackObj) }, ContactDetail.prototype.defaultEvents = function (e) { "-126" === ReqObj.Form[e].afflId && $("#t" + e + "_q_first_nm").attr("placeholder", "Enter your name"), this.handleUI({ data: { obj: this, todo: "nameUI", tmpId: e } }), this.handleUI({ data: { obj: this, todo: "default", tmpId: e } }), !0 === ReqObj.Form[e].OnCloseStep && this.handleUI({ data: { obj: this, todo: "cityOthers", tmpId: e } }), IsChatbl(e) && this.handleUI({ data: { obj: this, todo: "focus", tmpId: e } }), this.handleEvents(this, e), isOtherEnq(e) && NEC() && $("#t" + e + "_hdg").addClass("ln26"), "" !== usercookie.getCookie("ImeshVisitor") && $("#t" + e + "_leftR").removeClass("lftMgn"), get_buyer_info(e) }, ContactDetail.prototype.validate = function (e) { return this.classCount = returnObjectSize(ReqObj.Form[e].ContactDetail), this.cookies(e), this.captureDetails(e), this.validateUserDetails(e) }, ContactDetail.prototype.onSubmit = function (e) { var t = PreAjax("ContactDetail", e); this.sendRequest(t, e) }, ContactDetail.prototype.cookies = function (e) { this.imeshCookie = usercookie.getCookie("ImeshVisitor"), this.iplocCookie = usercookie.getCookie("iploc"), this.geoip_country_iso = usercookie.getParameterValue(this.iplocCookie, "gcniso"), "" !== this.imeshCookie && (this.setName = ReqObj.UserDetail.fn, this.setEmail = ReqObj.UserDetail.em, this.setCity = "" !== ReqObj.UserDetail.ctid ? ReqObj.UserDetail.ctid : "" !== ReqObj.UserDetail.cityname ? ReqObj.UserDetail.cityname : "" !== ReqObj.UserDetail.ctoth ? ReqObj.UserDetail.ctoth : "", this.setMobile = ReqObj.UserDetail.mb1, this.usercountry = usercookie.getParameterValue(this.imeshCookie, "iso")) }, ContactDetail.prototype.captureDetails = function (e) { if ("IN" === currentISO()) { var t = $("#t" + e + "_q_email_in" + this.classCount).length > 0 ? $("#t" + e + "_q_email_in" + this.classCount).val() : ReqObj.UserDetail.em; ReqObj.UserDetail.em = ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "em"), t), void 0 === ReqObj.UserDetail.em && (ReqObj.UserDetail.em = "") } else { var r = $("#t" + e + "_q_mobile_f" + this.classCount).length > 0 ? $("#t" + e + "_q_mobile_f" + this.classCount).val() : ReqObj.UserDetail.mb1; ReqObj.UserDetail.mb1 = ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "mb1"), r), void 0 === ReqObj.UserDetail.mb1 && (ReqObj.UserDetail.mb1 = "") } var o = $("#t" + e + "_q_first_nm" + this.classCount).length > 0 ? $("#t" + e + "_q_first_nm" + this.classCount).val() : ReqObj.UserDetail.fn; ReqObj.UserDetail.fn = ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn"), o), void 0 === ReqObj.UserDetail.fn && (ReqObj.UserDetail.fn = ""); var i = $("#t" + e + "city_id_sugg" + this.classCount).length > 0 ? $("#t" + e + "city_id_sugg" + this.classCount).val() : ReqObj.UserDetail.ctid; ReqObj.UserDetail.ctid = ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "ctid"), i), void 0 === ReqObj.UserDetail.ctid && (ReqObj.UserDetail.ctid = ""), ReqObj.UserDetail.cityname = $("#t" + e + "_q_city_oth" + this.classCount).length > 0 ? $("#t" + e + "_q_city_oth" + this.classCount).val() : ReqObj.UserDetail.cityname, void 0 === ReqObj.UserDetail.cityname && (ReqObj.UserDetail.cityname = ""), ReqObj.UserDetail.ctoth = "" === ReqObj.UserDetail.ctid ? ReqObj.UserDetail.cityname : "" }, ContactDetail.prototype.toUpdate = function (e) { return !!usercookie.getCookie("ImeshVisitor") }, ContactDetail.prototype.returnSubmitChatBl = function (e) { if ("popup" === chatBlPopupInline(e)) return ""; var t = t = returnContainer("", "", "chat-arrow", "", ""), r = ""; return r += returnButton("t" + e, "_submit", t += "</div>", "inline" === chatBlPopupInline(e) ? "chat-arowicon1" : "") }, ContactDetail.prototype.showName = function (e) { var t = ReqObj.Form[e].formType.toLowerCase(); return this.getLabelName(e, t), this.getInputName(e, t), this.ContactDetailHtmlNameObj.OuterWrapper = (IsChatbl(e), ""), this.ContactDetailHtmlNameObj.ClosingWrapper = (IsChatbl(e), ""), this.ContactDetailHtmlNameObj }, ContactDetail.prototype.getLabelName = function (e, t) { var r = returnSpan("t" + e, "login_span_bold" + this.classCount, "Name", "befwt"), o = IsChatbl(e) ? "Please tell us your " + r : "Name", i = IsChatbl(e) ? "" : "be-lbl", a = returnLabel("t" + e, o, "_name-lb" + this.classCount, i); this.ContactDetailHtmlNameObj.Label = a }, ContactDetail.prototype.getInputName = function (e, t) { var r = IsChatbl(e) ? "popup" === chatBlPopupInline(e) ? " Enter your Name" : "" : "Enter your name"; (isOtherEnq(e) && "09" === e.substring(0, 2) || isOtherEnq(e) && "09" !== e.substring(0, 2) && ReqObj.Form[e].FormSequence.StepCounter > 0) && (r = ""); var o = IsChatbl(e) ? "blchat-inpt" : "be-slbox inpt_errorbx", i = (IsChatbl(e), ""); isOtherEnq(e) && (o += " inPlace"); var a = ""; (a += returnInput("t" + e, "_q_first_nm_hidden" + this.classCount, "hidden", " ", " ", " ", " ", " ", " "), a += returnInput("t" + e, "_q_first_nm" + this.classCount, "text", "q_first_nm", r, o, i, " ", " "), IsChatbl(e)) ? (a += this.returnSubmitChatBl(e), a += this.getChatblNameErrorDiv(e)) : a += this.getNameErrorDiv(e); this.ContactDetailHtmlNameObj.UserInput = a }, ContactDetail.prototype.getNameErrorDiv = function (e) { var t = ""; return t = isOtherEnq(e) && "09" === e.substring(0, 2) || isOtherEnq(e) && ReqObj.Form[e].FormSequence.StepCounter > 0 ? t + returnContainer("t" + e, "_error_first_name" + this.classCount, "be-erbx beerrp bedsnone", "", "") : t + returnContainer("t" + e, "_error_first_name" + this.classCount, "beerrp1 be-erbx bedsnone", "", ""), t += returnContainer("t" + e, "_fname_errmsg" + this.classCount, "", "content", ""), t += "</div >", t = isOtherEnq(e) && "09" === e.substring(0, 2) || isOtherEnq(e) && ReqObj.Form[e].FormSequence.StepCounter > 0 ? t : t + '<a class="be-erarw" data-role="arrow"></a>', t += "</div >" }, ContactDetail.prototype.getChatblNameErrorDiv = function (e) { var t = ""; return t += returnContainer("t" + e, "_error_first_name" + this.classCount, "redc bltperor", "", ""), t += returnContainer("t" + e, "_fname_errmsg" + this.classCount, "", "content", ""), t += "</div >", t += "</div>" }, ContactDetail.prototype.showEmailOrMobile = function (e) { var t = currentISO(), r = ReqObj.Form[e].formType.toLowerCase(); return this.getLabelEmailMobile(e, r, t), this.getInputEmailMobile(e, r, t), this.ContactDetailHtmlEmailObj.OuterWrapper = (IsChatbl(e), ""), this.ContactDetailHtmlEmailObj.ClosingWrapper = (IsChatbl(e), ""), this.ContactDetailHtmlEmailObj }, ContactDetail.prototype.getLabelEmailMobile = function (e, t, r) { var o = ""; o = "IN" === r ? "Email" : "IN" === currentISO() || "09" !== e.substring(0, 2) && !IsChatbl(e) ? "Mobile" : "Phone Number"; var i = "IN" === r ? "_email-lb" : "_mobile-lb", a = IsChatbl(e) ? "" : o, s = IsChatbl(e) ? "" : "be-lbl"; this.phonecalled = "IN" !== r, this.ContactDetailHtmlEmailObj.Label = returnLabel("t" + e, a, i + this.classCount, s) }, ContactDetail.prototype.getInputEmailMobile = function (e, t, r) { var o = "IN" === r ? "_q_email_in" : "_q_mobile_f", i = IsChatbl(e) ? "blchat-inpt" : "IN" === r ? "be-slbox inpt_errorbx" : "be-input benords beW3 beh32"; isOtherEnq(e) && (i += " inPlace"); "IN" === r || ("IN" === currentISO() || "09" !== e.substring(0, 2) && IsChatbl(e)); var a = ""; "IN" !== r && (ReqObj.isoFlag = "" !== ReqObj.isoFlag ? ReqObj.isoFlag : usercookie.getParameterValue(this.imeshCookie, "phcc"), ReqObj.isoFlag = "+" === ReqObj.isoFlag.substring(0, 1) ? ReqObj.isoFlag : "+" + ReqObj.isoFlag, a += returnIsoHtml(e, IsChatbl(e) ? "beiso" : "be-flisq iso", ReqObj.isoFlag)); var s = "IN" === r || isOtherEnq(e) ? "" : "Enter your Phone"; if (a += returnInput("t" + e, o + this.classCount, "text", o + this.classCount, s, i, "", "", ""), IsChatbl(e)) { a += this.returnSubmitChatBl(e); var n = this.getChatblEmailMobileErrorDiv(e, r); namehtml += n } else { "IN" === r && "bl" !== ReqObj.Form[e].typeofform.toLowerCase() && (a += returnContainer("t" + e, "_helpmsg", "be-msghlp", "", "Supplier will contact you on this email", "") + "</div>"), a += n = this.getEmailMobileErrorDiv(e, r) } this.ContactDetailHtmlEmailObj.UserInput = a }, ContactDetail.prototype.getEmailMobileErrorDiv = function (e, t) { var r = "", o = "IN" === t ? "_err_email" : "_error_mobile"; return r = isOtherEnq(e) && "09" === e.substring(0, 2) || isOtherEnq(e) && ReqObj.Form[e].FormSequence.StepCounter > 0 ? r + returnContainer("t" + e, o + this.classCount, "be-erbx beerrp bedsnone", "", "") : r + returnContainer("t" + e, o + this.classCount, "beerrp1 be-erbx bedsnone error_blck", "", ""), r += returnContainer("t" + e, (o = "IN" === t ? "_email_errmsg" : "_mobile_errmsg") + this.classCount, "", "content", ""), r += "</div>", r = isOtherEnq(e) && "09" === e.substring(0, 2) || isOtherEnq(e) && ReqObj.Form[e].FormSequence.StepCounter > 0 ? r + "</div>" : r + '<a class="be-erarw" data-role="arrow"></a></div>' }, ContactDetail.prototype.getChatblEmailMobileErrorDiv = function (e, t) { var r = "", o = "IN" === t ? "_err_email" : "_error_mobile"; return r += returnContainer("t" + e, o + this.classCount, "beerrp1 be-erbx bedsnone error_blck", "", ""), r += returnContainer("t" + e, (o = "IN" === t ? "_email_errmsg" : "_mobile_errmsg") + this.classCount, "", "content", ""), r += "</div>", r += "</div>" }, ContactDetail.prototype.showCity = function (e) { if (!usercookie.getParameterValue(this.imeshCookie, "ctid")) { var t = ReqObj.Form[e].formType.toLowerCase(); return this.getLabelCity(e, t), this.getInputCity(e, t), this.ContactDetailHtmlCityObj.OuterWrapper = (IsChatbl(e), ""), this.ContactDetailHtmlCityObj.ClosingWrapper = (IsChatbl(e), ""), this.ContactDetailHtmlCityObj } }, ContactDetail.prototype.getPrefillCity = function (e, t) { return IsChatbl(e) ? "" : !0 !== ReqObj.Form[e].OnCloseStep ? "" !== ReqObj.UserDetail.ipcityname && "null" !== ReqObj.UserDetail.ipcityname ? ReqObj.UserDetail.ipcityname : "" : "" !== ReqObj.Form[e].cityOth ? ReqObj.Form[e].cityOth : "" }, ContactDetail.prototype.getLabelCity = function (e, t) { var r = returnSpan("", "", "City", "befwt"), o = IsChatbl(e) ? "Tell us your " + r + " to connect you to nearby sellers" : "City", i = IsChatbl(e) ? "" : "be-lbl"; this.ContactDetailHtmlCityObj.Label = returnLabel("t" + e, o, "_for-city-lb" + this.classCount, i) }, ContactDetail.prototype.getInputCity = function (e, t) { var r = this.getPrefillCity(e, t), o = IsChatbl(e) ? "blchat-inpt" : "be-slbox inpt_errorbx ui-autocomplete-input"; isOtherEnq(e) && (o += " inPlace"); var i = IsChatbl(e) ? "popup" === chatBlPopupInline(e) ? "Enter your City" : "Enter City Name" : "Enter Your City", a = IsChatbl(e) ? "" : "Change Your City", s = IsChatbl(e) ? "" : "beChtxt", n = ""; (n += '<input type="text" templateId="' + e + '" name="q_city_oth' + this.classCount + '" id="t' + e + "_q_city_oth" + this.classCount + '"NaN' + i + '"+ value="' + r + '" class="' + o + ' maxlength = "100" autocomplete = "off" role = "textbox" aria - autocomplete="list" aria - haspopup="true"', IsChatbl(e) ? n += ">" : n += ' readonly="" disabled="disabled">', IsChatbl(e)) ? (n += this.returnSubmitChatBl(e), n += this.getChatblCityErrorDiv(e)) : (n += returnInput("t" + e, "city_id_sugg" + this.classCount, "hidden", "", "", "", "", "", ""), n += returnSpan("t" + e, "_change_city" + this.classCount, a, s), n += this.getCityErrorDiv(e)); this.ContactDetailHtmlCityObj.UserInput = n }, ContactDetail.prototype.getCityErrorDiv = function (e) { var t = ""; return t = isOtherEnq(e) && "09" === e.substring(0, 2) || isOtherEnq(e) && ReqObj.Form[e].FormSequence.StepCounter > 0 ? t + returnContainer("t" + e, "_error_city" + this.classCount, "be-erbx beerrp bedsnone", "", "") : t + returnContainer("t" + e, "_error_city" + this.classCount, "beerrp1 be-erbx bedsnone", "", ""), t += returnContainer("t" + e, "_city_errmsg" + this.classCount, "", "content", ""), t = isOtherEnq(e) && "09" === e.substring(0, 2) || isOtherEnq(e) && ReqObj.Form[e].FormSequence.StepCounter > 0 ? t + "</div>" : t + '</div><a class="be-erarw" data-role="arrow"></a>', t += "</div>" }, ContactDetail.prototype.getChatblCityErrorDiv = function (e) { var t = ""; return t += returnContainer("t" + e, "_error_city" + this.classCount, "redc bltperor", "", ""), t += returnContainer("t" + e, "_city_errmsg" + this.classCount, "", "content", ""), t += "</div></div>" }, ContactDetail.prototype.validateUserDetails = function (e) { isSet(validation) || createGlobalObject(); var t = "", r = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", o = ReqObj.Form[e].OnCloseStep && isSet(ReqObj.Form[e].FormSequence) ? ReqObj.Form[e].FormSequence.StepCounter + 1 + ReqObj.Form[e].FormSequence.OnCloseCounter + 1 : ReqObj.Form[e].FormSequence.StepCounter + 1; if ($("#t" + e + "_q_first_nm" + this.classCount).length > 0 && ("" === this.nonMandatory || !1 === this.nonMandatory.name || "" !== $("#t" + e + "_q_first_nm" + this.classCount).val()) && !(t = validation.isNameValid($("#t" + e + "_q_first_nm" + this.classCount).val())).type) { var i = isOtherEnq(e) && "09" !== e.substring(0, 2) && ReqObj.Form[e].FormSequence.StepCounter < 1 ? "inline" : ""; return blenqGATracking(r, "Validation_Error_Name|" + o + "|ContactDetail", getEventLabel(), 0, e), this.handleUI({ data: { tmpId: e, elementhtml: "_fname_errmsg" + this.classCount, elementremoveClass: "_error_first_name" + this.classCount, elementaddClass: "_q_first_nm" + this.classCount, validate: t, todo: "showError", formType: ReqObj.Form[e].formType.toLowerCase(), chatelement: "_name-lb" + this.classCount, isinline: i } }), isSet(t.specialcase) && !0 === t.specialcase && (ReqObj.UserDetail.fn = ""), !1 } if ("IN" === this.usercountry) { if ($("#t" + e + "_q_email_in" + this.classCount).length > 0) { var a = $("#t" + e + "_q_email_in" + this.classCount).val(); if (!(t = validation.isEmailValid(a)).type) { i = isOtherEnq(e) && "09" !== e.substring(0, 2) && ReqObj.Form[e].FormSequence.StepCounter < 1 ? "inline" : ""; return blenqGATracking(r, "Validation_Error_Email|" + o + "|ContactDetail", getEventLabel(), 0, e), this.handleUI({ data: { tmpId: e, elementhtml: "_email_errmsg" + this.classCount, elementremoveClass: "_err_email" + this.classCount, elementaddClass: "_q_email_in" + this.classCount, validate: t, todo: "showError", formType: ReqObj.Form[e].formType.toLowerCase(), chatelement: "_email-lb" + this.classCount, isinline: i } }), isSet(t.specialcase) && !0 === t.specialcase && (ReqObj.UserDetail.em = ""), !1 } } if ($("#t" + e + "_q_city_oth" + this.classCount).length > 0 && !(t = validation.isCityValid($("#t" + e + "_q_city_oth" + this.classCount).val())).type) { i = isOtherEnq(e) && "09" !== e.substring(0, 2) && ReqObj.Form[e].FormSequence.StepCounter < 1 ? "inline" : ""; return blenqGATracking(r, "Validation_Error_City |" + o + "|ContactDetail", getEventLabel(), 0, e), this.handleUI({ data: { tmpId: e, elementhtml: "_city_errmsg" + this.classCount, elementremoveClass: "_error_city" + this.classCount, elementaddClass: "_q_city_oth" + this.classCount, validate: t, todo: "showError", formType: ReqObj.Form[e].formType.toLowerCase(), chatelement: "_for-city-lb" + this.classCount, isinline: i } }), isSet(t.specialcase) && !0 === t.specialcase && (ReqObj.UserDetail.cityname = ""), !1 } } else if ($("#t" + e + "_q_mobile_f").length > 0 && !(t = validation.isMobileChValid($("#t" + e + "_q_mobile_f").val())).type) { i = isOtherEnq(e) && ReqObj.Form[e].FormSequence.StepCounter < 1 ? "inline" : ""; return this.handleUI({ data: { tmpId: e, elementhtml: "_mobile_errmsg" + this.classCount, elementremoveClass: "_error_mobile" + this.classCount, elementaddClass: "_q_mobile_f" + this.classCount, validate: t, todo: "showError", formType: ReqObj.Form[e].formType.toLowerCase(), chatelement: "_mobile-lb" + this.classCount, isinline: i } }), isSet(t.specialcase) && !0 === t.specialcase && (ReqObj.UserDetail.mb1 = ""), !1 } return !0 }, ContactDetail.prototype.getData = function (e) { this.cookies(e); ReqObj.Form[e].formType.toLowerCase(); var t = {}, r = currentISO(), o = usercookie.getParameterValue(this.imeshCookie, "ctid"), i = IsChatbl(e) ? ReqObj.Form[e].UserInputs.CityId : ReqObj.UserDetail.ctid; t.s_city_id = isSet(i) && "" !== i ? i : o, isSet(t.s_city_id) && "" !== t.s_city_id || (ReqObj.Form[e].cityOth = IsChatbl(e) ? ReqObj.Form[e].UserInputs.City : ReqObj.UserDetail.ctoth); var a = IsChatbl(e) ? ReqObj.Form[e].UserInputs.Name : "" !== ReqObj.UserDetail.fn ? ReqObj.UserDetail.fn : $("#t" + e + "_q_first_nm").val(); if (a = isSet(a) ? a.trim() : "") if (-1 !== a.indexOf(" ")) { var s = a.substr(0, a.indexOf(" ")); s.trim(), $("#t" + e + "_q_first_nm_hidden").val(s); var n = a.substr(a.indexOf(" ") + 1) } else $("#t" + e + "_q_first_nm_hidden").val(a); if (t.s_first_name = isSet(s) && "" !== s ? s : a, t.s_last_name = isSet(n) && "" !== n ? n : "", "IN" === r) { t.s_email = IsChatbl(e) ? ReqObj.Form[e].UserInputs.Email : ReqObj.UserDetail.em, t.s_city_name = IsChatbl(e) ? ReqObj.Form[e].UserInputs.City : ReqObj.UserDetail.cityname; var l = usercookie.getParameterValue(this.imeshCookie, "mb1"); t.s_mobile = "" !== l ? l : IsChatbl(e) ? ReqObj.Form[e].UserInputs.PrimaryInfo : ReqObj.UserDetail.mb1 } else { t.s_mobile = IsChatbl(e) ? ReqObj.Form[e].UserInputs.Mobile : ReqObj.UserDetail.mb1; l = usercookie.getParameterValue(this.imeshCookie, "em"); t.s_email = "" !== l ? l : IsChatbl(e) ? ReqObj.Form[e].UserInputs.PrimaryInfo : ReqObj.UserDetail.em } return t.s_glusrid = usercookie.getParameterValue(this.imeshCookie, "glid"), t.curr_page_url = window.location.href, t.s_ip = usercookie.getParameterValue(this.iplocCookie, "gip"), t.s_ip_country = usercookie.getParameterValue(this.iplocCookie, "gcnnm"), t.s_ip_country_iso = this.geoip_country_iso, t.flag = ReqObj.Form[e].formType, t.modid = ReqObj.Form[e].modId, t.s_companyName = ReqObj.Form[e].companyName, t.s_country_iso = "" !== r ? r : usercookie.getParameterValue(usercookie.getCookie("iploc"), "gcniso"), ObjectTrim(t) }, ContactDetail.prototype.sendRequest = function (e, t) { var r = this.getData(t), o = "Enq" === ReqObj.Form[t].formType ? "Send Enquiry" : "Post Buy Leads"; "" === r.s_first_name && "" === r.s_mobile && "" === r.s_email && "" === r.s_city_name || $.ajax({ cache: !1, url: appsServerName + "index.php?r=Newreqform/GlusrUpdate", type: "GET", data: r, dataType: "json", success: function (r) { if (isSet(r)) if (isSet(r.msg) && isSet(r.msg.MESSAGE) && 200 === parseInt(r.msg.MESSAGE.CODE)) { var i = new UserLogin; i.sendRequest({ data: { logObject: "", tmpId: t, userlogin: i, blureve: !1, todo: "glusrupdate" } }), blenqGATracking(o, "service:GlusrUpdate:success", getEventLabel(), 1, t), PostAjax(e, t), callToIdentifiedQ(t, "from-Form") } else blenqGATracking(o, "service:GlusrUpdate:failure", r, 1, t), PostAjax(e, t); else blenqGATracking(o, "service:GlusrUpdate:failure", "response undefined", 1, t), Ajaxfailure(e, t) }, error: function (r) { r = isSet(r) ? JSON.stringify(r) : "response undefined", blenqGATracking(o, "service:GlusrUpdate:failure", r, 1, t), Ajaxfailure(e, t) } }) }, ContactDetail.prototype.handleEvents = function (e, t) { isSet(validation) || createGlobalObject(), $(document).ready(function () { !$("#t" + t + "_blchatfooter").hasClass("focus") && setTimeout(function () { $("#t" + t + "_blchatfooter").addClass("focus") }, 1e3), !$("#t" + t + "_typhere").hasClass("dn") && setTimeout(function () { $("#t" + t + "_typhere").addClass("dn"), $("#t" + t + "_newblchatReply").removeClass("cbl_vh") }, 1099), IsChatbl(t) && e.enableCity({ data: { obj: e, tmpId: t } }); var r = isOtherEnq(t) && "09" !== t.substring(0, 2) && ReqObj.Form[t].FormSequence.StepCounter < 1 ? "inlinename" : "", o = IsChatbl(t) ? "popup" === chatBlPopupInline(t) ? " Enter your Name" : "" : "Enter your name"; $("#t" + t + "_q_first_nm" + e.classCount).off("focus keypress.Validation").on("focus keypress.Validation", { obj: e, todo: "removeError", tmpId: t, ele: "_q_first_nm" + e.classCount, errorlabel: "_name-lb" + e.classCount, errorMainDiv: "_fname_errmsg" + e.classCount, errorSubDiv: "_error_first_name" + e.classCount, typeele: r, placehold: o }, e.handleUI), $("#t" + t + "_q_city_oth" + e.classCount).off("focus keypress.Validation").on("focus keypress.Validation", { obj: e, todo: "removeError", tmpId: t, ele: "_q_city_oth" + e.classCount, errorlabel: "_for-city-lb" + e.classCount, errorMainDiv: "_city_errmsg" + e.classCount, errorSubDiv: "_error_city" + e.classCount }, e.handleUI), $("#t" + t + "_q_email_in" + e.classCount).off("focus keypress.Validation").on("focus keypress.Validation", { obj: e, todo: "removeError", tmpId: t, ele: "_q_email_in" + e.classCount, errorlabel: "_email-lb" + e.classCount, errorMainDiv: "_email_errmsg" + e.classCount, errorSubDiv: "_err_email" + e.classCount, typeele: "email" }, e.handleUI), $("#t" + t + "_q_mobile_f" + e.classCount).off("focus.Validation").on("focus.Validation", { obj: e, todo: "removeError", tmpId: t, ele: "_q_mobile_f" + e.classCount, errorlabel: "_mobile-lb" + e.classCount, errorMainDiv: "_mobile_errmsg" + e.classCount, errorSubDiv: "_error_mobile" + e.classCount }, e.handleUI), $("#t" + t + "_q_first_nm" + e.classCount).off("blur").on("blur", { obj: e, todo: "blurlabel", tmpId: t, ele: "_q_first_nm" + e.classCount, placehold: o, typeele: r }, e.handleUI), $("#t" + t + "_q_city_oth" + e.classCount).off("blur").on("blur", { obj: e, todo: "blurlabel", tmpId: t, ele: "_q_city_oth" + e.classCount }, e.handleUI), $("#t" + t + "_q_email_in" + e.classCount).off("blur").on("blur", { obj: e, todo: "blurlabel", tmpId: t, ele: "_q_email_in" + e.classCount }, e.handleUI), $("#t" + t + "_q_mobile_f" + e.classCount).off("blur").on("blur", { obj: e, todo: "blurlabel", tmpId: t, ele: "_q_mobile_f" + e.classCount }, e.handleUI), $("#t" + t + "_change_city" + e.classCount).off("click").on("click", { obj: e, tmpId: t }, e.enableCity), $("#t" + t + "_q_mobile_f" + e.classCount).off("keypress.Validation").on("keypress.Validation", validation.isNumberKey), IsChatbl(t) && $("#t" + t + "_q_first_nm" + e.classCount).focus() }) }, ContactDetail.prototype.handleUI = function (e) { if (isSet(e) && isSet(e.data)) { var t = e.keyCode ? e.keyCode : e.which; if (13 !== t) { var r = e.data.obj, o = e.data.todo, i = e.data.tmpId; if ("nameUI" === o && "" !== $("#t" + i + "_q_first_nm" + r.classCount).val() && ($("#t" + i + "_q_first_nm" + r.classCount).prop("disabled", !1), $("#t" + i + "_q_first_nm" + r.classCount).prop("readonly", !0)), "default" === o && "" !== $("#t" + i + "_q_city_oth" + r.classCount).val() && $("#t" + i + "_q_city_oth" + r.classCount).parents().addClass("eqfcsed"), "focus" === o && ("popup" === chatBlPopupInline(i) ? setTimeout(function () { $("#t" + i + "_q_first_nm" + r.classCount).focus() }, 1800) : $("#t" + i + "_q_first_nm" + r.classCount).focus(), "popup" === chatBlPopupInline(i) ? setTimeout(function () { $("#t" + i + "_q_city_oth" + r.classCount).focus() }, 1800) : $("#t" + i + "_q_city_oth" + r.classCount).focus(), "popup" === chatBlPopupInline(i) ? setTimeout(function () { $("#t" + i + "_q_mobile_f" + r.classCount).focus() }, 1800) : $("#t" + i + "_q_mobile_f" + r.classCount).focus()), "removeError" === o) if ($("#t" + i + "verify_error").text(""), $("#t" + i + "cbl_bluline").removeClass("cbl_erred"), $("#t" + i + e.data.errorSubDiv).addClass("bedsnone"), $("#t" + i + e.data.ele).removeClass("highlight-err"), $("#t" + i + e.data.errorlabel).removeClass("redc"), $("#t" + i + e.data.ele).parents().addClass("eqfcsed"), isOtherEnq(i) && (isSet(e.data.typeele) && "email" === e.data.typeele ? $("#t" + i + e.data.ele).attr("placeholder", "For Example, abc@gmail.com") : isSet(e.data.typeele) && "inlinename" === e.data.typeele ? $("#t" + i + e.data.ele).attr("placeholder", e.data.placehold) : $("#t" + i + e.data.ele).attr("placeholder", "")), 8 === t) 1 === ModifyUserDetail(e.data.toupdate, "empty", t) && $("#t" + i + "city_id_sugg" + r.classCount).val(""); "blurlabel" === o && isOtherEnq(i) && (0 === $("#t" + i + e.data.ele).val().length && $("#t" + i + e.data.ele).parents().removeClass("eqfcsed"), isSet(e.data.typeele) && "inlinename" === e.data.typeele ? $("#t" + i + e.data.ele).attr("placeholder", e.data.placehold) : $("#t" + i + e.data.ele).attr("placeholder", "")), "cityOthers" === o && ($("#t" + i + "_q_city_oth" + r.classCount).val(ReqObj.Form[i].cityOth), $("#t" + i + "_q_city_oth" + r.classCount).prop("disabled", !1)), "showError" === o && ($("#t" + i + e.data.elementhtml).html(e.data.validate.error), "popup" !== chatBlPopupInline(i) && $("#t" + i + e.data.elementremoveClass).removeClass("bedsnone"), "popup" === chatBlPopupInline(i) ? ($("#t" + i + "verify_error").text(e.data.validate.error), $("#t" + i + "cbl_bluline").addClass("cbl_erred")) : $("#t" + i + e.data.elementaddClass).addClass("highlight-err"), "chatbl" !== e.data.formType && "chatbl-inline" !== e.data.formType && (!isOtherEnq(i) || isSet(e.data.isinline) && "inline" === e.data.isinline) && $("#t" + i + e.data.chatelement).addClass("redc")) } } }, ContactDetail.prototype.EventIfScreenPresent = function (e) { isOtherEnq(e) && (this.handleHeading(e), ButtonNameUI("isq", e)) }, ContactDetail.prototype.handleHeading = function (e) { !0 === ReqObj.Form[e].OnCloseStep && (ReqObj.Form[e].currentScreen = "IN" === currentISO() ? this.className + "onclosein" : this.className + "onclosenotin"), "image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || 0 !== ReqObj.Form[e].FormSequence.StepCounter ? $("#t" + e + "_hdg").removeClass("bedsnone").html(getFormHeading(e, ReqObj.Form[e].currentScreen)) : $("#t" + e + "_hdg").addClass("bedsnone").html("") }, ContactDetail.prototype.handleButton = function (e) { ButtonNameUI(ReqObj.Form[e].currentScreen, e) }, ContactDetail.prototype.enableCity = function (e) { if (isSet(e) && isSet(e.data)) { var t = e.data.obj, r = e.data.tmpId; $("#t" + r + "_q_city_oth" + t.classCount).val(""), $("#t" + r + "_q_city_oth" + t.classCount).prop("disabled", !1), $("#t" + r + "_q_city_oth" + t.classCount).prop("readonly", !1), $("#t" + r + "_q_city_oth" + t.classCount).focus(), t.showCitySuggestions(t, r) } }, ContactDetail.prototype.showCitySuggestions = function (e, t) { var r = this, o = e.usercountry; if ("undefined" == typeof Suggester) setTimeout(function () { r.showCitySuggestions(e, t) }, 50); else if ("undefined" != typeof Suggester) { $(".t" + t + "_CitySuggestor").each(function () { $(this).remove() }); var i = BlAutoSuggRowNum(t), a = SetAutoCompleteClass(t, "_CitySuggestor"); main_city_sugg = new Suggester({ element: "t" + t + "_q_city_oth" + e.classCount, onSelect: e.selectCity, type: "city", fields: "std,state,id,stateid", minStringLengthToDisplaySuggestion: 1, rowsToDisplay: i, autocompleteClass: a, displayFields: "value,state", displaySeparator: " >> ", filters: "iso:" + o, recentData: !1, rowsToDisplay: "chatbl-inline" === ReqObj.Form[t].formType.toLowerCase() ? 3 : "" }) } }, ContactDetail.prototype.selectCity = function (e, t) { var r = $(this).attr("templateId"), o = returnObjectSize(ReqObj.Form[r].ContactDetail); $("#t" + r + "_q_city_oth" + o).val(t.item.value), $("#t" + r + "city_id_sugg" + o).val(t.item.data.id), ReqObj.UserDetail.statename = t.item.data.state, ReqObj.UserDetail.stateid = t.item.data.stateid, ReqObj.UserDetail.ctid = t.item.data.id, ReqObj.UserDetail.cityname = t.item.value, IsChatbl(r) && (ReqObj.Form[r].UserInputs.City = t.item.value, ReqObj.Form[r].UserInputs.CityId = t.item.data.id) }, CountrySugg.prototype.displayAnswer = function (e) { var t = chatBlClass(e, "right"), r = "inline" === chatBlPopupInline(e) ? "message-right" : "popup" === chatBlPopupInline(e) ? "message-right1" : ""; return [ConversationRightWrapper(e, returnAnswer(e, "CountryName"), { classtotest: t, leftright: r })] }, CountrySugg.prototype.onSubmit = function (e) { isSet(e) && (ReqObj.selectFromCountrySugg = !0, reloadFlagSuggestor("load"), GetIsqFromService(e), PostAjax(PreAjax("CountrySugg", e), e)) }, CountrySugg.prototype.defaultEvents = function (e) { this.handleEvents(e, "sugg"), this.handleUI(e, "default") }, CountrySugg.prototype.handleEvents = function (e, t) { "sugg" === t && this.setCountrySuggestor(e) }, CountrySugg.prototype.handleUI = function (e, t) { "default" === t && (IsChatbl(e) && $("#t" + e + "country_input").focus(), $("#t" + e + "_country_err").addClass("bedsnone"), $("#t" + e + "_country_errmsg").html("")) }, CountrySugg.prototype.SaveDetails = function (e, t) { ReqObj.changeUserCountry = ReqObj.ChatBl.item.label }, CountrySugg.prototype.displayHtml = function (e) { return [this.countrysugghtml] }, CountrySugg.prototype.addHtmlToArray = function (e) { this.CountrySuggHtmlObjArray.push(e) }, CountrySugg.prototype.validate = function (e) { if (isSet(e)) { var t = validation.isCountryValid(ReqObj.Form[e].UserInputs.CountryName, e); return !!t.type || ($("#t" + e + "_country_errmsg").html(t.error), $("#t" + e + "_country_err").removeClass("bedsnone"), !1) } }, CountrySugg.prototype.hasHtml = function (e) { var t = e.tmpId; this.addHtmlToArray(this.getHtml(t)); var r = { SuffixOuterHtml: "<div>", SuffixClosingHtml: "</div>", suffix: "" }; this.countrysugghtml = MakeWrapper([this.CountrySuggHtmlObjArray], t, r, ""), "" !== this.countrysugghtml ? this.ifHtmlPresent(e, t) : this.ifHtmlNotPresent(e, t) }, CountrySugg.prototype.ifHtmlPresent = function (e, t) { if (e.that.NumberofClassCalled -= 1, AttachObject(e.object, t), isSet(e.AfterService)) for (var r = 0; r < e.AfterService.length; r++)e.that.MakeSeq(e.AfterService[r], t); 0 === e.that.NumberofClassCalled && makeFinalSeq(e, t) }, CountrySugg.prototype.ifHtmlNotPresent = function (e, t) { e.hasFallback ? CreateSeq(e.FallbackObj) : e.that.NumberofClassCalled -= 1 }, CountrySugg.prototype.toUpdate = function (e, t) { return usercookie.getCookie("ImeshVisitor"), !0 }, CountrySugg.prototype.getCountryName = function (e, t) { var r = ""; r += "Please enter your Country", this.CountrySuggHtmlObj.Label = r, r = ""; var o = ""; return o = returnContainer("", "", "chat-arrow", "", "", ""), "chat-arowicon1", r += '<input type="text" templateId="' + e + '" name="country_input" id="t' + e + 'country_input" placeholder="" value="" class="blchat-inpt" maxlength="100" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true">', r += returnButton("t" + e, "_submit", o += "</div>", "chat-arowicon1"), r += returnContainer("t" + e, "_country_err", "bltperor bedsnone", "", "", ""), r += returnContainer("t" + e, "_country_errmsg", "", "content", "", ""), this.CountrySuggHtmlObj.UserInput += r, this.CountrySuggHtmlObj.OuterWrapper = (IsChatbl(e), ""), this.CountrySuggHtmlObj.ClosingWrapper = (IsChatbl(e), ""), this.CountrySuggHtmlObj }, CountrySugg.prototype.getHtml = function (e) { var t = ReqObj.Form[e].formType.toLowerCase(); return this.getCountryName(e, t) }, CountrySugg.prototype.setCountrySuggestor = function (e) { var t = this; if ("undefined" == typeof Suggester) setTimeout(function () { t.setCountrySuggestor(e) }, 50); else if ("undefined" != typeof Suggester) { var r = SetAutoCompleteClass(e, "_CountrySugg"), o = BlAutoSuggRowNum(e); country_sugg = new Suggester({ element: "t" + e + "country_input", onSelect: t.selectCountry, placeholder: "Enter Country", classPlaceholder: "ui-placeholder-input", minStringLengthToFetchSuggestion: 1, updateCache: !1, type: "country", fields: "isd,iso", minStringLengthToDisplaySuggestion: 1, rowsToDisplay: o, autocompleteClass: r }) } }, CountrySugg.prototype.selectCountry = function (e, t) { var r = $(this).attr("templateId"); ReqObj.ChatBl.item = t.item, ReqObj.Form[r].UserInputs.CountryName = t.item.label, ReqObj.selectFromCountrySugg = !0, $("#t" + r + "_country_err").addClass("bedsnone"), $("#t" + r + "_country_errmsg").html(""), UpdateISO(ReqObj.ChatBl.item.data.iso, ReqObj.ChatBl.item.data.cname) }, FormSeq.prototype.Enqinline = function (e) { this.NumberofClassCalled = 2, ReqObj.Form[e].IsqStep1 = ReturnCorrectVal(ReqObj.Form[e].IsqStep1, 3), ReqObj.Form[e].IsqStepN = ReturnCorrectVal(ReqObj.Form[e].IsqStepN, 2), updateEnrichShownKey(e, !0, !1); var t = { pre: [], post: [] }, r = { UiArray: this.arraySeq, ServiceArray: this.ServiceSequence }; if ("product" === ReqObj.Form[e].modrefType.toLowerCase() && "-126" === ReqObj.Form[e].afflId && ($("#t" + e + "_q_comp_sec").removeClass("bedsnone"), $("#t" + e + "_q_comp_name").val(ReqObj.Form[e].rcvName)), t = { pre: [this.InlineOpenForm, this.SubsequentStep], post: [] }, "01" === e.substring(0, 2)) { if (ShowProdName(e)) { this.NumberofClassCalled += 1, t = { pre: [], post: [] }, usercookie.getCookie("ImeshVisitor") && (t = { pre: [], post: [this.InlineOpenForm, this.SubsequentStep] }); var o = { object: { obj: new ProductName(e), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(o), t = { pre: [], post: [] }; var i = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(i) } if (usercookie.getCookie("ImeshVisitor")) { this.NumberofClassCalled -= 1; var a = $("#t" + e + "_byrinfoIn").html(get_buyer_info(e)); 1 === parseInt(ReqObj.Form[e].BuyerInfo) && a.removeClass("bedsnone") } else { t.pre = [], t.post = [this.InlineOpenForm, this.SubsequentStep]; var s = { object: { obj: new UserLogin(e), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(s), t.pre = [], t.post = [] } if (ShowNameField(e)) { t = { pre: [], post: [] }; var n = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }, l = "IN" === currentISO(), c = { object: { obj: new ContactDetail(1, 0, 0), toReplace: !1, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [n], hasFallback: !1, FallbackObj: null, nonMandatory: { name: l } }; this.MakeSeq(c) } else this.NumberofClassCalled -= 1, this.FullServiceArray.push(r.ServiceArray), ReqObj.Form[e].UiArray.push(r.UiArray), this.getStep(e) } else { if (usercookie.getCookie("ImeshVisitor")) { this.NumberofClassCalled -= 1; a = $("#t" + e + "_byrinfoIn").html(get_buyer_info(e)); 1 === parseInt(ReqObj.Form[e].BuyerInfo) && a.removeClass("bedsnone") } else { t.pre = [], t.post = [this.InlineOpenForm, this.SubsequentStep]; s = { object: { obj: new UserLogin(e), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(s), t.pre = [], t.post = [] } this.NumberofClassCalled += 1; i = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if (this.MakeSeq(i), ShowNameField(e)) { t = { pre: [], post: [] }; n = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }, l = "IN" === currentISO(), c = { object: { obj: new ContactDetail(1, 0, 0), toReplace: !1, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [n], hasFallback: !1, FallbackObj: null, nonMandatory: { name: l } }; this.MakeSeq(c) } else this.NumberofClassCalled -= 1; if (ShowReqBox(e)) { t = { pre: [], post: [] }; var m = { object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: r, hooks: t }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(m) } else this.NumberofClassCalled -= 1, this.FullServiceArray.push(r.ServiceArray), ReqObj.Form[e].UiArray.push(r.UiArray), this.getStep(e) } }, FormSeq.prototype.Enqpopup = function (e) { ReqObj.Form[e].IsqStep1 = ReturnCorrectVal(ReqObj.Form[e].IsqStep1, 3), ReqObj.Form[e].IsqStepN = ReturnCorrectVal(ReqObj.Form[e].IsqStepN, 2); updateEnrichShownKey(e, !0, !1); var t = usercookie.getCookie("ImeshVisitor"), r = { pre: [], post: [] }, o = { UiArray: this.arraySeq, ServiceArray: this.ServiceSequence }; if ("image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || !1 !== ReqObj.ImageVideoIsqSeq || !1 !== ReqObj.changeFlag) if (usercookie.getCookie("ImeshVisitor")) if (isSecondEnq() && ShowOtp()) { this.NumberofClassCalled = 1, r.pre = [], r.post = [this.SubsequentStep], CreateSeq({ object: { obj: new UserVerification(e), toReplace: !0, objHtmlId: e + "_otpbox", isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }), r.pre = [], r.post = []; p = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(p) } else if (("image" === ReqObj.Form[e].typeofform.toLowerCase() || "video" === ReqObj.Form[e].typeofform.toLowerCase()) && ReqObj.Form[e].FormSequence.StepCounter < 1 || $("#t" + e + "_byrinfo").html(get_buyer_info(e)).removeClass("bedsnone"), ShowProdName(e)) { this.NumberofClassCalled = 2, r = { pre: [], post: [this.SubsequentStep] }; n = { object: { obj: new ProductName(e), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(n), r = { pre: [], post: [] }; p = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if (this.MakeSeq(p), ReqObj.Form[e].disableIsq) { this.NumberofClassCalled = 1, o = { UiArray: [], ServiceArray: [] }, r.pre = [this.OnCloseSeq], r.post = [], CreateSeq(d = { object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) } else { r.pre = [], r.post = []; d = { object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if (ShowIsq(e)) CreateSeq(l = { object: { obj: ReqObj.Form[e].GlobalIsqObject, array: o, hooks: r, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !0, FallbackObj: d, notBack: !0 }); else if (ShowStaticQuestionForeign(e)) if (ReqObj.Form[e].flags.isEnrichShown.isStaticShown && ReqObj.Form[e].flags.isDescDivShown) this.OnCloseSeq(e); else { var i = { pre: [this.OnCloseSeq], post: [] }; r = { pre: [], post: [] }; if (ReqObj.Form[e].flags.isEnrichShown.isStaticShown || ReqObj.Form[e].flags.isDescDivShown || (this.NumberofClassCalled += 1), !ReqObj.Form[e].flags.isEnrichShown.isStaticShown) { var a = { obj: new BlStaticQues(e), toReplace: !0, isService: !1, array: o }; 1 === this.NumberofClassCalled ? a.hooks = i : 2 === this.NumberofClassCalled && (a.hooks = r), CreateSeq({ object: a, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) } if (!ReqObj.Form[e].flags.isDescDivShown) r.pre = [this.OnCloseSeq], r.post = [], CreateSeq(d = { object: { obj: new RequirementDtl(e, "isq"), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: { object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1 }, nextStep: ReqObj.Form[e].NextStep }) } else ShowReqBox(e) && CreateSeq(d) } } else if ("IN" !== currentISO() && !ReqObj.UserDetail.fn || NEC() && "IN" === currentISO()) { r.pre = [this.SubsequentStep], r.post = []; var s = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if (this.MakeSeq(s), NEC()) { this.NumberofClassCalled = 1, r = { pre: [], post: [] }; m = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if ("IN" !== currentISO()) u = { object: { obj: new ContactDetail(1, 0, 0), toReplace: !1, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [m], hasFallback: !1, FallbackObj: null }; else u = { object: { obj: new ContactDetail(1, 1, 1), toReplace: !1, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [m], hasFallback: !1, FallbackObj: null }; CreateSeq(u) } } else if (ReqObj.Form[e].disableIsq) { this.NumberofClassCalled = 1, r.pre = [this.OnCloseSeq], r.post = []; s = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if (this.MakeSeq(s), returnIsEnrichShownKeyVal(e) && !ReqObj.Form[e].flags.isDescDivShown ? this.NumberofClassCalled = 2 : this.NumberofClassCalled = 1, !ReqObj.Form[e].flags.isDescDivShown) r.pre = [], r.post = [], CreateSeq(d = { object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }); if (returnIsEnrichShownKeyVal(e) && "1" === ReqObj.Form[e].showAttachment) r.pre = [], r.post = [], CreateSeq({ object: a = { obj: new BlStaticQues(e), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }); else returnIsEnrichShownKeyVal(e) && "1" !== ReqObj.Form[e].showAttachment && (this.NumberofClassCalled -= 1, this.FullServiceArray.push(o.ServiceArray), ReqObj.Form[e].UiArray.push(o.UiArray), this.getStep(e)) } else { this.NumberofClassCalled = 1, r.pre = [this.SubsequentStep], r.post = []; s = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(s), r.pre = [], r.post = []; d = { object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if (ShowIsq(e)) CreateSeq(l = { object: { obj: ReqObj.Form[e].GlobalIsqObject, array: o, hooks: r, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !0, FallbackObj: d, notBack: !0 }); else if (ShowStaticQuestionForeign(e)) if (returnIsEnrichShownKeyVal(e) || !ReqObj.Form[e].flags.isDescDivShown) { i = { pre: [this.OnCloseSeq], post: [] }, r = { pre: [], post: [] }; if (returnIsEnrichShownKeyVal(e) && !ReqObj.Form[e].flags.isDescDivShown && (this.NumberofClassCalled += 1), returnIsEnrichShownKeyVal(e)) { a = { obj: new BlStaticQues(e), toReplace: !0, isService: !1, array: o }; 1 === this.NumberofClassCalled ? a.hooks = i : 2 === this.NumberofClassCalled && (a.hooks = r), CreateSeq({ object: a, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) } if (!ReqObj.Form[e].flags.isDescDivShown) r.pre = [this.OnCloseSeq], r.post = [], CreateSeq(d = { object: { obj: new RequirementDtl(e, "isq"), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !0, FallbackObj: { object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1 }, nextStep: ReqObj.Form[e].NextStep }) } else this.OnCloseSeq(e); else ShowReqBox(e) && CreateSeq(d) } else { this.NumberofClassCalled = 3, r.post = [this.SubsequentStep]; b = { object: { obj: new UserLogin(e), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if (this.MakeSeq(b), ShowProdName(e)) { r = { pre: [], post: [] }; var n = { object: { obj: new ProductName(e), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(n) } else this.NumberofClassCalled -= 1; r = { pre: [], post: [] }; p = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if (this.MakeSeq(p), GenOnClick(e) && "" === usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "iso")) { var l = { object: { obj: ReqObj.Form[e].GlobalIsqObject, array: o, hooks: r, isService: !0 }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null, notBack: !0 }; this.MakeSeq(l), SavePropIsq(e) } var c = currentISO(); if (usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn") || "IN" === c) this.NumberofClassCalled -= 1, this.FullServiceArray.push(o.ServiceArray), ReqObj.Form[e].UiArray.push(o.UiArray), this.getStep(e); else { r = { pre: [], post: [] }; var m = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }, u = { object: { obj: new ContactDetail(1, 0, 0), toReplace: !1, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [m], hasFallback: !1, FallbackObj: null }; this.MakeSeq(u) } } else if ("" !== t) { if ("IN" === currentISO() && (!isSecondEnq(e) || "V" === usercookie.getParameterValue(t, "uv")) || "IN" !== currentISO() && "" !== usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn")) { r.pre = [this.SubsequentStep]; var p = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(p) } this.NumberofClassCalled = 1, r.pre = [this.SubsequentStep]; var d = { object: { obj: new RequirementDtl(e), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }, l = { object: { obj: ReqObj.Form[e].GlobalIsqObject, array: o, hooks: r, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !0, FallbackObj: d, notBack: !1 }; this.MakeSeq(l) } else { this.NumberofClassCalled = 2, r.post = [this.SubsequentStep]; var b = { object: { obj: new UserLogin(e), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(b), r = { pre: [], post: [] }; var p = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if (this.MakeSeq(p), "IN" !== currentISO()) { r = { pre: [], post: [] }; var m = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }, u = { object: { obj: new ContactDetail(1, 0, 0), toReplace: !1, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [m], hasFallback: !1, FallbackObj: null }; this.MakeSeq(u), r = { pre: [], post: [] }; var p = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(p) } else this.NumberofClassCalled -= 1, this.FullServiceArray.push(o.ServiceArray), ReqObj.Form[e].UiArray.push(o.UiArray), this.getStep(e) } }, FlagSuggestor.prototype.returnISO = function (e) { var t = usercookie.getParameterValue(usercookie.getCookie("iploc"), "gcniso"), r = usercookie.getParameterValue(usercookie.getCookie("iploc"), "gcnnm"); if (isSet(ReqObj.changeUserIso)) return "" === ReqObj.changeUserIso ? UpdateISO(t, r) : "iploc" === e.trim() && "" !== t && ReqObj.changeUserIso !== t ? UpdateISO(t, r) : !0 !== ReqObj.selectFromCountrySugg && !0 !== ReqObj.changeFlag || UpdateISO(ReqObj.changeUserIso, ReqObj.changeUserCountry), ReqObj.changeUserIso }, FlagSuggestor.prototype.isHtmlPresent = function (e) { return $("#t" + e + "_Country_dropdown").length > 0 }, FlagSuggestor.prototype.toFlaseFlagHit = function (e, t) { return !((!0 !== ReqObj.Form[e].flags.isFlagSuggSet && !1 !== ReqObj.Form[e].flags.isFlagSuggSet || !this.isHtmlPresent(e) || t === this.countryiso[e]) && !1 !== ReqObj.Form[e].flags.isFlagSuggSet) }, FlagSuggestor.prototype.setFlagSuggestor = function (e, t) { var r = this; r.tmpId = e, r.changeToUpdateStatus(t.trim()), addTemplates(e); var o = r.returnISO(t); if (r.toFlaseFlagHit(e, o) && (r.flaghit[e] = !1, $("#t" + e + "_Country_dropdown").html("")), "" === usercookie.getCookie("ImeshVisitor") && !r.flaghit[e]) { var i = "sugg_isd_" + e; if ("undefined" == typeof Suggester) setTimeout(function () { r.setFlagSuggestor(e, t) }, 50); else if ("object" != typeof i) { r.flaghit[e] = !0, r.countryiso[e] = o; var a = setInterval(function () { if ("undefined" != typeof Suggester) { var t = SetAutoCompleteClass(e, "_FlagSuggestor"), s = BlAutoSuggRowNum(e); r.tmpId = e, window[i] = new Suggester({ type: "isd", element: "t" + e + "_Country_dropdown", onSelect: setCountryISO, fields: "cname,iso,icon_order", displayFields: "cname,value", displaySeparator: "  +", defaultValue: isSet(o) && "" !== o ? o : "IN", rowsToDisplay: s, autocompleteClass: t }), JSON.stringify(i) && (isSet(ReqObj.Form[e].flags) && (ReqObj.Form[e].flags.isFlagSuggSet = !0), clearInterval(a)) } }, 1e3) } } }, FlagSuggestor.prototype.isChangeFromSuggestor = function (e, t) { return "" !== ReqObj.changeUserIso && ReqObj.changeUserIso !== t.data.iso && (UpdateISO(t.data.iso, t.data.cname), ReqObj.changeFlag = !0, !0) }, FlagSuggestor.prototype.changeToUpdateStatus = function (e) { var t = flagsugg; "iploc" === e || "load" === e ? t.toupdate[t.tmpId] = !1 : "changeflag" === e && (t.toupdate[t.tmpId] = !0) }, FlagSuggestor.prototype.returnToUpdateStatus = function () { var e = flagsugg; return e.toupdate[e.tmpId] }, FlagSuggestor.prototype.setCountry = function (e, t) { for (var r = flagsugg, o = isSet(template_array) ? template_array.length : 0, i = 0; i < o; i++)r.selectCountryISO(template_array[i], t) }, FlagSuggestor.prototype.sequenceUpdate = function (e, t) { var r = !1; usercookie.getCookie("ImeshVisitor") || (ReqObj.TempName = ""); for (var o = isSet(template_array) ? template_array.length : 0, i = 0; i < o; i++) { isSet(ReqObj.Form[template_array[i]].flags) ? IsChatbl(template_array[i]) ? r = ReqObj.Form[template_array[i]].flags.isCountryFlagSuggSet : ReqObj.Form[template_array[i]].flags.isFlagSuggSet && (r = !0) : r = !1; r && !0 && (-1 === $.inArray(template_array[i].substring(0, 2), BlPopup) && (ReqObj.Form[template_array[i]].flags.isFlagSuggSet = !1, formToUpdate(template_array[i], "changeflag")), ("09" === template_array[i].substring(0, 2) && $("#t" + template_array[i] + "_bewrapper").length > 0 && "block" === $("#t" + template_array[i] + "_bewrapper").css("display") || "08" === template_array[i].substring(0, 2)) && (ReqObj.Form[template_array[i]].flags.isFlagSuggSet = !1, addBlLoader(template_array[i], "left"), AfterFormDefaults(template_array[i], "changeflag"))) } }, FlagSuggestor.prototype.selectCountryISO = function (e, t) { var r = ReqObj.Form[e].formType.toLowerCase(); if ($("#t" + e + "_Country_dropdown dt a span").attr("style", "background-position:0px -" + 11 * t.data.icon_order + "px"), IsChatbl(e) && "inline" === chatBlPopupInline(e) && $("#t" + e + "_Country_dropdown dt a div").hasClass("as_arrow") && $("#t" + e + "_Country_dropdown dt a div").addClass("bedsnone"), this.valuesOnSelecting(e, t), isSet(validation) || createGlobalObject(), t.value) { var o = "India" === t.data.cname ? "Mobile" : "Email", i = "India" === t.data.cname ? o + " Number" : o + " ID", a = IsChatbl(e) ? "Okay, Please Share your " + i : i, s = "Enter your " + o.toLowerCase(); if (!IsChatbl(e)) { var n = "India" === t.data.cname ? "number" : "email"; $("#t" + e + "_helpmsg").html("Seller will contact you on this " + n) } $("#t" + e + "_label-l").html(a), $("#t" + e + "_login_field").attr("placeholder", s), $("#t" + e + "_login_field").val(""), "India" === t.data.cname ? (ReqObj.Form[e].isTNCShownOnFirstStep = !1, $("#t" + e + "_iso").attr("value", ReqObj.isoFlag).removeClass("bedsnone"), $("#t" + e + "_tCond").addClass("bedsnone"), "chatbl" !== r && "chatbl-inline" !== r && $("#t" + e + "_submit").removeAttr("disabled").attr("style", "background-color : rgb(0, 166, 153)"), $("#t" + e + "_login_field").on("keypress", validation.isNumberKey).removeClass("highlight-err").removeClass("beemail"), $("#t" + e + "_msg_primary_info_err_login").addClass("bedsnone")) : ($("#t" + e + "_iso").addClass("bedsnone"), ReqObj.Form[e].isTNCShownOnFirstStep = !0, ShowHideTNC(e), $("#t" + e + "_login_field").off("keypress").removeClass("highlight-err").addClass("beemail"), $("#t" + e + "_msg_primary_info_err_login").addClass("bedsnone"), IsChatbl(e) && $("#t" + e + "_Country_dropdown").removeClass("bedsnone")), IsChatbl(e) && ShowHideTNC(e) } }, FlagSuggestor.prototype.valuesOnSelecting = function (e, t) { UpdateISO(t.data.iso, t.data.cname), ReqObj.isoFlag = "+" === t.value.substring(0, 1) ? t.value : "+" + t.value, this.countryiso[e] = ReqObj.changeUserIso }, FormSeq.prototype.OnCloseSeq = function (e) { var t = ""; this.OnCloseServiceArray = [], ReqObj.Form[e].OnCloseArray = [], ReqObj.Form[e].OnCloseStep = !0, this.OnCloseCounter = -1, this.NumberofClassCalled = 4; if (ReqObj.Form[e].flags.IsFirstStep = !1, isSet(ReqObj.Form[e].UiArray[this.StepCounter])) for (var r = 0; r < ReqObj.Form[e].UiArray[this.StepCounter].length; r++)t += ConstructorName(ReqObj.Form[e].UiArray[this.StepCounter][r].Obj); sectionInitialisationStepWise(e, 1), new LeftSide(e, ReqObj.Form[e].typeofform, 1); var o = { pre: [], post: [], current: [] }, i = { UiArray: [], ServiceArray: [] }; if (ShowOtp() && !ReqObj.Form[e].flags.isOtpShown) { o.pre = [], o.post = [this.OnClosegetStep]; var a = { object: { obj: new UserVerification(e), toReplace: !1, isService: !1, array: i, hooks: o }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(a), this.OnCloseServiceArray.push(i.ServiceArray), ReqObj.Form[e].OnCloseArray.push(i.UiArray) } if (NEC() && "ContactDetail" !== t) { i = { UiArray: [], ServiceArray: [] }; o.pre = [this.OnClosegetStep], o.post = []; var s = { object: { obj: new ContactDetail(1, 1, 1), toReplace: !1, isService: !1, array: i, hooks: o }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(s), o.pre = [], o.post = []; var n = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: i, hooks: o }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(n), this.OnCloseServiceArray.push(i.ServiceArray), ReqObj.Form[e].OnCloseArray.push(i.UiArray) } i = { UiArray: [], ServiceArray: [] }; o.pre = [], o.post = []; var l = { object: { obj: new ThankYou(e), toReplace: !1, objHtmlId: e + "_thankDiv", isService: !1, array: i, hooks: o }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(l), this.OnCloseServiceArray.push(i.ServiceArray), ReqObj.Form[e].OnCloseArray.push(i.UiArray), this.OnClosegetStep(e) }, FormSeq.prototype.OnClosegetStep = function (e) { this.getStep(e, !0) }, Generation.prototype.defaultEvents = function () { }, Generation.prototype.onSubmit = function (e) { this.cookies(), 1 === this.arg && this.intentGeneration(e), 0 === this.arg && this.blEnqGeneration(e) }, Generation.prototype.cookies = function () { this.imeshCookie = usercookie.getCookie("ImeshVisitor"), this.imEqGlCookie = usercookie.getCookie("imEqGl"), this.iplocCookie = usercookie.getCookie("iploc"), this.v4iilexCookie = usercookie.getCookie("v4iilex"), this.geoLocCookie = usercookie.getCookie("GeoLoc"), this.iso = usercookie.getParameterValue(this.imeshCookie, "iso") }, Generation.prototype.getData = function (e) { var t = {}, r = 0 !== ReqObj.loginMode ? ReqObj.loginMode : (new LoginMode).getLoginMode(), o = IsChatbl(e) ? "BL" : ReqObj.Form[e].formType; (t = 1 === this.arg ? this.getIntentData(e) : 0 === this.arg ? this.getBLEnqData(o, e) : {}).modid = ReqObj.Form[e].modId, t.mcatID = ReqObj.Form[e].mcatId, t.catID = ReqObj.Form[e].catId, t.login_mode = r, t.s_glusrid = usercookie.getParameterValue(this.imeshCookie, "glid"), t.s_country_iso = this.iso, t.s_ip_country = usercookie.getParameterValue(this.iplocCookie, "gcnnm"), t.s_ip = usercookie.getParameterValue(this.iplocCookie, "gip"), t.s_ip_country_iso = usercookie.getParameterValue(this.iplocCookie, "gcniso"), t.curr_page_url = window.location.href, t.landing_ref_url = usercookie.getCookie("site-entry-page"), t.prev_page_url = document.referrer, t.s_country_name = void 0 !== ReqObj.changeUserCountry && "" !== ReqObj.changeUserCountry ? ReqObj.changeUserCountry : "", "" !== this.geoLocCookie && (t.lat = usercookie.getParameterValue(this.geoLocCookie, "lt"), t.long = usercookie.getParameterValue(this.geoLocCookie, "lg"), t.lt_lg_accu = usercookie.getParameterValue(this.geoLocCookie, "accu")); var i = isSet(ReqObj.Form[e].CefProdType) ? ReqObj.Form[e].CefProdType : "", a = isSet(ReqObj.Form[e].prodServ) ? ReqObj.Form[e].prodServ : "", s = isSet(i) && "" !== i ? i : isSet(a) ? a : "P", n = ReqObj.Form[e].perWidget, l = ReqObj.Form[e].industry_ques, c = ReqObj.Form[e].refText; return isSet(n) ? t.rfq_query_ref_text = perWidget : isSet(l) && "" !== l ? t.rfq_query_ref_text = c + l + "|" + s + "|" : t.rfq_query_ref_text = c + "|" + s + "|", ObjectTrim(t) }, Generation.prototype.getBLEnqData = function (e, t) { var r = {}; if ("BL" === e || IsChatbl(t)) { var o = ReqObj.Form[t].prodName, i = $("#t" + t + "prodtitle").val(); r.s_prod_name = o !== i && void 0 !== i && "" !== i ? i : o } var a = usercookie.getParameterValue(this.imeshCookie, "fn"); "" === a ? (r.s_name = $("#t" + t + "_q_first_nm").length > 0 ? $("#t" + t + "_q_first_nm").val() : ReqObj.UserDetail.fn, IsChatbl(t) && (r.s_name = ReqObj.Form[t].UserInputs.Name)) : r.s_name = a, r.s_first_name = r.s_name, "IN" === this.iso ? (a = usercookie.getParameterValue(this.imeshCookie, "mb1"), r.s_mobile = "" !== a ? a : $("#t" + t + "_q_mobile").length > 0 ? $("#t" + t + "_q_mobile").val() : ReqObj.UserDetail.mb1) : (a = usercookie.getParameterValue(this.imeshCookie, "em"), r.s_email = "" !== a ? a : $("#t" + t + "_q_email").length > 0 ? $("#t" + t + "_q_email").val() : ReqObj.UserDetail.em), r.rfq_search_keyword = ReqObj.Form[t].ss; var s = usercookie.getCookie("adcamp"), n = usercookie.getCookie("emktg"); if (r.source_campaign = "", "" !== s) { var l = usercookie.getParameterValue(s, "adcmp"); r.source_campaign = r.source_campaign + s, r.adcmp = l } if ("" !== n) { var c = usercookie.getParameterValue(n, "Affliate_id"); r.source_campaign = "" === r.source_campaign ? "emktg" + c : r.source_campaign + "|emktg" + c } r.city_others = "" !== ReqObj.UserDetail.ctid ? "" : ReqObj.UserDetail.cityname, r.state_others = "", r.prod_serv = ReqObj.Form[t].prodServ, r.flag = e, r.afflid = ReqObj.Form[t].afflId, r.s_city_name = $("#t" + t + "_q_city_oth").length > 0 ? $("#t" + t + "_q_city_oth").val() : ReqObj.UserDetail.cityname, "IN" === currentISO() && (r.s_state_name = isSet(ReqObj.UserDetail.statename) && "" !== ReqObj.UserDetail.statename ? ReqObj.UserDetail.statename : ""), r.s_city_id = usercookie.getParameterValue(this.imeshCookie, "ctid"); var m = { 1399: 0, 1299: -1, 1879: 0, 1890: 0, 1999: 0, 4299: 0, 149: -1, 2199: -1, 199: -1, 1199: -1, 1899: 0, 3299: 0, 699: -1, 1499: -1, 2399: -1, 1869: 0, 179: -1, 700: -1, 750: -1 }, u = ReqObj.Form[t].rcvCustType; if (r.category_type = void 0 !== m[u] && 0 === m[u] ? "f" : "p", "Enq" === e) { r.r_glusrid = ReqObj.Form[t].rcvGlid, r.modref_id = ReqObj.Form[t].pDispId, r.modref_type = ReqObj.Form[t].modrefType ? ReqObj.Form[t].modrefType : "P" === ReqObj.Form[t].prodServ ? 1 : 2, r.s_company = ReqObj.Form[t].C_S_organization, r.s_prod_name = ReqObj.Form[t].prodName; var p = ReqObj.Form[t].prodDispName; r.s_prod_dispname = void 0 !== p && "" !== p && null !== p && "null" !== p ? p : "" } return "R" !== ReqObj.Form[t].insert && "U" !== ReqObj.Form[t].insert || (r.flag = "R", r.req_id = ReqObj.Form[t].generationId), r }, Generation.prototype.getIntentData = function (e) { var t = {}, r = (t = { modref_type: ReqObj.Form[e].modrefType, modref_id: ReqObj.Form[e].pDispId, r_glusrid: ReqObj.Form[e].rcvGlid, s_prod_name: ReqObj.Form[e].prodName, s_first_name: usercookie.getParameterValue(this.imeshCookie, "fn") }, ReqObj.Form[e].reqSent); if ("enq" === ReqObj.Form[e].formType.toLowerCase()) { r = ReqObj.Form[e].reqSent; t.flag = "Yes" === r || "yes" === r || 1 === r ? 12 : 1 } else if ("bl" === ReqObj.Form[e].formType.toLowerCase()) { var o = ReqObj.Form[e].BLIntent.toLowerCase(); "yes" === o && "mcat video" === ReqObj.Form[e].ctaName.toLowerCase() && (t.flag = 16), "yes" === o && "mcat video" !== ReqObj.Form[e].ctaName.toLowerCase() && (t.flag = 14) } return "IN" === this.iso ? t.s_mobile = usercookie.getParameterValue(this.imeshCookie, "mb1") : t.s_email = usercookie.getParameterValue(this.imeshCookie, "em"), t }, Generation.prototype.intentGeneration = function (e) { var t = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads"; if ("" !== this.imeshCookie) { var r = this.getData(e); r.form_type = t, r.tmpId = e, GenerateIntent(r) } }, Generation.prototype.blEnqGeneration = function (e) { var t = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads"; if (-2 === ReqObj.Form[e].mcatId || !isSet(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "glid")) || "" === usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "glid") || ReqObj.Form[e].generationId > 1 && "R" !== ReqObj.Form[e].insert && "U" !== ReqObj.Form[e].insert) ReqObj.Form[e].generationId > 1 && "R" !== ReqObj.Form[e].insert && "U" !== ReqObj.Form[e].insert ? PostAjax(o = PreAjax("Generation", e), e) : SpliceObject("Generation", ReqObj.Form[e].ServiceSequence); else if (ReqObj.Form[e].generationCalled) SpliceObject("Generation", ReqObj.Form[e].ServiceSequence); else { var r = this.getData(e); if ("IN" === currentISO() || isSet(r.s_first_name) || r.s_first_name) if (isSet(r.s_prod_name) || r.s_prod_name || isSet(ReqObj.Form[e].modrefType) && (!isSet(ReqObj.Form[e].modrefType) || "product" !== ReqObj.Form[e].modrefType.toLowerCase())) { termNcdata(e), ReqObj.Form[e].generationCalled = !0; var o = PreAjax("Generation", e); if (isSet(this.imEqGlCookie) && "IN" === usercookie.getParameterValue(this.imeshCookie, "iso") && isSet(ReqObj.Form[e].insert) && "I" === ReqObj.Form[e].insert) var i = appendImEqGlCookie(e, "firsttimecreation"); "R" !== ReqObj.Form[e].insert && "U" !== ReqObj.Form[e].insert || ReqObj.Form[e].generationId >= 1 && (r.req_id = ReqObj.Form[e].generationId, r.flag = ReqObj.Form[e].insert), IsChatbl(e) && (r.flag = "BL"), isSet(ReqObj.Form[e].FenqKey) && "" !== ReqObj.Form[e].FenqKey && "jobs" === ReqObj.Form[e].FenqKey.toLowerCase() && (r.modref_type = "jobs"), $.ajax({ cache: !1, url: appsServerName + "index.php?r=Newreqform/Postreq", type: "GET", dataType: "json", data: r, success: function (r) { if (isSet(r) && "I" === ReqObj.Form[e].insert) if ("Enq" === ReqObj.Form[e].formType) var a = ValidGenId(r.queryid); else if (IsFormBL(e)) a = ValidGenId(r.ofr); isSet(r) && isSet(ReqObj.Form[e].insert) && ("I" === ReqObj.Form[e].insert && a || "I" !== ReqObj.Form[e].insert) ? ("Enq" === ReqObj.Form[e].formType && "I" === ReqObj.Form[e].insert ? (ReqObj.Form[e].generationId = SanitizeId(r.queryid), ReqObj.Form[e].query_destination = r.query_destination, blenqGATracking(t, "service:Enquiry generation:success", getEventLabel(), 1, e), disableEnquiryButton(e)) : IsFormBL(e) && "I" === ReqObj.Form[e].insert ? (ReqObj.Form[e].generationId = SanitizeId(r.ofr), IsChatbl(e) && isSet(ReqObj.Form[e].source) ? blenqGATracking(t, "service:BL generation:success source: " + ReqObj.Form[e].source, getEventLabel(), 1, e) : blenqGATracking(t, "service:BL generation:success", getEventLabel(), 1, e)) : blenqGATracking(t, "service:BL Update generation:success", getEventLabel(), 1, e), PostAjax(o, e)) : ("Enq" === ReqObj.Form[e].formType && "I" === ReqObj.Form[e].insert ? blenqGATracking(t, "service:Enquiry Generation:failure", "response undefined", 1, e) : IsFormBL(e) && "I" === ReqObj.Form[e].insert ? blenqGATracking(t, "service:BL Generation:failure", "response undefined", 1, e) : blenqGATracking(t, "service:BL Update Generation:failure", "response undefined", 1, e), Ajaxfailure(o, e), RemoveValFromImEqGl(i)) }, error: function (r) { Ajaxfailure(o, e); var i = isSet(r) ? r : "response undefined"; "Enq" === ReqObj.Form[e].formType && "I" === ReqObj.Form[e].insert ? blenqGATracking(t, "service:Enquiry Generation:failure", i, 1, e) : IsFormBL(e) && "I" === ReqObj.Form[e].insert ? blenqGATracking(t, "service:BL Generation:failure", i, 1, e) : blenqGATracking(t, "service:BL Update Generation:failure", i, 1, e), usercookie.deleteCookie("imEqGl"), $("#t" + e + "_cls").off("click").on("click", function (t) { CloseForm(e) }) } }) } else SpliceObject("Generation", ReqObj.Form[e].ServiceSequence); else SpliceObject("Generation", ReqObj.Form[e].ServiceSequence) } }; var ReqObj = { Form: {}, Original: {}, TempEmail: "", TempMobile: "", TempName: "", OverlayHtml: "", UserDetail: { fn: "", em: "", ctid: "", mb1: "", uv: "", ctoth: "", cityname: "", ipctid: "", ipcityname: "", statename: "", stateid: "" }, UserHtml: {}, changeUserIso: "", changeUserCountry: "", isoFlag: "", isTNCShownOnFirstStep: !1, isTNCShownQuestion: !1, updateImage: 0, IsqCalled: [], userType: "", loginMode: 0, chatBlSequence: "", selectFromCountrySugg: !1, submitFromCountrySugg: !1, changeFlag: !1, ImageKey: {}, isMouseDownFired: !1, ChatBl: { item: "" }, IsqQuestion: { start: 0, end: 0 }, ImageVideoIsqSeq: !1, quantityunit: { isfirstcharacter: !1 }, mcatdtl: {}, mcatdtlcbObj: {}, isqservice: {}, isqFuncCalledArr: [], isAddSlot: 0 }, TreeConfig = { ProductName: [], UserLogin: [], Generation: ["UserLogin", "ProductName", "UserVerification", "ProdNameQuestionObject"], Isq: ["Generation"], PostBlEnqUpdate: ["Generation"], ContactDetail: ["UserLogin"], UserVerification: ["UserLogin"], RequirementDtl: ["Generation"], BlStaticQues: ["Generation"] }, PnameDependent = ["Isq", "RequirementDtl"], BtnType = { ProductName: { order: 2, text: "Submit", class: "form-btn", parent: "befstgo2" }, UserLogin: { order: 1, text: "Go", class: "befstbtn", parent: "befstgo" }, Isq: { order: 4, text: "Next", class: "form-btn", parent: "befstgo2" }, ContactDetail: { order: 3, text: "Submit", class: "form-btn", parent: "befstgo2" }, UserVerification: { order: 5, text: "Confirm Requirement", class: "blotpbtn", parent: "befstgo3" }, RequirementDtl: { order: 4, text: "Next", class: "form-btn", parent: "befstgo2" }, ThankYou: { order: 10, text: "Next", class: "form-btn", parent: "befstgo2" } }, Templateconfig = { "01": { istitleEditable: !0, isTitleSuggSet: !1, isFlagSuggSet: !1, isOtpShown: !1, isNECShown: !1, isDescDivShown: !1, isEnrichShown: { isStaticShown: !1, isAttachmentShown: !1 }, WasProdNamePresent: !1, autofocusPName: !1, isCountryFlagSuggSet: !1, IsFirstStep: !1, isIsqServiceFuncCalled: !1 }, "02": { istitleEditable: !0, isTitleSuggSet: !1, isFlagSuggSet: !1, isOtpShown: !1, isNECShown: !1, isDescDivShown: !1, isEnrichShown: { isStaticShown: !1, isAttachmentShown: !1 }, WasProdNamePresent: !1, autofocusPName: !1, isCountryFlagSuggSet: !1, IsFirstStep: !1, isIsqServiceFuncCalled: !1 }, "03": { istitleEditable: !0, isTitleSuggSet: !1, isFlagSuggSet: !1, isOtpShown: !1, isNECShown: !1, isDescDivShown: !1, isEnrichShown: { isStaticShown: !1, isAttachmentShown: !1 }, WasProdNamePresent: !1, autofocusPName: !1, isCountryFlagSuggSet: !1, IsFirstStep: !1, isIsqServiceFuncCalled: !1 }, "04": { istitleEditable: !1, isTitleSuggSet: !1, isFlagSuggSet: !1, isOtpShown: !1, isNECShown: !1, isDescDivShown: !1, isEnrichShown: { isStaticShown: !1, isAttachmentShown: !1 }, WasProdNamePresent: !1, autofocusPName: !1, isCountryFlagSuggSet: !1, IsFirstStep: !1, isIsqServiceFuncCalled: !1 }, "05": { istitleEditable: !1, isTitleSuggSet: !1, isFlagSuggSet: !1, isOtpShown: !1, isNECShown: !1, isDescDivShown: !1, isEnrichShown: { isStaticShown: !1, isAttachmentShown: !1 }, WasProdNamePresent: !1, autofocusPName: !1, isCountryFlagSuggSet: !1, IsFirstStep: !1, isIsqServiceFuncCalled: !1 }, "08": { istitleEditable: !0, isTitleSuggSet: !1, isFlagSuggSet: !1, isOtpShown: !1, isNECShown: !1, isDescDivShown: !1, isEnrichShown: { isStaticShown: !1, isAttachmentShown: !1 }, WasProdNamePresent: !1, autofocusPName: !1, isCountryFlagSuggSet: !1, IsFirstStep: !1, isotpSkipped: !1, isSkipOTPClicked: !1, showotpstep: 0, isIsqServiceFuncCalled: !1 }, "09": { istitleEditable: !0, isTitleSuggSet: !1, isFlagSuggSet: !1, isOtpShown: !1, isNECShown: !1, isDescDivShown: !1, isEnrichShown: { isStaticShown: !1, isAttachmentShown: !1 }, WasProdNamePresent: !1, autofocusPName: !1, isCountryFlagSuggSet: !1, IsFirstStep: !1, hitFinishEnquiryService: !1, isIsqServiceFuncCalled: !1 } }, BlPopup = ["09"], EnqPopup = ["09"], showElemonForm = ["chatbl", "chatbl-inline"], template_array = [], global_euroArr = ["AT", "BE", "BG", "HR", "CY", "CZ", "DK", "EE", "FI", "FR", "DE", "GR", "HU", "IE", "IT", "LV", "LT", "LU", "MT", "NL", "PL", "PT", "RO", "SK", "SI", "ES", "SE", "GB", "UK"], savedMcatIsq = {}, savedCatIsq = {}, HitMcatIsq = {}, isBLFormOpen = !1, IsqSeperator = "##"; function DataSeparator(e) { return e.join(IsqSeperator) } var defaultGenerationId = 1, flagsugg = new FlagSuggestor, usercookie = new UserCookie, QuestionEnding = "?", ChatBlStaticMsg = { quantity: "What is the order <strong>Quantity</strong>" + QuestionEnding, "quantity unit": "", "total order value(rs)": "What is the <strong>Total Order Value (Rs)</strong>" + QuestionEnding, "total order value": "What is the <strong>Total Order Value</strong>" + QuestionEnding, "why do you need this": "Why do you need this" + QuestionEnding, currency: "", "requirement details": "Please mention <strong>additional  details</strong>, if any, about your requirement", "i am interested in": "Tell us what you are interested in", "set content": "Set content" + QuestionEnding, "is this a sample order ?": "Is this a sample order" + QuestionEnding, "any preferred brand": "Any Preferred Brand" + QuestionEnding, "is it customized": "Is It Customized" + QuestionEnding }, NotFilled = "Not Answered", Skipped = "Not Sure", ReloadReqClass = ["UserLogin", "ContactDetail", "UserVerification", "MoreDetails"], SelectBoxStaticMsg = { "quantity unit": { default: "Select Unit", imgvidfrst: "Select Unit" }, currency: { chatbl: "Currency", default: "Select a Currency" } }, section_class = { enquiry: { left: { 1: { id: "_prodmedia", name: "prodmedia", cls: "be-pnmS " }, 2: { id: "_proddetails", name: "proddetail", cls: "bepr lTxt " } }, right: { 1: { id: "_hdg", name: "heading", cls: "be-hdg" }, 2: { id: "_rightproddetails", name: "rightproddetails", cls: "" }, 3: { id: "_questionouterwrapper", name: "questionouterwrapper", cls: "bemlsec" } } }, bl: { left: { 1: { id: "_prodmedia", name: "prodmedia", cls: "be-pnmS " }, 2: { id: "_helpQuest", name: "helpQuest", cls: "be-help " } }, right: { 1: { id: "_hdg", name: "heading", cls: "be-hdg" }, 2: { id: "_rightproddetails", name: "rightproddetails", cls: "" }, 3: { id: "_questionouterwrapper", name: "questionouterwrapper", cls: "bemlsec" } } }, image: { left: { 1: { id: "_prodmedia", name: "prodmedia", cls: "" }, 2: { id: "_proddetails", name: "proddetail", cls: "" } }, right: { 1: { id: "_hdg", name: "heading", cls: "be-hdg" }, 2: { id: "_rightproddetails", name: "rightproddetails", cls: "" }, 3: { id: "_questionouterwrapper", name: "questionouterwrapper", cls: "" } } }, video: { left: { 1: { id: "_prodmedia", name: "prodmedia", cls: "" }, 2: { id: "_proddetails", name: "proddetail", cls: "" } }, right: { 1: { id: "_hdg", name: "heading", cls: "be-hdg" }, 2: { id: "_rightproddetails", name: "rightproddetails", cls: "" }, 3: { id: "_questionouterwrapper", name: "questionouterwrapper", cls: "" } } }, popupchatbl: { left: {}, right: { 1: { id: "_blchatheader", name: "header", cls: "cbl_hed cbl_df cbl_p025 cbl_aic cbl_br8 cbl_bg1" }, 2: { id: "_hdg", name: "heading", cls: "be-hdg" }, 3: { id: "_questionouterwrapper", name: "questionouterwrapper", cls: "" } } }, inlinechatbl: { left: {}, right: { 1: { id: "_cls", name: "cross", cls: "be-cls" }, 2: { id: "_hdg", name: "heading", cls: "be-hdg" } } } }, section_number = { enquiry: { left: 2, right: 3 }, bl: { left: 2, right: 3 }, image: { left: 2, right: 3 }, video: { left: 2, right: 3 }, popupchatbl: { left: 0, right: 3 }, inlinechatbl: { left: 0, right: 2 } }; function ClearSeqArrays(e) { ReqObj.Form[e].UiArray = [], ReqObj.Form[e].ServiceSequence = [], ReqObj.Form[e].HitArray = [], ReqObj.Form[e].OnCloseArray = [] } function IsqKeys(e) { ReqObj.Form[e].IsqArray = "", ReqObj.Form[e].prevCount = 0, ReqObj.Form[e].stopper = 0, ReqObj.Form[e].IsqLength = 0, ReqObj.Form[e].IsqDiv = 0, ReqObj.Form[e].isqScreen = 0, ReqObj.Form[e].isqSubmitted = 0, ReqObj.Form[e].questionCount = 0, ReqObj.Form[e].questionsId = [], ReqObj.Form[e].questionsDesc = [], ReqObj.Form[e].optionsId = [], ReqObj.Form[e].optionsValue = [], ReqObj.Form[e].Isq = {}, ReqObj.Form[e].Isq.CurrentPageQuestions = [], ReqObj.Form[e].Isq.CurrentScreenAnswers = "", ReqObj.Form[e].toGetCurrentPagestring = !1, ReqObj.Form[e].toGetQuestionsOnly = !1, ReqObj.Form[e].Isq.getIsqQuestionString = [], ReqObj.Form[e].Isq.currentQuestionString = [], ReqObj.Form[e].requireNow = !1, ReqObj.Form[e].isQuantIsq = !1 } function ContactDetailKeys(e) { ReqObj.Form[e].ContactDetail = {} } function RdBoxKeys(e) { ReqObj.Form[e].ReqDtlBox = "", ReqObj.Form[e].flags.isDescDivShown = !1, ReqObj.Form[e].ReqDtl = {} } function EnrichKeys(e) { ReqObj.Form[e].EnrichmentVal = "", ReqObj.Form[e].flags.isEnrichShown.isStaticShown = !1, ReqObj.Form[e].flags.isEnrichShown.isAttachmentShown = !1 } function PropertyDefault(e, t) { ReqObj.Form[e].mcatName = ReturnCorrectVal(t.mcatName, ""), ReqObj.Form[e].mcatId = ReturnCorrectVal(t.mcatId, "-1"), ReqObj.Form[e].catId = ReturnCorrectVal(t.catId, "-1"), ReqObj.Form[e].modId = ReturnCorrectVal(t.modId, "DIR"), ReqObj.Form[e].ctaType = ReturnCorrectVal(t.ctaType, "other"), ReqObj.Form[e].plsqArr = ReturnCorrectVal(t.plsqArr, ""), ReqObj.Form[e].userFilledIsq = ReturnCorrectVal(t.userFilledIsq, []), ReqObj.Form[e].ordr_qnty_index = ReturnCorrectVal(t.ordr_qnty_index, ""), ReqObj.Form[e].showAttachment = isSet(t.showAttachment) ? t.showAttachment : "-1", isSet(ReqObj.Form[e].formType) && ("bl" === ReqObj.Form[e].formType.toLowerCase() ? (ReqObj.Form[e].afflId = ReturnCorrectVal(t.afflId, 0), ReqObj.Form[e].BLIntent = ReturnCorrectVal(t.BLIntent, "")) : ReqObj.Form[e].reqSent = ReturnCorrectVal(t.reqSent, "")), ReqObj.Form[e].insert = ReturnCorrectVal(t.insert, "I") } function StaticIsqKeys(e) { ReqObj.Form[e].Static = { questionsId: [], questionsDesc: [], optionsId: [], optionsValue: [] } } function ChatBlKeys(e) { IsChatbl(e) && (ReqObj.Form[e].UserInputs = { CountryName: "", IsCountry: "", IsProduct: "", ProductName: "", PrimaryInfo: "", Name: "", Mobile: "", Email: "", City: "", CityId: "", Requirement: "", OTP: "", toChange: "" }) } function setTemplateDefaultValue(e, t, r) { var o = e + t; PropertyDefault(o, r), IsqKeys(o), RdBoxKeys(o), EnrichKeys(o), StaticIsqKeys(o), ContactDetailKeys(o), ReqObj.Form[o].cityOth = "", ReqObj.Form[o].generationCalled = !1, ReqObj.userType = "", MakeRefText(o), ReqObj.Form[o].selectPrdTitle = function (e, t) { selectTitle(o, t) } } function initializeForm(e) { createGlobalObject(); var t = !1; if (ReqObj.isAddSlot = 0, isSet(e)) for (var r = 0; r < e.length; r++)isSet(e[r]) && "" !== e[r] && (-1 !== $.inArray(e[r].tempId, BlPopup) && -1 !== $.inArray(e[r].tempId, EnqPopup) || (OpenForm(e[r]), (isSet(e[r].displayImage) && "" !== e[r].displayImage || isSet(e[r].zoomImage) && "" !== e[r].zoomImage || !t && "bl" === e[r].formType.toLowerCase()) && (t = !0, getMcatImage(e[r].tempId + e[r].instId, { hasCallback: !1 })))) } function Isq(e) { this.templateId = "t" + e, this.className = "Isq", ReqObj.Form[e].preFilledIsq = {}, StructureIsq(e), this.IsqScreen = -1 } function UserType() { return !isSet(ReqObj.changeUserIso) || "IN" !== ReqObj.changeUserIso && "" !== ReqObj.changeUserIso ? "FR" : "IN" } function GetIsqFromObj(e) { if (isSet(e)) { var t = UserType(); ReqObj.Form[e].IsqArray = "", -1 === parseInt(ReqObj.Form[e].mcatId) && -1 === parseInt(ReqObj.Form[e].catId) ? (ReqObj.Form[e].IsqArray = null, ReqObj.Form[e].IsqLength = 0) : (-1 !== parseInt(ReqObj.Form[e].mcatId) && "" !== ReqObj.Form[e].mcatId ? ReqObj.Form[e].mcatId in savedMcatIsq && t in savedMcatIsq[ReqObj.Form[e].mcatId] && (ReqObj.Form[e].IsqArray = savedMcatIsq[ReqObj.Form[e].mcatId][t]) : ReqObj.Form[e].catId in savedCatIsq && t in savedCatIsq[ReqObj.Form[e].catId] && (ReqObj.Form[e].IsqArray = savedCatIsq[ReqObj.Form[e].catId][t]), ReqObj.Form[e].IsqLength = isSet(ReqObj.Form[e].IsqArray) ? ReqObj.Form[e].IsqArray.length : 0) } } function GetIsq(e) { if (isSet(e)) { var t = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads"; if (GetIsqFromObj(e), "" === ReqObj.Form[e].IsqArray || null === ReqObj.Form[e].IsqArray) { if (-1 !== parseInt(ReqObj.Form[e].mcatId, 10) && "" !== ReqObj.Form[e].mcatId) var r = ReqObj.Form[e].mcatId, o = 3; else if (-1 !== parseInt(ReqObj.Form[e].catId, 10)) r = ReqObj.Form[e].catId, o = 2; var i = UserType(), a = currentISO(); isSet(r) && -1 !== parseInt(r, 10) ? $.ajax({ cache: !0, url: appsServerName + "index.php?r=Newreqform/GetIsq", type: "GET", crossOrigin: !0, crossDomain: !0, data: { modid: ReqObj.Form[e].modId, mcatid: r, cat_type: o, flag: 1, isq_format: 1, generic_flag: 1, country_iso: a }, dataType: "json", success: function (t) { if (isSet(t) && isSet(t.DATA) && ("string" != typeof t.DATA || "null" !== t.DATA.toLowerCase())) if (t.DATA.length > 0) { ReqObj.Form[e].IsqArray = t.DATA, ReqObj.Form[e].IsqLength = ReqObj.Form[e].IsqArray.length; var r = [], o = ""; -1 !== parseInt(ReqObj.Form[e].mcatId) && "" !== ReqObj.Form[e].mcatId ? (r = savedMcatIsq, o = ReqObj.Form[e].mcatId) : (r = savedCatIsq, o = ReqObj.Form[e].catId), o in r ? r[o][i] = ReqObj.Form[e].IsqArray : (r[o] = {}, r[o][i] = ReqObj.Form[e].IsqArray) } else ReqObj.Form[e].IsqArray = null, ReqObj.Form[e].IsqLength = 0, -1 !== parseInt(ReqObj.Form[e].mcatId) && "" !== ReqObj.Form[e].mcatId ? savedMcatIsq[ReqObj.Form[e].mcatId][i] = null : savedCatIsq[ReqObj.Form[e].catId][i] = null; else ReqObj.Form[e].IsqArray = null, ReqObj.Form[e].IsqLength = 0 }, error: function (r) { ReqObj.Form[e].IsqArray = null, ReqObj.Form[e].IsqLength = 0, r = isSet(r) ? r : "response undefined", blenqGATracking(t, "Get ISQ", r, 1, e) }, complete: function () { isSet(e) && isSet(ReqObj.Form[e].Isq) && ReqObj.Form[e].Isq.HasHtmlCalled && isSet(ReqObj.Form[e].GlobalIsqObject) && "function" == typeof ReqObj.Form[e].GlobalIsqObject.AttachingObject && ReqObj.Form[e].GlobalIsqObject.AttachingObject(ReqObj.Form[e].GlobalIsqObject.IsqObject), isSet(e) && isSet(ReqObj.Form[e].ReqDtl) && ReqObj.Form[e].ReqDtl.HasHtmlCalled && isSet(ReqObj.Form[e].GlobalRdObj) && "function" == typeof ReqObj.Form[e].GlobalRdObj.AttachingObject && ReqObj.Form[e].GlobalRdObj.AttachingObject(ReqObj.Form[e].GlobalRdObj.RdObj) } }) : isSet(e) && isSet(r) && -1 === parseInt(r, 10) ? (ReqObj.Form[e].IsqArray = null, ReqObj.Form[e].IsqLength = 0, delete HitMcatIsq[ReqObj.Form[e].mcatId], ReqObj.Form[e].Isq.HasHtmlCalled && isSet(ReqObj.Form[e].GlobalIsqObject) && "function" == typeof ReqObj.Form[e].GlobalIsqObject.AttachingObject && ReqObj.Form[e].GlobalIsqObject.AttachingObject(ReqObj.Form[e].GlobalIsqObject.IsqObject)) : isSet(e) && (ReqObj.Form[e].IsqArray = null, ReqObj.Form[e].IsqLength = 0) } } } function addLine() { return '<div class="cbl_line"></div>' } function FindIsqObject(e, t, r, o, i) { if (isSet(e)) { if (e instanceof Array) { for (var a = isSet(e) ? e.length : 0, s = [], n = 0, l = 0; l < a; l++) { 1 === n && "popup" === chatBlPopupInline(t) && (c.UserInput += addLine()), a > 1 && r++; var c = FindIsqObject(e[l], t, r, !0); s.push(c), n = 1 } return i.push(s), i } if ("MDC" !== ReqObj.Form[t].modId || "Brand" !== e.IM_SPEC_MASTER_DESC) { if (isSet(ReqObj.Form[t].toGetCurrentPagestring) && ReqObj.Form[t].toGetCurrentPagestring && getIsqQuestions(e, "current", t), ("image" === ReqObj.Form[t].typeofform.toLowerCase() || "video" === ReqObj.Form[t].typeofform.toLowerCase()) && 0 === ReqObj.Form[t].FormSequence.StepCounter) { if ("quantity" === e.IM_SPEC_MASTER_DESC.toLowerCase() || "quantity unit" === e.IM_SPEC_MASTER_DESC.toLowerCase()) { var m = convertHtml(e, t, r); return ReqObj.Form[t].previousFullDesc = e.IM_SPEC_MASTER_FULL_DESC, ReqObj.Form[t].isQuantIsq = !0, o ? m : i.push([m]) } return ReqObj.Form[t].requireNow = !0, returnEnquireNowHtml(t) } m = convertHtml(e, t, r); return ReqObj.Form[t].previousFullDesc = e.IM_SPEC_MASTER_FULL_DESC, o ? m : i.push([m]) } ReqObj.Form[t].stopper++ } } function FindIsqObjectQuestions(e, t, r, o, i) { if (isSet(e)) { if (e instanceof Array) { for (var a = isSet(e) ? e.length : 0, s = [], n = 0; n < a; n++) { a > 1 && r++; var l = FindIsqObjectQuestions(e[n], t, r, !0); s.push(l) } return i.push(s), i } isSet(ReqObj.Form[t].toGetQuestionsOnly) && ReqObj.Form[t].toGetQuestionsOnly && getIsqQuestions(e, "allquestions", t) } } function returnEnquireNowHtml(e) { return { ClosingWrapper: "</div>", Label: returnSpan("t" + e, "_interested", "Interested ? ", "", "") + returnSpan("t" + e, "_getbest", "Get Best Price", "befwt", "") + returnSpan("t" + e, "_getbestrest", " here", "", ""), OuterWrapper: returnContainer("t" + e, "_enquirenow", "befwt eqs16", "", "", ""), UserInput: "", beforeInput: "", beforeLabel: "", isenquire: !0 } } function isOneQISQ(e) { return !(!isSet(ReqObj.Form[e].IsqArray) || null === ReqObj.Form[e].IsqArray || 1 !== ReqObj.Form[e].IsqArray.length || !0 !== ReqObj.Form[e].QuantIsq) } function updateUserFilledIsq(e, t) { for (var r = 0; r < 2; r++) { var o = { optionsId: t.b_id[r], optionsValue: t.b_response[r], questionsDesc: t.q_desc[r], questionsId: t.q_id[r] }; ReqObj.Form[e].userFilledIsq.push(o) } } function MakeLabel(e, t, r) { if (IsChatbl(r)) return ChatBlMsgs(e.QuestionDesc); var o = "<label class='" + e.lblClass + "' id='" + e.labelId + "'"; return isSet(e.questionId) && "" !== e.questionId && (o += "quesid='" + e.questionId + "'"), o += ">" + e.QuestionDesc + "</label>", isSet(t) && (o += t), o } function LabelForCheckAndRadio(e, t, r, o) { return IsChatbl(r) ? ChatBlMsgs(e.QuestionDesc, e.type) : "<div class='beclr'></div><div class='be-dvtxt bewauto bepr'><label id=" + e.labelId + " quesid='" + e.questionId + "' >" + e.QuestionDesc + "</label>" + o + t + "</div><div class='beclr'></div>" } function errorBlockFunction(e, t) { return !isSet(e) || $.isEmptyObject(e) ? "" : IsChatbl(t) ? "inline" === chatBlPopupInline(t) ? "<div class='isq_error_block redc " + e.error_block_class + "'>" + e.msg + "</div>" : "popup" === chatBlPopupInline(t) ? ($("#t" + t + "verify_error").html(e.msg), $("#t" + t + "cbl_bluline").addClass("cbl_erred"), "") : void 0 : "<div  class='be-erbx isq_error_block " + e.error_block_class + "'><div data-role='content'>" + e.msg + "</div><a class='be-erarw " + e.anchor_class + "'  data-role='arrow'></a></div>" } function Tooltip(e, t) { var r = ""; return isSet(e) && isSet(t) && "" !== t ? ("text" === e.toLowerCase() ? r = FullDescHtml({ div1Class: "int-ct3 info_iconeqbl", div2Class: "blnewform_sprit inft", div3Class: "nwarN bedsnone full_desc Tp8", fullDesc: t }) : "select" === e.toLowerCase() ? r = FullDescHtml({ div1Class: "int-ct3 info_iconeqbl", div2Class: "blnewform_sprit inft", div3Class: "nwarN bedsnone full_desc Tp8", fullDesc: t }) : "radio" === e.toLowerCase() ? r += FullDescHtml({ div1Class: "int-ct1 info_iconeqbl", div2Class: "blnewform_sprit inft tn6", div3Class: "nwarN bedsnone full_desc", fullDesc: t }) : "check" === e.toLowerCase() && (r += FullDescHtml({ div1Class: "int-ct1 info_iconeqbl", div2Class: "blnewform_sprit inft tn6", div3Class: "nwarN bedsnone full_desc", fullDesc: t })), isSet(r) ? r : "") : r } function TextBoxHTML(e, t) { var r = ""; return isSet(t) && "" !== t && (e.lblClass += " bedbtip", r = FullDescHtml({ div1Class: "int-ct3 info_iconeqbl", div2Class: "blnewform_sprit inft", div3Class: "nwarN bedsnone full_desc Tp8", fullDesc: t })), "<div class='" + e.divClass + "'>" + MakeLabel(e, r) + TextBoxIp(e) } function TextBoxIp(e) { return "<input type='text' class='" + e.inputClass + "' id='" + e.inputId + "' name='" + e.inputName + "' optionid = '" + e.optionId + "' maxlength='1000' autocomplete='off' value='" + e.ans + "' role='textbox' placeholder = '" + e.placeholder + "'/>" } function SelectBox(e, t) { var r = ""; isSet(t) && "" !== t && (e.lblClass += " bedbtip", r = FullDescHtml({ div1Class: "int-ct3 info_iconeqbl", div2Class: "blnewform_sprit inft", div3Class: "nwarN bedsnone full_desc Tp8", fullDesc: t })); var o = "<div class='" + e.divClass + "'>" + MakeLabel(e, r) + "<select class='" + e.selectClass + "'"; return void 0 !== e.onchange && e.onchange && (o += " onchange = 'funcOth(id)'"), o += " name='" + e.selectName + "' id='" + e.selectId + "'><option value=''>" + e.optionValue + "</option>" } function SelectBoxIp(e, t) { var r = "<" + ("popup" === chatBlPopupInline(t) ? "ul" : "select") + " class='" + e.selectClass + "'"; return void 0 !== e.onchange && e.onchange && (r += " onchange = 'funcOth(id)'"), r += " name='" + e.selectName + "' id='" + e.selectId + "'>", r += "popup" === chatBlPopupInline(t) ? "<li value='' disabled = 'true'>" + e.optionValue + "</li>" : "<option value=''>" + e.optionValue + "</option>" } function OthersBox(e, t) { var r = "<div class='" + e.divClass + "'><input type='text'"; return r += "popup" === chatBlPopupInline(t) ? "class='cbl_othinpt be-input isq_txtbx isq-st2'" : " class='be-input isq_txtbx isq-st2' ", r += " name='" + e.inputName + "' id='" + e.inputId + "' placeholder='Other Option' value='" + e.ans + "'><label for='" + e.inputId + "' optionid = " + e.optionId + "></label></div>" } function FullDescHtml(e) { return "<div class='" + e.div1Class + "'><div class='" + e.div2Class + "'></div><div class='" + e.div3Class + "'>" + e.fullDesc + "</div></div>" } function CheckBox(e, t, r) { var o = "<div class='" + t.divClass1 + "'>" + errorBlockFunction(r) + "<input type='checkbox' class='" + t.inputClass + " ' name='" + t.templateId + "checkbox_name" + t.questionCount + "' id='" + t.templateId + "checkbox_name" + t.questionCount + "_option" + parseInt(t.i + 1) + "' value='" + t.option_desc + "'" + t.checked + "><label optionid=" + t.option_id + "  for='" + t.templateId + "checkbox_name" + t.questionCount + "_option" + parseInt(t.i + 1) + "' class='" + t.labelClass + "'>"; return o += "popup" === chatBlPopupInline(e) ? "" : "<div class='bechk-in bebr4'><div class='" + t.divClass2 + "'></div></div>", o += "<span class='" + t.spanClass + "' >" + t.option_desc + "</span></label></div>" } function RadioBox(e, t, r) { var o = "<div class='" + t.divClass1 + "'>" + errorBlockFunction(r) + "<input type='radio' class='" + t.inputClass + "' name='" + t.templateId + "radio_name" + t.questionCount + "' id='" + t.templateId + "_radio_name" + t.questionCount + "_option" + parseInt(t.i + 1) + "' value='" + t.option_desc + "'" + t.checked + "><label optionid=" + t.option_id + " for='" + t.templateId + "_radio_name" + t.questionCount + "_option" + parseInt(t.i + 1) + "' class='bepr'"; return isSet(t.cityFunc) && (o += t.cityFunc), o += ">", o += "popup" === chatBlPopupInline(e) ? "" : "<div class='bechk-in'><div class='" + t.divClass2 + "'></div></div>", o += "<span class='" + t.spanClass + "' id='" + t.templateId + "_rad_chk" + t.questionCount + "_option" + parseInt(t.i + 1) + "' >" + t.option_desc + "</span></label></div>" } function StructureIsq(e, t) { if (isSet(ReqObj.Form[e].plsqArr) && "" !== ReqObj.Form[e].plsqArr) { var r = ReqObj.Form[e].plsqArr.split("#"); r = isSet(r) ? r : ""; for (var o = 0; o !== r.length; o++) { var i = r[o].split(":"); if (i[0] = trimVal(unescape(i[0]).toLowerCase()), BlEnqGenerated(e)) ReqObj.Form[e].preFilledIsq[i[0]] = unescape(i[1]), isSet(ReqObj.Form[e].preFilledIsq[i[0]]) && (ReqObj.Form[e].preFilledIsq[i[0]] = ReqObj.Form[e].preFilledIsq[i[0]].split(", ")); else { var a = unescape(i[1]); isSet(a) && (1 === (a = isSet(a = a.split(", ")) ? a : "").length ? ReqObj.Form[e].preFilledIsq[i[0]] = a : ReqObj.Form[e].preFilledIsq[i[0]] = []) } if (ReqObj.Form[e].preFilledIsq[i[0]] instanceof Array) for (var s = 0; s < ReqObj.Form[e].preFilledIsq[i[0]].length; s++)ReqObj.Form[e].preFilledIsq[i[0]][s] = trimVal(ReqObj.Form[e].preFilledIsq[i[0]][s].toLowerCase()) } } for (var n = 0; n < ReqObj.Form[e].userFilledIsq.length; n++)if (notEmpty(ReqObj.Form[e].userFilledIsq[n].questionsDesc) && notEmpty(ReqObj.Form[e].userFilledIsq[n].optionsValue)) { var l = ReqObj.Form[e].userFilledIsq[n].optionsValue.split(", "); l = isSet(l) ? l : ""; for (var c = 0; c < l.length; c++)isSet(l[c]) && (l[c] = trimVal(l[c].toLowerCase())); ReqObj.Form[e].preFilledIsq[ReqObj.Form[e].userFilledIsq[n].questionsDesc.toLowerCase()] = l } } function FillIsq(e, t) { if (isSet(e)) { if (e = trimVal(e.toLowerCase()), ReqObj.Form[t].preFilledIsq.hasOwnProperty(e)) { var r = ReqObj.Form[t].preFilledIsq[e]; return delete ReqObj.Form[t].preFilledIsq[e], r } return null } } function SelBoxMSg(e, t) { var r = isImageVidEnq(t) && 0 === ReqObj.Form[t].FormSequence.StepCounter ? "Unit" : "Select a Value"; if (isSet(e)) { var o = trimVal(e.toLowerCase()); if (o in SelectBoxStaticMsg) { var i = SelectBoxStaticMsg[o]; return isSet(i) && isSet(t) && IsChatbl(t) && isSet(i.chatbl) && "" !== i.chatbl ? i.chatbl : isImageVidEnq(t) && 0 === ReqObj.Form[t].FormSequence.StepCounter ? i.imgvidfrst : i.default } return r } return r } function getIsqQuestions(e, t, r) { "allquestions" === t ? ReqObj.Form[r].Isq.getIsqQuestionString.push(e.IM_SPEC_MASTER_DESC) : "current" === t && ReqObj.Form[r].Isq.currentQuestionString.push(e.IM_SPEC_MASTER_DESC) } function SelectBoxEvents() { $("select.betextclr").off("change click").on("change click", function () { var e = $(this); "" === $(this).val() ? (e.css("color", "#9e9e9e"), e.parent().siblings().children("label").removeClass("redc"), e.parent().siblings().children(".isq_error_block").remove(), e.parent().siblings().children(".be-input").removeClass("highlight-err")) : (e.css("color", "#333"), e.removeClass("highlight-err"), e.siblings("label").removeClass("redc"), e.siblings(".isq_error_block").remove()) }) } function InputBoxEvents(e) { setTimeout(function () { $(".cbl_qunty").focus(), $(".cbl_isq_grp").children().focus() }, 1300), $(".cbl_qunty").off("click").on("click", function () { $("#t" + e + "verify_error").html(""), $("#t" + e + "cbl_bluline").removeClass("cbl_erred") }), $(".cbl_unit").off("click").on("click", function () { $("#t" + e + "verify_error").html(""), $("#t" + e + "cbl_bluline").removeClass("cbl_erred") }), $(".inpt_errorbx").off("click keyup").on("click keyup", function () { var e = $(this); e.removeClass("highlight-err"), e.siblings("label").removeClass("redc"), e.siblings(".isq_error_block").remove(), e.siblings("select.betextclr").removeClass("highlight-err"), isSet(e.val()) && "" === trimVal(e.val()) && (e.parent().siblings().children("label").removeClass("redc"), e.parent().siblings().children(".isq_error_block").remove(), e.parent().siblings().children(".be-input").removeClass("highlight-err")) }) } function InputBoxAutoFocus(e) { for (var t = $("input[type=text]"), r = t.length, o = 0; o < r; o++)if ($(t[o]).hasClass("imgoneqty")) { var i = $(t[o]).attr("id"); $("#" + i).focus() } } function IsqAlreadyPresent(e, t) { if (isSet(e) && notEmpty(t) && isSet(ReqObj.Form[e].questionsDesc)) for (var r = 0; r < ReqObj.Form[e].questionsDesc.length; r++)if (t.toLowerCase() === ReqObj.Form[e].questionsDesc[r].toLowerCase()) return r; return -1 } function SaveIsq(e, t, r) { if ("isq" === t.toLowerCase()) var o = ReqObj.Form[e].questionsId, i = ReqObj.Form[e].questionsDesc, a = ReqObj.Form[e].optionsId, s = ReqObj.Form[e].optionsValue; else if ("static" === t.toLowerCase()) o = ReqObj.Form[e].Static.questionsId, i = ReqObj.Form[e].Static.questionsDesc, a = ReqObj.Form[e].Static.optionsId, s = ReqObj.Form[e].Static.optionsValue; var n = []; if (r > -1) n = ReqObj.Form[e].Isq.CurrentPageQuestions[r]; if (isSet(n)) { ReqObj.Form[e].IsqUpdated = !1; for (var l = 0; l < n.length; l++) { for (var c = "", m = "", u = 0; u < n[l].length; u++) { var p = IsqAlreadyPresent(e, n[l][u].questionText); if ("TEXTBOX" === n[l][u].type) { var d = trimVal($(n[l][u].optionSelector).val()); -1 === p ? d ? (m = "" !== m ? m : n[l][u].questionText, o.push(n[l][u].questionId), i.push(n[l][u].questionText), a.push($(n[l][u].optionSelector).attr("optionid")), s.push(d), "not sure" !== trimVal(c.toLowerCase()) ? c += " " + d : c = NotFilled) : c = NotFilled : d ? (m = "" !== m ? m : n[l][u].questionText, o[p] = n[l][u].questionId, i[p] = n[l][u].questionText, a[p] = $(n[l][u].optionSelector).attr("optionid"), s[p] = d, "not sure" !== trimVal(c.toLowerCase()) ? c += " " + d : c = NotFilled) : (ReqObj.Form[e].IsqUpdated = !0, o.splice(p, 1), i.splice(p, 1), a.splice(p, 1), s.splice(p, 1)) } else if ("SELECT" === n[l][u].type) { var b = "", h = "popup" === chatBlPopupInline(e) ? $(".cbl_selected").attr("optionid") : $(n[l][u].optionSelector + " option:selected").attr("optionid"), f = "popup" === chatBlPopupInline(e) ? trimVal($(n[l][u].optionSelector).attr("value")).toLowerCase() : trimVal($(n[l][u].optionSelector + " option:selected").attr("value")).toLowerCase(); b = "other" === f || "others" === f ? "popup" === chatBlPopupInline(e) ? trimVal($(n[l][u].optionSelector).attr("value")) : trimVal($(n[l][u].others[0]).val()) : "popup" === chatBlPopupInline(e) ? trimVal($(n[l][u].optionSelector).attr("value")) : trimVal($(n[l][u].optionSelector).val()), -1 === p ? b ? (m = "" !== m ? m : n[l][u].questionText, o.push(n[l][u].questionId), i.push(n[l][u].questionText), a.push(h), s.push(b), "not sure" !== trimVal(c.toLowerCase()) && (c += " " + b)) : c = NotFilled : b ? (m = "" !== m ? m : n[l][u].questionText, o[p] = n[l][u].questionId, i[p] = n[l][u].questionText, a[p] = h, s[p] = b, "not sure" !== trimVal(c.toLowerCase()) && (c += " " + b)) : (ReqObj.Form[e].IsqUpdated = !0, c = NotFilled, o.splice(p, 1), i.splice(p, 1), a.splice(p, 1), s.splice(p, 1)) } else if ("CHECKBOX" === n[l][u].type) { if (-1 !== p) { ReqObj.Form[e].IsqUpdated = !0; for (var q = 0; q < i.length;)n[l][u].questionText.toLowerCase() === i[q].toLowerCase() ? (o.splice(q, 1), i.splice(q, 1), a.splice(q, 1), s.splice(q, 1)) : q++ } trimVal($(n[l][u].optionSelector).val()) && $.each($(n[l][u].optionSelector + ":checked"), function () { m = "" !== m ? m : n[l][u].questionText, o.push(n[l][u].questionId), i.push(n[l][u].questionText), a.push($(this).siblings("label").attr("optionid")), s.push(trimVal($(this).val())), "not sure" !== trimVal(c.toLowerCase()) && (c += ", " + trimVal($(this).val())) }); for (var g = 0; g < n[l][u].others.length; g++) { (d = trimVal($(n[l][u].others[g]).val())) && (m = "" !== m ? m : n[l][u].questionText, o.push(n[l][u].questionId), i.push(n[l][u].questionText), a.push($(n[l][u].others[g]).siblings("label").attr("optionid")), s.push(d), "not sure" !== trimVal(c.toLowerCase()) && (c += ", " + d)) } c = "" === trimVal(c) ? NotFilled : (c = trimVal(c)).replace(/(^,)|(,$)/g, "") } else if ("RADIO" === n[l][u].type) { -1 !== p && (ReqObj.Form[e].IsqUpdated = !0, o.splice(p, 1), i.splice(p, 1), a.splice(p, 1), s.splice(p, 1)), (d = trimVal($(n[l][u].optionSelector + ":checked").val())) && (m = "" !== m ? m : n[l][u].questionText, o.push(n[l][u].questionId), i.push(n[l][u].questionText), a.push($(n[l][u].optionSelector + ":checked").siblings("label").attr("optionid")), s.push(d), "not sure" !== trimVal(c.toLowerCase()) && (c += " " + d)); for (g = 0; g < n[l][u].others.length; g++)(d = trimVal($(n[l][u].others[g]).val())) && (m = "" !== m ? m : n[l][u].questionText, o.push(n[l][u].questionId), i.push(n[l][u].questionText), a.push($(n[l][u].others[g]).siblings("label").attr("optionid")), s.push(d), "not sure" !== trimVal(c.toLowerCase()) && (c += " " + d)); "" === trimVal(c) && (c = NotFilled) } "why do you need this" === trimVal(m.toLowerCase()) && (m = "Purpose", isSet(ReqObj.Form[e].CompanyNameAsked) && 1 !== ReqObj.Form[e].CompanyNameAsked && ("" !== $("#" + e + "_compnamerb").val() ? (localStorage.setItem("Company Name", "1"), ReqObj.Form[e].companyName = $("#" + e + "_compnamerb").val(), CompanyNameService(e)) : localStorage.setItem("Company Name", "0"))) } ReqObj.Form[e].Isq.CurrentScreenAnswers = trimVal(c), ReqObj.Form[e].Isq.KeyQuestion = trimVal(m) } } n = [] } function GetAnswer(e, t) { if (isSet(e) && isSet(ReqObj.Form[e].Isq.CurrentScreenAnswers)) { var r = ReqObj.Form[e].Isq.CurrentScreenAnswers; return r = "Not Answered" !== r && "popup" === chatBlPopupInline(e) ? ReqObj.Form[e].Isq.KeyQuestion + ": " + r : r, ReqObj.Form[e].Isq.CurrentScreenAnswers = "", r } } function ValidateQuestions(e, t, r) { var o = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", i = ReqObj.Form[e].FormSequence.StepCounter + 1, a = []; if (r > -1) a = ReqObj.Form[e].Isq.CurrentPageQuestions[r]; if (isSet(a)) for (var s = 0; s < a.length; s++) { var n = 0, l = "", c = ""; if (isSet(ReqObj.Form[e].formType) && "chatbl" !== ReqObj.Form[e].formType.toLowerCase()) var m = { error_block_class: "beerrp3", anchor_class: "bearwL2" }; else m = {}; if (isSet(a[s])) { for (var u = a[s].length, p = 0; p < a[s].length; p++)if ("TEXTBOX" === a[s][p].type) { var d = trimVal($(a[s][p].optionSelector).val()); if (d) { if (t && "quantity" === a[s][p].questionText.toLowerCase() && !(0 !== parseInt(d, 10) && ValidNumber(d) && parseInt(d, 10) > 0)) { n++ , 0 === parseInt(d, 10) ? m.msg = "Quantity should not be 0" : ValidNumber(d) && parseInt(d, 10) > 0 || (m.msg = "Quantity should be numeric except 0"), IsChatbl(e) && u > 1 && 0 === p && (m.error_block_class = " erchat"), !0, l = a[s][p].optionSelector, c = "Validation_Error" + a[s][p].questionText; break } !1 } else n++ , m.msg = "Please enter " + a[s][p].questionText, IsChatbl(e) && u > 1 && 0 === p && (m.error_block_class = " erchat"), !1, l = a[s][p].optionSelector, c = "Validation_Error" + a[s][p].questionText } else if ("SELECT" === a[s][p].type) { var b = "popup" === chatBlPopupInline(e) ? trimVal($(a[s][p].optionSelector).attr("value")).toLowerCase() : trimVal($(a[s][p].optionSelector + " option:selected").attr("value")).toLowerCase(); ("other" === b || "others" === b ? "popup" === chatBlPopupInline(e) ? trimVal($(a[s][p].optionSelector).val()) : trimVal($(a[s][p].others[0]).val()) : trimVal($(a[s][p].optionSelector).val())) ? !0 : (n++ , m.msg = "Please enter " + a[s][p].questionText, IsChatbl(e) && u > 1 && 0 === p && (m.error_block_class = " erchat"), l = a[s][p].optionSelector, c = "Validation_Error" + a[s][p].questionText, !1) } else "CHECKBOX" === a[s][p].type || a[s][p].type; if (n && n < a[s].length) { var h = "popup" === chatBlPopupInline(e) ? $("#t" + e + "verify_error") : $(l); return "popup" === chatBlPopupInline(e) ? $("#t" + e + "cbl_bluline").addClass("cbl_erred") : h.addClass("highlight-err").focus().siblings("label").addClass("redc"), h.siblings(".isq_error_block").length > 0 || h.parent().append(errorBlockFunction(m, e)), blenqGATracking(o, c + i + "|IsqValidate", getEventLabel(), 0, e), !1 } } } return !0 } function getProdDetailsHtml(e, t, r) { var o = returnContainer("t" + e, "_Prodname" + r, "", "", "", "") + "</div>"; return o += returnContainer("t" + e, "_ProdPrice" + r, "befs16", "", "", "") + "<span id='t" + e + "_price" + r + "'></span ><span id='t" + e + "_unit" + r + "'></span > </div > ", o += returnContainer("t" + e, "_Compname" + r, "befs16", "", "", "") + "</div>", o += returnContainer("t" + e, "_soldBy" + r, "befs16", "", "", "") + "<span id='t" + e + "_sold" + r + "'></span><span id='t" + e + "_addr" + r + "'></span></div>", o += returnContainer("t" + e, "_isqdetails" + r, "befs16 berow", "", "", "") + "</div>" } function prodDetailsData(e) { var t = {}; t.locality = isSet(ReqObj.Form[e.initialdata.tmpId].rcvLocality) && "" !== ReqObj.Form[e.initialdata.tmpId].rcvLocality ? ReqObj.Form[e.initialdata.tmpId].rcvLocality : "", t.city = isSet(ReqObj.Form[e.initialdata.tmpId].rcvCity) && "" !== ReqObj.Form[e.initialdata.tmpId].rcvCity ? ReqObj.Form[e.initialdata.tmpId].rcvCity : "", t.state = isSet(ReqObj.Form[e.initialdata.tmpId].rcvState) && "" !== ReqObj.Form[e.initialdata.tmpId].rcvState ? ReqObj.Form[e.initialdata.tmpId].rcvState : "", t.comp_name = isSet(ReqObj.Form[e.initialdata.tmpId].rcvName) && "" !== ReqObj.Form[e.initialdata.tmpId].rcvName ? ReqObj.Form[e.initialdata.tmpId].rcvName : "", t.prod_name = isSet(ReqObj.Form[e.initialdata.tmpId].prodDispName) && "" !== ReqObj.Form[e.initialdata.tmpId].prodDispName ? ReqObj.Form[e.initialdata.tmpId].prodDispName : isSet(ReqObj.Form[e.initialdata.tmpId].prodName) && "" !== ReqObj.Form[e.initialdata.tmpId].prodName ? ReqObj.Form[e.initialdata.tmpId].prodName : ""; var r = isSet(ReqObj.Form[e.initialdata.tmpId].price) && "" !== ReqObj.Form[e.initialdata.tmpId].price ? ReqObj.Form[e.initialdata.tmpId].price : "", o = "", i = ""; return isSet(r) && "" !== r && (o = (r = (r = (r = r.replace(/Approx(.*?)Rs/, "")).replace(/Rs/, "")).trim()).substring(0, r.indexOf("/")).trim(), i = r.substring(r.indexOf("/") + 1), "" !== o ? o = "Rs. " + o + "/" : (o = "Rs. " + i, i = "")), t.price = o, t.unit = i, t.modrefType = isSet(ReqObj.Form[e.initialdata.tmpId].modrefType) && "" !== ReqObj.Form[e.initialdata.tmpId].modrefType ? ReqObj.Form[e.initialdata.tmpId].modrefType : "", t.plsqArr = isSet(ReqObj.Form[e.initialdata.tmpId].plsqArr) && "" !== ReqObj.Form[e.initialdata.tmpId].plsqArr ? ReqObj.Form[e.initialdata.tmpId].plsqArr : "", t } function prodDetailsHtmlInsertion(e) { prodDetailsHtmlDefautls(e), prodNameHtmlInsertion(e), compNameHtmlInsertion(e), prodPriceHtmlInsertion(e), soldByHtmlInsertion(e), ("image" !== e.initialdata.typeofform && "video" !== e.initialdata.typeofform || "0R" !== e.initialdata.step) && isqQuestionHtmlInsertion(e), prodDetailshandleCSS(e) } function prodDetailsHtmlDefautls(e) { $("#t" + e.initialdata.tmpId + "_isqdetails" + e.initialdata.step).html(""), $("#t" + e.initialdata.tmpId + "_Prodname" + e.initialdata.step).html(""), $("#t" + e.initialdata.tmpId + "_Compname" + e.initialdata.step).html(""), $("#t" + e.initialdata.tmpId + "_price" + e.initialdata.step).html(""), $("#t" + e.initialdata.tmpId + "_unit" + e.initialdata.step).html(""), $("#t" + e.initialdata.tmpId + "_sold" + e.initialdata.step).html(""), $("#t" + e.initialdata.tmpId + "_addr" + e.initialdata.step).html(""), $("#t" + e.initialdata.tmpId + "_isqdetails" + e.initialdata.step).html("") } function prodNameHtmlInsertion(e) { "company" !== e.datavalue.modrefType && "" !== e.datavalue.prod_name && $("#t" + e.initialdata.tmpId + "_Prodname" + e.initialdata.step).html(e.datavalue.prod_name).removeClass("bedsnone").addClass("be-pnm") } function compNameHtmlInsertion(e) { ("company" === e.datavalue.modrefType || "company" !== e.datavalue.modrefType && "" === e.datavalue.prod_name) && $("#t" + e.initialdata.tmpId + "_Compname" + e.initialdata.step).html(e.datavalue.comp_name).removeClass("bedsnone befs14 be-inbl").addClass("be-pnm") } function prodPriceHtmlInsertion(e) { $("#t" + e.initialdata.tmpId + "_price" + e.initialdata.step).html(e.datavalue.price), $("#t" + e.initialdata.tmpId + "_unit" + e.initialdata.step).html(e.datavalue.unit) } function soldByHtmlInsertion(e) { "company" !== e.datavalue.modrefType && "" !== e.datavalue.prod_name && ("" !== e.datavalue.comp_name || "" !== e.datavalue.city || "" !== e.datavalue.state ? ($("#t" + e.initialdata.tmpId + "_sold" + e.initialdata.step).html("Sold By - "), "" !== e.datavalue.comp_name && $("#t" + e.initialdata.tmpId + "_addr" + e.initialdata.step).html(e.datavalue.comp_name), "" !== e.datavalue.city && $("#t" + e.initialdata.tmpId + "_addr" + e.initialdata.step).append(", " + e.datavalue.city), "" !== e.datavalue.state && $("#t" + e.initialdata.tmpId + "_addr" + e.initialdata.step).append(", " + e.datavalue.state)) : $("#t" + e.initialdata.tmpId + "_sold" + e.initialdata.step).html("")) } function isqQuestionHtmlInsertion(e) { var t = decodeURIComponent(e.datavalue.plsqArr); if (isSet(t) && "" !== t) for (var r = 0, o = t.split("#"), i = o.length, a = 0; a < i; a++) { var s = o[a].split(":"), n = s[0], l = s[1]; if (isSet(n) && "" !== n && isSet(l) && "" !== l) { for (var c = l.length, m = "", u = 0; u < c && (l[u].length < 32 && m.length < 32); u++)m += l[u]; if (m = m.substring(0, 32).trim(), $("#t" + e.initialdata.tmpId + "_isqdetails" + e.initialdata.step).append("<p class='col111'>" + returnSpan("t" + e.initialdata.tmpId, "_isqkey" + a, n + ": ", "col777", "") + m + "</p>"), 4 === ++r) break } } } function prodDetailshandleCSS(e) { $("#t" + e.initialdata.tmpId + "_Prodname" + e.initialdata.step).addClass("eprod"), $("#t" + e.initialdata.tmpId + "_price" + e.initialdata.step).addClass("eqpr"), $("#t" + e.initialdata.tmpId + "_ProdPrice" + e.initialdata.step).removeClass().addClass("eqprodpr"), $("#t" + e.initialdata.tmpId + "_sold" + e.initialdata.step).addClass("eqsold"), $("#t" + e.initialdata.tmpId + "_soldBy" + e.initialdata.step).removeClass().addClass("eqsoldby") } function LeftSide(e, t, r) { this.sectionName = [], this.defaultActions(e, t, r) } function createImageObject(e) { return { type: "image", displayImage: e.mediakey.directvalues.displayImage, zoomImage: e.mediakey.directvalues.zoomImage, vidUrl: "" } } function insertHtml(e) { "video" === e.data.cttype.toLowerCase() ? youtubeVideo({ data: { tmpId: e.data.receivingData.initialdata.tmpId, vidUrl: e.data.vidUrl } }) : ($("#t" + e.data.receivingData.initialdata.tmpId + "parent_iframe").html("<div id='t" + e.data.receivingData.initialdata.tmpId + "_prodVideo' class='fL bepr bdr1 pdpHg'></div>").addClass("bedsnone"), $("#t" + e.data.receivingData.initialdata.tmpId + "_prodimg").removeClass("bedsnone"), $(e.data.tochangeelement).html((new ReqImage).displayHtml(e.data.receivingData.initialdata.tmpId, e.data.receivingData.mediakey.key, e.data.which, !0)), e.data.receivingData.mediakey.startingindex = e.data.which), e.data.receivingData.initialdata.obj.handleCSS(e.data.receivingData, "slider", e.data.onclickelement) } function hideAllArrows(e) { $("#t" + e.initialdata.tmpId + "_bedown").addClass("bedsnone"), $("#t" + e.initialdata.tmpId + "_beup").addClass("bedsnone") } function showHideArrow(e, t) { $("#t" + e.initialdata.tmpId + "_beup").removeClass("bedsnone"), "down" === t ? ($("#t" + e.initialdata.tmpId + "_bedown").removeClass("bedsnone").off("click").on("click", { receivingData: e }, moveDownImage), $("#t" + e.initialdata.tmpId + "_beup").addClass("bedsnone")) : "up" === t ? ($("#t" + e.initialdata.tmpId + "_beup").removeClass("bedsnone").off("click").on("click", { receivingData: e }, moveUpImage), $("#t" + e.initialdata.tmpId + "_bedown").addClass("bedsnone")) : "between" === t && ($("#t" + e.initialdata.tmpId + "_bedown").removeClass("bedsnone").off("click").on("click", { receivingData: e }, moveDownImage), $("#t" + e.initialdata.tmpId + "_beup").removeClass("bedsnone").off("click").on("click", { receivingData: e }, moveUpImage)) } function moveUpImage(e) { e.data.receivingData.mediakey.key; var t = e.data.receivingData.mediakey.startingindex, r = (ReqObj.Form[e.data.receivingData.initialdata.tmpId].formType.toLowerCase(), returnUpdatedData(t -= 1, e)); r.index = t, e.data.receivingData.mediakey.startingindex = t, "video" === r.type.toLowerCase() ? (e.data.receivingData.cttype = "video", e.data.receivingData.vidUrl = r.vidUrl, $("#t" + e.data.receivingData.initialdata.tmpId + "_imglodr").removeClass("bedsnone")) : $("#t" + e.data.receivingData.initialdata.tmpId + "_imglodr").addClass("bedsnone"), e.data.receivingData.initialdata.obj.insertIntoProdMediaHtml(e.data.receivingData, "slider", "#t" + e.data.receivingData.initialdata.tmpId + "_slider" + t) } function moveDownImage(e) { e.data.receivingData.mediakey.key; var t = e.data.receivingData.mediakey.startingindex, r = (ReqObj.Form[e.data.receivingData.initialdata.tmpId].formType, returnUpdatedData(t += 1, e)); r.index = t, e.data.receivingData.mediakey.startingindex = t, "video" === r.type.toLowerCase() ? (e.data.receivingData.cttype = "video", e.data.receivingData.vidUrl = r.vidUrl, $("#t" + e.data.receivingData.initialdata.tmpId + "_imglodr").removeClass("bedsnone")) : $("#t" + e.data.receivingData.initialdata.tmpId + "_imglodr").addClass("bedsnone"), e.data.receivingData.initialdata.obj.insertIntoProdMediaHtml(e.data.receivingData, "slider", "#t" + e.data.receivingData.initialdata.tmpId + "_slider" + t) } function returnUpdatedData(e, t) { return t.data.receivingData.mediakey.key[e] } function PostBlEnqUpdate() { this.className = "PostBlEnqUpdate" } function ProductNameQuestion(e) { this.className = "ProductNameQuestion", this.ProductNameQuestionHtmlObj = { Label: "", UserInput: "", OuterWrapper: "", ClosingWrapper: "" }, this.ProductNameQuestionHtmlObjArray = [], this.ProductNameQuestionHTML = "" } function FormSeq() { this.arraySeq = [], this.ServiceSequence = [], this.FullServiceArray = [], this.OnCloseServiceArray = [], this.OnCloseStep = !1, this.OnCloseCounter = -1, this.NextStepsShown = [] } function ElExists(e) { return !!(notEmpty(e) && $("#" + e).length > 0) } function CounterScreenId(e, t) { if (isSet(e) && IsPrevBtnImplemented(e)) { isSet(t) || (t = 0); var r = ReqObj.Form[e].FormSequence, o = "t" + e, i = parseInt(t, 10), a = "", s = "onCloseScreen"; return ValidNumber(i) || (i = 0), r.OnCloseCounter > -1 ? (o += s + (i += r.OnCloseCounter + 1), a = s) : 1 === t ? r.StepCounter < ReqObj.Form[e].UiArray.length - 1 ? (o += "screen" + (i += r.StepCounter + 1), a = "screen") : (o += s + (i += r.OnCloseCounter + 1), a = s) : (o += "screen" + (i += r.StepCounter + 1), a = "screen"), { elid: o, type: a } } return "" } function beforeformsubmitaction(e) { $("#t" + e + "chngPrdDiv").addClass("dn"), $("#t" + e + "verify_error").html(""), $("#t" + e + "cbl_bluline").removeClass("cbl_erred") } function ValidateObj(e, t, r, o) { var i = !1; if (isSet(e) && isSet(t) && isSet(e[t] && isSet(r))) for (var a = 0; a < e[t].length; a++)if ("function" == typeof e[t][a].Obj.validate) { if (!e[t][a].Obj.validate(r, o)) { i = !0; break } } else i = !1; return i } function BackBtn(e, t) { if (isSet(e)) for (var r = 0; r < e.length; r++)isSet(e[r].Obj) && "function" == typeof e[r].Obj.BackButton && e[r].Obj.BackButton(t) } function CheckforUpdate(e, t) { 0 === e && IsBlEnqProdNameChanged(t) && RefactorFormArrays(t) } function RemovePost(e) { if (isSet(e)) for (var t = 0; t < e.length; t++) { if (isSet(e[t].post) && e[t].post.length > 0) return void (e[t].post = []); RemovePost(e[t].cb) } } function ClearInlineBlTag(e) { var t = $("#t" + e + "_bl_form").parent(); ReqObj.Form[e].InlineformParentEl = t, ReqObj.Form[e].InlineformHtml = t.html(), t.html("") } function makeObj(e, t) { if ("" !== ConstructorName(e)) { var r = {}, o = GetObjectKeys(t); for (var i in isSet(e) && (r.fn = e), o) isSet(t[o[i]]) ? r[o[i]] = t[o[i]] : r[o[i]] = []; return r.cb = [], r } return {} } function ReplaceObject(e, t, r) { e.isService || e.toReplace && !1 !== r.GetExistingObject(ConstructorName(e.obj), t) && (e.obj = e.arrays.UiArray[i][j].Obj) } function FindObject(e, t, r) { if (isSet(e) && isSet(t)) for (var o = 0; o < e.length; o++) { if (ConstructorName(e[o].fn).toLowerCase() === t.toLowerCase()) return r.toReplace && (e[o] = r.ReplaceObj), !1; if (!1 === FindObject(e[o].cb, t, r)) return !1 } } function FindCorrectSpot(e, t, r) { if (isSet(e)) for (var o = 0; o < e.length; o++) { if (ConstructorName(e[o].fn).toLowerCase() === r.toLowerCase()) return e[o].cb.push(t), !0; if (!0 === FindCorrectSpot(e[o].cb, t, r)) return !0 } } function ExistsInArray(e, t) { if (isSet(e)) for (var r = 0; r < e.length; r++) { if (ConstructorName(e[r].fn).toLowerCase() === t.toLowerCase()) return !0; if (!0 === ExistsInArray(e[r].cb, t)) return !0 } } function findParent(e) { var t = ""; for (var r in TreeConfig) if (r.toLowerCase() === e.toLowerCase()) { t = TreeConfig[r]; break } return t } function AttachObject(e) { if (isSet(e)) if (e.isService || e.array.UiArray.push({ id: e.objHtmlId, Obj: e.obj }), !1 === FindObject(e.array.ServiceArray, ConstructorName(e.obj), e)); else { var t = findParent(ConstructorName(e.obj)); t = isSet(t) ? t : [], e.obj = makeObj(e.obj, e.hooks); var r = !1; if (t.length > 0) for (var o = 0; o < t.length; o++)!0 === FindCorrectSpot(e.array.ServiceArray, e.obj, t[o]) ? r = !0 : o !== t.length - 1 || r || e.array.ServiceArray.push(e.obj); else e.array.ServiceArray.push(e.obj) } } function SetBLEnqDefaultFlags(e, t) { isSet(e) && isSet(t) ? ReqObj.Form[e + t].flags = CopyObject(Templateconfig[e]) : ReqObj.Form[e + t].flags = {} } function GenOnClick(e) { return !(!GenerationOnClick(e) || !UserFilledIsq(e)) && (!isSecondBlEnq(e) || "V" === usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "uv")) } function GenerationOnClick(e) { return !(!(isSet(e) && isSet(ReqObj.Form[e].genOnClick) && "yes" === ReqObj.Form[e].genOnClick.toLowerCase() && "09" === e.substring(0, 2) && isSet(ReqObj.Form[e].formType) && "enq" === ReqObj.Form[e].formType.toLowerCase()) || isImageVidEnq(e) || "IN" !== usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "iso")) } function CallIntentGen(e) { isSet(e) && "09" === e.substring(0, 2) && (isSet(ReqObj.Form[e].reqSent) && isSet(ReqObj.Form[e].formType) && "bl" !== ReqObj.Form[e].formType.toLowerCase() ? "no" !== trimVal(ReqObj.Form[e].reqSent.toLowerCase()) && new Generation(1).onSubmit(e) : isSet(ReqObj.Form[e].formType) && "bl" === ReqObj.Form[e].formType.toLowerCase() && "yes" === trimVal(ReqObj.Form[e].BLIntent.toLowerCase()) && new Generation(1).onSubmit(e)) } function SetBlHeading(e, t) { var r = "", o = "#t" + e; if (IsChatbl(e)) r += "Tell us your requirement to Get Best Price"; else if ("09" === e.substring(0, 2) || t > 1) { r = ""; isSet(ReqObj.Form[e].formType) && "bl" === ReqObj.Form[e].formType.toLowerCase() && "IN" !== currentISO() ? r += "Receive quotations from verified suppliers on " : r += "Get verified supplier details instantly on your ", "IN" === currentISO() ? r += "mobile" : r += "email", o += "_hdg" } else r += "Save Time! Get verified sellers", isSet(ReqObj.Form[e].prodName) && "" !== ReqObj.Form[e].prodName && (r += " for " + ReqObj.Form[e].prodName), o += "_head"; $(o).removeClass("bedsnone").text(ReturnCorrectVal(ReqObj.Form[e].heading, r)) } function SetDefaultUserInputKeys(e) { ReqObj.Form[e].UserInputs = { CountryName: "", IsCountry: "", IsProduct: "", ProductName: "", PrimaryInfo: "", Name: "", Mobile: "", Email: "", City: "", CityId: "", Requirement: "", OTP: "", ChangeCountry: "", toChange: "" } } function SetBLEnqDefaultKeys(e) { ReqObj.Form[e].cityOth = "", ReqObj.Form[e].generationCalled = !1, ReqObj.userType = "", SetDefaultUserInputKeys(e), ReqObj.Form[e].generationId = !isSet(ReqObj.Form[e].generationId) || "" === ReqObj.Form[e].generationId || "R" !== ReqObj.Form[e].insert && "U" !== ReqObj.Form[e].insert ? defaultGenerationId : parseInt(ReqObj.Form[e].generationId), ReqObj.Form[e].query_destination = -1, ReqObj.Form[e].TrackedDisplaySteps = [], ReqObj.Form[e].TrackedSubmitSteps = [], ReqObj.Form[e].BackwardDisplaySteps = [], ReqObj.Form[e].IsbackClicked = !1, ReqObj.Form[e].IsqUnitArray = [], ReqObj.Form[e].IsProdNameChanged = !1 } function CreateFormObject(e, t) { ReqObj.Form[e] = CopyObject(t), ReqObj.Original[e] = CopyObject(t) } function FormDefaultsFromProperty(e) { var t = e.tempId + e.instId; return CreateFormObject(t, e), addTemplates(t), updateKeyTypeOfForm(t), SetBLEnqDefaultFlags(ReqObj.Form[t].tempId, ReqObj.Form[t].instId), PropertyDefault(t, ReqObj.Form[t]), SetBLEnqDefaultKeys(t), MakeRefText(t), GenOnClick(t) || CallIntentGen(t), "09" === t.substring(0, 2) && BLEnqPopUpDefault(t), "popup" === chatBlPopupInline(t) && OpenChatBLPopup(t), ReqObj.Form[t] } function InitiateSequence(e) { GetIsqFromService(e), ReqObj.Form[e].FormSequence = new FormSeq, ReqObj.Form[e].FormSequence.FirstStepSequence(e), FormCloseButtons(e) } function OpenBLEnqPopup(e) { isBLFormOpen = !0, "enq" === ReqObj.Form[e].formType.toLowerCase() ? ("" === usercookie.getCookie("ImeshVisitor") ? $("#t" + e + "_leftR").addClass("lftMgn") : $("#t" + e + "_leftR").removeClass("lftMgn"), $("#t" + e + "_thankDiv").addClass("oEq"), $("#t" + e + "_mcont").addClass("oEq"), "IN" !== currentISO() && $("#t" + e + "_thankDiv").addClass("fnUser")) : ("bl" === ReqObj.Form[e].formType.toLowerCase() && "09" === e.substring(0, 2) ? $("#t" + e + "_mcont").addClass("blder") : $("#t" + e + "_mcont").removeClass("blder"), $("#t" + e + "_mcont").removeClass("oEq"), $("#t" + e + "_thankDiv").removeClass("oEq"), "IN" !== currentISO() && $("#t" + e + "_thankDiv").removeClass("fnUser"), usercookie.getCookie("ImeshVisitor"), $("#t" + e + "_leftR").removeClass("lftMgn")), $("#t" + e + "_thankDiv").removeClass("BL_Thnky"), $("#t" + e + "_bewrapper").removeClass("bedsnone").css({ display: "block" }), $("#t" + e + "_mcont").removeClass("bedsnone").css({ display: "flex" }), updateKeyTypeOfForm(e), initialiseOuterSection(e), sectionInitialisationStepWise(e, 0), $("#search_string").blur(), stopBgScroll() } function BLEnqPopUpDefault(e) { ReqObj.updateImage = 0, OpenBLEnqPopup(e) } function ClearBLEnqFormUI(e) { "09" === e.substring(0, 2) ? ClearBLEnqPopUpUI(e) : ClearBLEnqInlineUI(e) } function AfterFormDefaults(e, t) { ClearSeqArrays(e), SetUIElKeys(e), ClearBLEnqFormUI(e), ("09" === e.substring(0, 2) && "bl" === ReqObj.Form[e].formType.toLowerCase() || "popup" === chatBlPopupInline(e)) && leftSideTransition(0, e), ReqObj.changeFlag = void 0 !== t, InitiateSequence(e) } function UserFilledIsq(e) { if (isSet(ReqObj.Form[e].userFilledIsq) && ReqObj.Form[e].userFilledIsq instanceof Array) { var t = ReqObj.Form[e].userFilledIsq, r = !0; if (2 === t.length) for (var o = 0; o < t.length; o++) { if (!(notEmpty(t[o].questionsId) && notEmpty(t[o].questionsDesc) && notEmpty(t[o].optionsId) && notEmpty(t[o].optionsValue))) { r = !1; break } r = !0 } else r = !1; return r } return !1 } function callGlobalFunction() { if ("undefined" != typeof ims && isSet(ims) && isSet(ims.dirTypeFull) && "" !== ims.dirTypeFull) { var e = ims.dirTypeFull.toLowerCase(); "impcat" !== e && "city" !== e && "search" !== e || "function" == typeof block_softask && block_softask() } } function OpenForm(e, t) { var r = FormDefaultsFromProperty(e), o = r.tempId + r.instId, i = usercookie.getCookie("imEqGl"); "" !== i ? "d" === i.substring(0, 1).toLowerCase() ? ReqObj.Form[o].toShowOtpStepenq = !0 : "b" === i.substring(0, 1).toLowerCase() && (ReqObj.Form[o].toShowOtpStepbl = !0) : (ReqObj.Form[o].toShowOtpStepenq = !1, ReqObj.Form[o].toShowOtpStepbl = !1), updateReceivedImage(r), AfterFormDefaults(o, t), callGlobalFunction(), CallGenService(o), HideSuggester() } function updateKeyTypeOfForm(e) { isSet(ReqObj.Form[e].typeofform) && "" !== ReqObj.Form[e].typeofform || ("enq" === ReqObj.Form[e].formType.toLowerCase() ? ("image" === ReqObj.Form[e].ctaType.toLowerCase() && (ReqObj.Form[e].typeofform = "image"), "video" === ReqObj.Form[e].ctaType.toLowerCase() && (ReqObj.Form[e].typeofform = "video"), "image" !== ReqObj.Form[e].ctaType.toLowerCase() && "video" !== ReqObj.Form[e].ctaType.toLowerCase() && (ReqObj.Form[e].typeofform = "enquiry")) : "bl" === ReqObj.Form[e].formType.toLowerCase() ? ReqObj.Form[e].typeofform = "bl" : "chatbl-inline" !== ReqObj.Form[e].formType.toLowerCase() && "chatbl" !== ReqObj.Form[e].formType.toLowerCase() || ("popup" === chatBlPopupInline(e) ? ReqObj.Form[e].typeofform = "popupchatbl" : "inline" === chatBlPopupInline(e) && (ReqObj.Form[e].typeofform = "inlinechatbl"))) } function updateReceivedImage(e) { var t = getImage(e.mcatId); "bl" === e.formType.toLowerCase() && ("" !== e.displayImage ? pushImage(e.mcatId, e.displayImage, e.zoomImage) : "" !== t && void 0 !== t || pushImage(e.mcatId, e.displayImage, e.zoomImage)) } function CallGenService(e) { if (GenOnClick(e)) { var t = ReqObj.Form[e].FormSequence, r = { UiArray: [], ServiceArray: [] }; hooks = { pre: [], post: [] }; var o = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: r, hooks: hooks }, tmpId: e, that: t, AfterService: [], hasFallback: !1, FallbackObj: null }; t.MakeSeq(o); var i = { object: { obj: ReqObj.Form[e].GlobalIsqObject, array: r, hooks: hooks, isService: !0 }, tmpId: e, that: t, AfterService: [], hasFallback: !1, FallbackObj: null }; t.MakeSeq(i), SavePropIsq(e), formatServices(r.ServiceArray, e), ServiceSequenceHit(e, !1) } } function notEmpty(e) { return !(!isSet(e) || "" === e) } function SavePropIsq(e) { if (isSet(ReqObj.Form[e].userFilledIsq) && ReqObj.Form[e].userFilledIsq instanceof Array) for (var t = ReqObj.Form[e].userFilledIsq, r = 0; r < t.length; r++)ReqObj.Form[e].questionsId.push(t[r].questionsId), ReqObj.Form[e].questionsDesc.push(t[r].questionsDesc), ReqObj.Form[e].optionsId.push(t[r].optionsId), ReqObj.Form[e].optionsValue.push(t[r].optionsValue) } function SetUIElKeys(e) { IsqKeys(e), RdBoxKeys(e), EnrichKeys(e), StaticIsqKeys(e), ContactDetailKeys(e), ReqObj.Form[e].calledClassName = {} } function GetIsqFromService(e) { GetIsq(e), ReqObj.Form[e].GlobalIsqObject = new Isq(e); var t = ShowStaticQuestionForeign(e) && !IsChatbl(e) ? "isq" : "noisq"; ReqObj.Form[e].GlobalRdObj = new RequirementDtl(e, t) } function CloseForm(e) { if ("09" === e.substring(0, 2) && "block" === $("#t" + e + "_bewrapper").css("display") || "09" !== e.substring(0, 2) && "none" !== $("#t" + e + "_enrichform_maindiv").css("display")) { if ("enq" === ReqObj.Form[e].formType.toLowerCase() && ReqObj.Form[e].hitFinishEnquiryService && FinishEnquiryService(e), ServiceSequenceHit(e, !1), ReqObj.TempMobile = "", ReqObj.TempEmail = "", ReqObj.ImageVideoIsqSeq = !1, closeVideo(e), SetUserDetails(), "09" === e.substring(0, 2) ? ($("#t" + e + "_bewrapper").css({ display: "none" }), ClearBLEnqPopUpUI(e)) : "08" === e.substring(0, 2) ? ("chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() ? ($("#t" + e + "_chatBL").addClass("cbl_vh").removeClass("cbl_vv"), updateChatWidgetGlobalVar(e), chatwidgetTransitions(e)) : $("#t" + e + "_chatBL").css({ display: "none" }), ClearBLEnqPopUpUI(e), $(".t" + e + "blk_scrn").addClass("dn")) : ($("#t" + e + "_enrichform_maindiv").html("").css({ display: "none" }), $("#t" + e + "_q_send_req_button").html(ReqObj.Form[e].btn), ReqObj.Form[e].InlineformParentEl.html(ReqObj.Form[e].InlineformHtml), $("#t" + e + "_q_send_req_button").parent().removeClass("bedsnone"), ReqObj.Form[e].btn = ""), "popup" === chatBlPopupInline(e)); else { HideSuggester(); var t = ReqObj.Form[e].HitArray, r = ReqObj.Form[e].enqSentCallBack; ReqObj.Form[e] = CopyObject(ReqObj.Original[e]), ReqObj.Form[e].HitArray = t, ReqObj.Form[e].enqSentCallBack = r } UpdateSeq(), ReqObj.loginMode = 0, ReqObj.userType = "", resumeBgScroll(), SetUserDetails(), isBLFormOpen = !1, $(document).trigger(FormCloseEvent, [ReqObj.Form[e].ordr_qnty_index]) } } function closeVideo(e) { $("#t" + e + "_prodVideo").is("iframe") && $("#t" + e + "_prodVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}', "*") } function SetFormHtmlDefaultValue(e) { $("#t" + e + "_thankDiv").html("").addClass("bedsnone") } function leftSideEmpty(e) { $("#t" + e + "_Prodname").html(""), $("#t" + e + "_Compname").html(""), $("#t" + e + "_ProdPrice").html(""), $("#t" + e + "_state").html(""), $("#t" + e + "_locality").html(""), $("#t" + e + "_city").html(""), $("#t" + e + "parent_iframe").html("<div id='t" + e + "_prodVideo' class='belft bepr pdpHg'></div>"), $(".proctname").html("") } function ClearBLEnqPopUpUI(e) { "popup" === chatBlPopupInline(e) && ($("#t" + e + "_new_chatbl").html(""), $("#t" + e + "_newblchatReply").html(""), $("#t" + e + "_typhere").removeClass("dn"), $("#t" + e + "_newblchatReply").addClass("cbl_vh"), $("#t" + e + "_blchatfooter").removeClass("focus"), $("#t" + e + "_changeProduct").removeAttr("disabled").css({ opacity: "1", cursor: "pointer" }), $("#t" + e + "verify_error").html(""), $("#t" + e + "cbl_bluline").removeClass("cbl_erred"), $("#t" + e + "hi").addClass("dn")), $("#t" + e + "_bl_form").html(""), $("#t" + e + "_byrinfo").addClass("bedsnone").html(""), $("#t" + e + "_tCond").addClass("bedsnone"), SetFormHtmlDefaultValue(e) } function ClearBLEnqInlineUI(e) { "popup" === chatBlPopupInline(e) && $("#t" + e + "_new_chatbl").html(""), $("#t" + e + "_bl_form").html(""), $("#t" + e + "_byrinfoIn").html("").addClass("bedsnone"), $("#t" + e + "_tCond").addClass("bedsnone"), "popup" !== chatBlPopupInline(e) && $("#t" + e + "_submit").removeAttr("disabled").attr("style", "background-color : rgb(0, 166, 153)"), $("#t" + e + "_submitdiv").attr("class", "befstgo1") } function CheckForUpdate() { for (var e in ReqObj.UserDetail) if (ReqObj.UserDetail[e] !== usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), e)) return !0; return !1 } function ShowOtp(e) { return !(!usercookie.getCookie("ImeshVisitor") || "V" === usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "uv") || "IN" !== usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "iso")) } Isq.prototype.hasHtml = function (e) { isSet(e) && (ReqObj.Form[e.tmpId].Isq.HasHtmlCalled = !0, GetIsqFromObj(e.tmpId), "" === ReqObj.Form[e.tmpId].IsqArray ? ReqObj.Form[e.tmpId].GlobalIsqObject.IsqObject = e : isSet(ReqObj.Form[e.tmpId].GlobalIsqObject) && "function" == typeof ReqObj.Form[e.tmpId].GlobalIsqObject.AttachingObject && ReqObj.Form[e.tmpId].GlobalIsqObject.AttachingObject(e)) }, Isq.prototype.defaultEvents = function (e) { !$("#t" + e + "_blchatfooter").hasClass("focus") && setTimeout(function () { $("#t" + e + "_blchatfooter").addClass("focus") }, 1e3), !$("#t" + e + "_typhere").hasClass("dn") && setTimeout(function () { $("#t" + e + "_typhere").addClass("dn"), $("#t" + e + "_newblchatReply").removeClass("cbl_vh") }, 1099), SelectBoxEvents(), InputBoxEvents(e), InputBoxAutoFocus(e), CheckBoxClick(e), RadioClick(e), $(".t" + e + "other_radiotemp").off("click").on("click", function (t) { $(this).hasClass("t" + e + "be-radioboxtemp") && $(this).siblings().each(function () { if ("block" === $(this).parent().css("display")) { var e = $(this); e.children("input").prop("checked", !1), e.children("input").removeClass("waschecked"), e.removeClass("sl-box chksl"), e.children().children(".bechk-in").children().hide() } }) }), IsChatbl(e) && $("input.be-input:text").focus(function () { $(this).css("background-color", "#FFFFFF") }), GenerationOnClick(e) && this.validate(e, 1), "" !== usercookie.getCookie("ImeshVisitor") && $("#t" + e + "_leftR").removeClass("lftMgn"), "image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || 0 !== ReqObj.Form[e].FormSequence.StepCounter ? ($("#t" + e + "_question").removeClass("qtunfrst"), $("#t" + e + "_question").removeClass("mvta"), $("#t" + e + "ques2").removeClass("bedsnone")) : ($("#t" + e + "_question").addClass("qtunfrst"), $("#t" + e + "_question").addClass("mvta"), $("#t" + e + "ques2").addClass("bedsnone")), get_buyer_info(e), this.handleUI({ data: { tmpId: e, obj: this } }) }, Isq.prototype.handleUI = function (e) { isSet(ReqObj.Form[e.data.tmpId].isQuantIsq) && "" !== ReqObj.Form[e.data.tmpId].isQuantIsq && !0 === ReqObj.Form[e.data.tmpId].isQuantIsq && ($("#t" + e.data.tmpId + "_interested").html("Enter required quantity to "), $("#t" + e.data.tmpId + "_getbestrest").html("")) }, Isq.prototype.EventIfScreenPresent = function (e) { isOtherEnq(e) && (this.handleHeading(e), ButtonNameUI("isq", e)) }, Isq.prototype.handleHeading = function (e) { ReqObj.Form[e].ctaheadingappend = !1, "isq" === ReqObj.Form[e].currentScreen.toLowerCase() && ("hidden" === $("#isq_first_screen").attr("type") && "Screen1" === $("#isq_first_screen").attr("value") ? (ReqObj.Form[e].ctaheadingappend = 0 === ReqObj.Form[e].FormSequence.StepCounter, "image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || 0 !== ReqObj.Form[e].FormSequence.StepCounter ? $("#t" + e + "_hdg").removeClass("bedsnone").html(getFormHeading(e, "isq")) : $("#t" + e + "_hdg").addClass("bedsnone").html("")) : "image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || 0 !== ReqObj.Form[e].FormSequence.StepCounter ? $("#t" + e + "_hdg").removeClass("bedsnone").html(getFormHeading(e, "IsqRequirementDtl")) : $("#t" + e + "_hdg").addClass("bedsnone").html("")) }, Isq.prototype.handleButton = function (e) { ButtonNameUI("isq", e) }, Isq.prototype.AttachingObject = function (e) { if (isSet(e)) if (null !== ReqObj.Form[e.tmpId].IsqArray && ReqObj.Form[e.tmpId].prevCount !== ReqObj.Form[e.tmpId].IsqLength) { if (e.that.NumberofClassCalled -= 1, AttachObject(e.object, e.tmpId), isSet(e.AfterService)) for (var t = 0; t < e.AfterService.length; t++)"function" == typeof e.that.MakeSeq && e.that.MakeSeq(e.AfterService[t], e.tmpId); if (isImageVidEnq(e.tmpId) && -1 === ReqObj.Form[e.tmpId].FormSequence.StepCounter) 0 === e.that.NumberofClassCalled && makeFinalSeq(e, e.tmpId); else if (isSet(ReqObj.Form[e.tmpId].formType) && "enq" === ReqObj.Form[e.tmpId].formType.toLowerCase() && ReqObj.Form[e.tmpId].IsqLength - ReqObj.Form[e.tmpId].prevCount < 3 && ShowReqBox(e.tmpId)) { e.that.NumberofClassCalled += 1; CreateSeq({ object: { obj: new RequirementDtl(e.tmpId), toReplace: !0, isService: !1, array: e.object.array, hooks: { pre: [], post: [] } }, tmpId: e.tmpId, that: e.that, AfterService: [], hasFallback: !1, FallbackObj: null }) } else 0 === e.that.NumberofClassCalled && makeFinalSeq(e, e.tmpId) } else e.hasFallback ? isSet(e.Thankyou) && e.Thankyou ? isSet(ReqObj.Form[e.tmpId].FormSequence) && "function" == typeof ReqObj.Form[e.tmpId].FormSequence.OnCloseSeq && ReqObj.Form[e.tmpId].FormSequence.OnCloseSeq(e.tmpId) : CreateSeq(e.FallbackObj) : isSet(e.nextStep) && "function" == typeof e.nextStep && e.nextStep.apply(ReqObj.Form[e.tmpId].FormSequence) }, Isq.prototype.resetClass = function (e) { ReqObj.Form[e].prevCount > ReqObj.Form[e].IsqStep1 ? ReqObj.Form[e].prevCount -= ReqObj.Form[e].IsqStepN : ReqObj.Form[e].prevCount -= ReqObj.Form[e].IsqStep1 }, Isq.prototype.validate = function (e, t) { 1 !== t && this.IsqScreen++; var r = ValidateQuestions(e, !1, this.IsqScreen); return r || 1 === t || this.IsqScreen-- , r }, Isq.prototype.displayHtml = function (e) { if (isSet(e) && isSet(ReqObj.Form[e])) { if ("image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || !isSet(ReqObj.Form[e].userFilledIsq) || "" === ReqObj.Form[e].userFilledIsq || 0 === ReqObj.Form[e].FormSequence.StepCounter || StructureIsq(e), null === ReqObj.Form[e].IsqArray) return null; var t = 0 === ReqObj.Form[e].prevCount ? this.makeIsq(ReqObj.Form[e].IsqStep1, e) : this.makeIsq(ReqObj.Form[e].IsqStepN, e); return "popup" === chatBlPopupInline(e) ? [this.question, this.answer] : (isOtherEnq(e) && (isImageVidEnq(e) && 0 === ReqObj.Form[e].FormSequence.StepCounter ? ReqObj.Form[e].calledClassName[ReqObj.Form[e].FormSequence.StepCounter] = this.className + "SP" : ReqObj.Form[e].calledClassName[ReqObj.Form[e].FormSequence.StepCounter] = this.className), [t]) } return [""] }, Isq.prototype.makeIsq = function (e, t) { return ReqObj.Form[t].stopper = Math.min(e, ReqObj.Form[t].IsqLength - ReqObj.Form[t].prevCount) + ReqObj.Form[t].prevCount, this.TraverseIsq(t) }, Isq.prototype.TraverseIsq = function (e) { var t = "", r = "<div  id='t" + e + "_isqBox'>", o = [], i = []; (isOtherEnq(e) && 0 === ReqObj.Form[e].prevCount && !isImageVidEnq(e) || isImageVidEnq(e) && 0 === ReqObj.Form[e].prevCount && ReqObj.Form[e].FormSequence.StepCounter > 0) && (r += "<input type='hidden' id='isq_first_screen' value='Screen1'>"); for (var a = ReqObj.Form[e].prevCount; a < ReqObj.Form[e].stopper && (ReqObj.Form[e].Isq.Question = [], "image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || 0 !== ReqObj.Form[e].FormSequence.StepCounter ? FindIsqObject(ReqObj.Form[e].IsqArray[a], e, 0, !1, i) : (FindIsqObject(ReqObj.Form[e].IsqArray[a], e, 0, !1, i), ReqObj.ImageVideoIsqSeq = !0, isSet(ReqObj.Form[e].requireNow) && !0 === ReqObj.Form[e].requireNow && 0 === i.length && (ReqObj.Form[e].requireNow = !1)), o.push(ReqObj.Form[e].Isq.Question), !isSet(ReqObj.ImageVideoIsqSeq) || !0 !== ReqObj.ImageVideoIsqSeq || !isSet(ReqObj.Form[e].isQuantIsq) || !0 !== ReqObj.Form[e].isQuantIsq); a++); if (ReqObj.Form[e].Isq.CurrentPageQuestions.push(o), !0 !== ReqObj.ImageVideoIsqSeq ? ReqObj.Form[e].prevCount = ReqObj.Form[e].stopper : !0 === ReqObj.ImageVideoIsqSeq && 0 === ReqObj.Form[e].FormSequence.StepCounter ? ReqObj.Form[e].prevCount = 0 : !0 === ReqObj.ImageVideoIsqSeq && 0 !== ReqObj.Form[e].FormSequence.StepCounter && (ReqObj.Form[e].prevCount = ReqObj.Form[e].stopper), "popup" !== chatBlPopupInline(e)) { var s = { SuffixOuterHtml: r, SuffixClosingHtml: "</div>", suffix: "_isqBox" }; ("image" === ReqObj.Form[e].typeofform.toLowerCase() || "video" === ReqObj.Form[e].typeofform.toLowerCase()) && 0 === ReqObj.Form[e].FormSequence.StepCounter && i.length < 2 && !0 !== ReqObj.Form[e].requireNow && i.unshift([returnEnquireNowHtml(e)]), t = MakeWrapper(i, e, s, "") } else { s = { SuffixOuterHtml: "<div  id='t" + e + "_isqBox' class = 'cbl_ques cbl_vh' >", SuffixClosingHtml: "</div>", suffix: "_isqBox" }; this.question = MakeWrapper(i, e, s, "ques"); s = { SuffixOuterHtml: "<div  id='t" + e + "_isqBoxInput' class='cbl_isq_grp cbl_dtls cbl_df cbl_aic t" + e + "_userInput dn'>", SuffixClosingHtml: "</div>", suffix: "_isqBox" }; i[0][0].UserInput += skipDiv(e), this.answer = MakeWrapper(i, e, s, "input"), t = this.question + this.answer } return t }, Isq.prototype.SaveDetails = function (e) { SaveIsq(e, "isq", this.IsqScreen) }, Isq.prototype.BackButton = function (e) { this.IsqScreen-- }, Isq.prototype.displayAnswer = function (e) { var t = chatBlClass(e, "right"), r = "inline" === chatBlPopupInline(e) ? "message-right" : "popup" === chatBlPopupInline(e) ? "cbl_ansr" : ""; return [ConversationRightWrapper(e, GetAnswer(e, "isq"), { classtotest: t, leftright: r })] }, Isq.prototype.onSubmit = function (e) { var t = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", r = PreAjax("Isq", e), o = "enq" !== ReqObj.Form[e].formType.toLowerCase() || ReqObj.Form[e].hitFinishEnquiryService, i = { modid: ReqObj.Form[e].modId, ofr_id: ReqObj.Form[e].generationId, b_response: ReqObj.Form[e].optionsValue, q_desc: ReqObj.Form[e].questionsDesc, UPDIP: "India", UPDURL: window.document.URL.toString().substr(0, 450), UPDIP_COUNTRY: "India", UPDATESCREEN: "DESKTOP ENQUIRY FORM", glusr_id: usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "glid"), q_id: ReqObj.Form[e].questionsId, b_id: ReqObj.Form[e].optionsId }; "-1" === ReqObj.Form[e].mcatId || "" === ReqObj.Form[e].mcatId ? i.mcat_id = ReqObj.Form[e].catId : i.mcat_id = ReqObj.Form[e].mcatId, i.glusr_email = "", "Enq" === ReqObj.Form[e].formType && (i.enq = 1, i.funcToCall = "Enq"), isSet(ReqObj.Form[e].optionsValue) && (ReqObj.Form[e].IsqUpdated || ReqObj.Form[e].optionsValue.length > 0) && ValidGenId(ReqObj.Form[e].generationId) ? $.ajax({ type: "GET", url: appsServerName + "index.php?r=postblenq/saveIsqBlEnq", data: i, dataType: "json", crossDomain: !0, crossOrigin: !0, success: function (i) { isSet(i) ? 200 === parseInt(i.CODE) ? (blenqGATracking(t, "service:saveIsqBlEnq:success", getEventLabel(), 1, e), PostAjax(r, e)) : blenqGATracking(t, "service:saveIsqBlEnq:failure", i, 1, e) : (blenqGATracking(t, "service:saveIsqBlEnq:failure", "response undefined", 1, e), Ajaxfailure(r, e, o)) }, error: function (i) { i = isSet(i) ? JSON.stringify(i) : "response undefined", blenqGATracking(t, "service:saveIsqBlEnq:failure", i, 1, e), Ajaxfailure(r, e, o) } }) : PostAjax(r, e) }, LeftSide.prototype.defaultActions = function (e, t, r) { this.initialiseLeftSection(e, t, r + "L"), this.insertIntoLeftSection({ initialdata: { tmpId: e, typeofform: t, obj: this, step: r + "L" } }), this.transition(e, t, r) }, LeftSide.prototype.initialiseLeftSection = function (e, t, r) { this.sectionName = []; for (var o = section_number[t].left, i = 1; i <= o; i++) { var a = section_class[t].left[i]; this.sectionName.push(a.name), "0L" === r && this.getHtml(e, t, a.name, r) } }, LeftSide.prototype.getHtml = function (e, t, r, o) { switch (r) { case "prodmedia": $("#t" + e + "_prodmedia").html(this.getProdMediaHtml(e, t, r, o)); break; case "proddetail": $("#t" + e + "_proddetails").html(getProdDetailsHtml(e, t, o)); break; case "helpQuest": $("#t" + e + "_helpQuest").html(this.gethelpQuestHtml(e, t, r)) } }, LeftSide.prototype.getProdMediaHtml = function (e, t, r, o) { return "image" === t || "video" === t ? this.returnImageVideoHtml(e, o) : "enquiry" === t || "bl" === t ? this.returnNotImageNotVideoHtml(e, o) : void 0 }, LeftSide.prototype.returnImageVideoHtml = function (e, t) { var r = ""; return "image" === ReqObj.Form[e].typeofform.toLowerCase() || "video" === ReqObj.Form[e].typeofform.toLowerCase() && "0L" === t ? isSet(ReqObj.Form[e].multipleImageVideo) && "" !== ReqObj.Form[e].multipleImageVideo ? (r += returnContainer("t" + e, "_productimage", "imgslide", "", "", ""), r += returnContainer("t" + e, "_slide", "igsm", "", "", ""), r += returnSpan("t" + e, "_beup", "", "eqarr-up eqVsH bedsnone", ""), r += returnContainer("t" + e, "_slideout", "slideouter", "", "", ""), r += returnSpan("t" + e, "_imgslider", "", "imgslider", ""), r += returnSpan("t" + e, "_bedown", "", "eqarr-dw eqDwn", ""), r += "</div></div>", r += returnContainer("t" + e, "parent_iframe", "bedsnone", "", "", ""), r += returnContainer("t" + e, "_prodVideo", "fL bepr bdr1 pdpHg", "", "", ""), r += "</div ></div >", r += returnContainer("t" + e, "_prodimg", "fL bepr bdr1 pdpHg", "", "", ""), r += "</div></div>") : (r += returnContainer("t" + e, "_productimage", "imgslide", "", "", ""), r += returnContainer("t" + e, "_imglodr", "belodrbg bedsnone", "", "", "") + returnContainer("", "", "blloader", "", "", "") + "</div></div>", r += "<div class='bepr' id='t" + e + "_nextprediv'><button id='t" + e + "_prebtn' class='be-arLN eqNpTi'><span class='eqNpTin'>Previous Product</span></button><button id='t" + e + "_nextbtn' class='be-arRN eqNpTi'><span class='eqNpTin'>Next Product</span></button></div>", r += returnContainer("t" + e, "parent_iframe", "bedsnone", "", "", ""), r += returnContainer("t" + e, "_prodVideo", "fL bepr bdr1 pdpHg", "", "", ""), r += "</div ></div >", r += returnContainer("t" + e, "_prodimg", "fL bepr bdr1 pdpHg", "", "", "") + "</div></div>") : (r += returnContainer("t" + e, "_productimage", "imgslide", "", "", ""), r += returnContainer("t" + e, "_imglodr", "belodrbg bedsnone", "", "", "") + returnContainer("", "", "blloader", "", "", "") + "</div></div>", r += returnContainer("t" + e, "parent_iframe", "bedsnone", "", "", ""), r += returnContainer("t" + e, "_prodVideo", "fL bepr bdr1 pdpHg", "", "", ""), r += "</div ></div >", r += returnContainer("t" + e, "_prodimg", "fL bepr bdr1 pdpHg", "", "", "") + "</div></div>"), r }, LeftSide.prototype.returnNotImageNotVideoHtml = function (e, t) { var r = returnContainer("t" + e, "_productimage", "imgslide", "", "", ""); return r += returnContainer("t" + e, "_imglodr", "belodrbg bedsnone", "", "", ""), r += returnContainer("", "", "blloader", "", "", "") + "</div></div>", r += "<div class='bepr' id='t" + e + "_nextprediv'><button id='t" + e + "_prebtn' class='be-arLN eqNpTi'><span class='eqNpTin'>Previous Product</span></button><button id='t" + e + "_nextbtn' class='be-arRN eqNpTi'><span class='eqNpTin'>Next Product</span></button></div>", r += returnContainer("t" + e, "parent_iframe", "bedsnone", "", "", ""), r += returnContainer("t" + e, "_prodVideo", "fL bepr bdr1 pdpHg", "", "", ""), r += "</div ></div >", r += "bl" === ReqObj.Form[e].typeofform.toLowerCase() ? returnContainer("t" + e, "_prodimg", "be-prdimg", "", "", "") : returnContainer("t" + e, "_prodimg", "fL bepr bdr1 pdpHg", "", "", ""), r += "</div></div>" }, LeftSide.prototype.gethelpQuestHtml = function (e, t, r) { var o = returnContainer("", "", "befs20 beclrW bemgb15 betxtc", "", "How it Works", "") + "</div>"; return o += returnContainer("", "", "bepr belh18", "", "", ""), o += '<div class="be-hlpd belft"></div>', o += '<div class="behlp1 bevT bemgb15"><div class="bedtc"><i class="bedotW"></i></div>', o += returnContainer("", "", "bedtc bevT", "", "Tell us what you need by filling the form", "") + "</div></div>", o += '<div class="behlp1 bevT bemgb15"><div class="bedtc"><i class="bedotW"></i></div>', o += returnContainer("", "", "bedtc bevT", "", "Receive Verified supplier details", "") + "</div></div>", o += '<div class="behlp1 bevT bemgb15"><div class="bedtc"><i class="bedotW"></i></div>', o += returnContainer("", "", "bedtc bevT", "", "Compare Quotations and seal the deal", "") + "</div></div>", o += "</div>" }, LeftSide.prototype.transition = function (e, t, r) { switch (t) { case "image": this.imageTransition(e, t, r); break; case "video": this.videoTransition(e, t, r); break; case "enquiry": this.enquiryTransition(e, t, r); break; case "bl": this.blTransition(e, t, r) } }, LeftSide.prototype.imageTransition = function (e, t, r) { $("#t" + e + "_leftsection").removeClass("be-Lsc"), $("#t" + e + "_leftS").removeClass().addClass("be-Lsc enqPImg"), $("#t" + e + "_mcont").addClass("eqPdm"), 1 === r && ($("#t" + e + "_mcont").addClass("enqnxt eqPdsec"), $("#t" + e + "_slide").addClass("bedsnone"), $("#t" + e + "_proddetails").removeClass("bedsnone").addClass("bepr lTxt"), $("#t" + e + "_prodmedia").removeClass().addClass("be-pnmS"), $("#t" + e + "_prodimg").removeClass().addClass("be-prdimg"), $("#t" + e + "parent_iframe").html("").addClass("bedsnone"), $("#t" + e + "_productimage").removeClass("imgslide"), $("#t" + e + "_leftS").removeClass().addClass("nwInn"), $("#t" + e + "_rightproddetails").addClass("bedsnone"), $("#t" + e + "_questionouterwrapper").removeClass("eqBotm"), $("#t" + e + "_nextprediv").addClass("bedsnone"), $("#t" + e + "_mcont").removeClass("arrprdch")), 0 === r && ($("#t" + e + "_leftS").removeClass().addClass("be-Lsc enqPImg"), $("#t" + e + "_proddetails").addClass("bedsnone"), $("#t" + e + "_productimage").addClass("imgslide"), $("#t" + e + "_leftS").removeClass().addClass("be-Lsc enqPImg"), $("#t" + e + "_mcont").removeClass("eqPdsec"), isSet(ReqObj.Form[e].nextProdArrow) && !0 === ReqObj.Form[e].nextProdArrow || isSet(ReqObj.Form[e].prevProdArrow) && !0 === ReqObj.Form[e].prevProdArrow ? $("#t" + e + "_mcont").addClass("arrprdch").removeClass("eqarch") : ($("#t" + e + "_nextprediv").addClass("bedsnone"), $("#t" + e + "_mcont").removeClass("arrprdch").removeClass("eqarch"))), isSet(ReqObj.Form[e].imgSlideHide) && "" !== ReqObj.Form[e].imgSlideHide && !0 === ReqObj.Form[e].imgSlideHide ? ($("#t" + e + "_slide").addClass("bedsnone"), $("#t" + e + "_mcont").addClass("nImg")) : $("#t" + e + "_mcont").removeClass("nImg") }, LeftSide.prototype.videoTransition = function (e, t, r) { $("#t" + e + "_leftsection").removeClass("be-Lsc1"), $("#t" + e + "_leftS").addClass("enqPImg"), $("#t" + e + "_mcont").addClass("eqPdm"), 1 === r && ($("#t" + e + "_mcont").addClass("enqnxt eqPdsec"), $("#t" + e + "_slide").addClass("bedsnone"), $("#t" + e + "_proddetails").removeClass("bedsnone").addClass("bepr lTxt"), $("#t" + e + "_prodmedia").removeClass().addClass("be-pnmS"), $("#t" + e + "_prodimg").removeClass().addClass("be-prdimg"), $("#t" + e + "parent_iframe").html("").addClass("bedsnone"), $("#t" + e + "_productimage").removeClass("imgslide"), $("#t" + e + "_leftS").removeClass().addClass("nwInn"), $("#t" + e + "_rightproddetails").addClass("bedsnone"), $("#t" + e + "_questionouterwrapper").removeClass("eqBotm"), $("#t" + e + "_nextprediv").addClass("bedsnone"), $("#t" + e + "_mcont").removeClass("arrprdch")), 0 === r && ($("#t" + e + "_leftS").removeClass().addClass("be-Lsc enqPImg"), $("#t" + e + "_proddetails").addClass("bedsnone"), $("#t" + e + "_productimage").addClass("imgslide"), $("#t" + e + "_mcont").removeClass("eqPdsec"), "" !== $("#t" + e + "_prodVideo").html() && $("#t" + e + "parent_iframe").removeClass("bedsnone"), isSet(ReqObj.Form[e].nextProdArrow) && !0 === ReqObj.Form[e].nextProdArrow || isSet(ReqObj.Form[e].prevProdArrow) && !0 === ReqObj.Form[e].prevProdArrow ? $("#t" + e + "_mcont").addClass("arrprdch").removeClass("eqarch") : ($("#t" + e + "_nextprediv").addClass("bedsnone"), $("#t" + e + "_mcont").removeClass("arrprdch").removeClass("eqarch"))), isSet(ReqObj.Form[e].imgSlideHide) && "" !== ReqObj.Form[e].imgSlideHide && !0 === ReqObj.Form[e].imgSlideHide ? ($("#t" + e + "_slide").addClass("bedsnone"), $("#t" + e + "_mcont").addClass("nImg")) : $("#t" + e + "_mcont").removeClass("nImg") }, LeftSide.prototype.enquiryTransition = function (e, t, r) { $("#t" + e + "_mcont").addClass("eqPdsec"), $("#t" + e + "_questionouterwrapper").removeClass("eqBotm"), $("#t" + e + "_leftsection").removeClass("be-Lsc1"), $("#t" + e + "_leftS").removeClass("enqPImg").addClass("nwInn"), $("#t" + e + "_mcont").removeClass("eqPdm"), $("#t" + e + "_prodimg").removeClass().addClass("be-prdimg"), $("#t" + e + "_productimage").removeClass("imgslide"), $("#t" + e + "_mcont").removeClass("arrprdch"), 1 === r && ($("#t" + e + "_mcont").addClass("enqnxt"), $("#t" + e + "_slide").addClass("bedsnone"), $("#t" + e + "_nextprediv").addClass("bedsnone")), 0 === r && (isSet(ReqObj.Form[e].nextProdArrow) && !0 === ReqObj.Form[e].nextProdArrow || isSet(ReqObj.Form[e].prevProdArrow) && !0 === ReqObj.Form[e].prevProdArrow ? $("#t" + e + "_mcont").addClass("eqarch").removeClass("arrprdch") : ($("#t" + e + "_nextprediv").addClass("bedsnone"), $("#t" + e + "_mcont").removeClass("arrprdch").removeClass("eqarch"))) }, LeftSide.prototype.blTransition = function (e, t, r) { $("#t" + e + "_questionouterwrapper").removeClass(), $("#t" + e + "_mcont").removeClass("arrprdch"), $("#t" + e + "_leftsection").removeClass(), $("#t" + e + "_leftS").removeClass().addClass("be-Lsc1"), $("#t" + e + "_mcont").removeClass().addClass("be-mcont bezid"), "bl" === ReqObj.Form[e].formType.toLowerCase() && "09" === e.substring(0, 2) ? $("#t" + e + "_mcont").addClass("blder") : $("#t" + e + "_mcont").removeClass("blder"), $("#t" + e + "_prodimg").removeClass().addClass("be-prdimg"), $("#t" + e + "_nextprediv").addClass("bedsnone"), $("#t" + e + "_productimage").removeClass("imgslide"), $("#t" + e + "_helpQuest").css({ display: "block" }), 1 === r && ($("#t" + e + "_slide").addClass("bedsnone"), $("#t" + e + "_nextprediv").addClass("bedsnone"), $("#t" + e + "_leftS").removeClass().addClass("be-Lsc1"), $("#t" + e + "_helpQuest").css({ display: "block" }), $("#t" + e + "parent_iframe").html("").addClass("bedsnone"), $("#t" + e + "_prodimg").removeClass("bedsnone")), 0 === r && "mcat video" === ReqObj.Form[e].ctaName.toLowerCase() && ($("#t" + e + "_leftS").removeClass().addClass("be-Lsc"), $("#t" + e + "_helpQuest").css({ display: "none" })) }, LeftSide.prototype.insertIntoLeftSection = function (e) { e.datavalue = prodDetailsData(e); for (var t = e.initialdata.obj.sectionName.length, r = 0; r < t; r++)e.initialdata.todo = e.initialdata.obj.sectionName[r], e.initialdata.obj.handleDefaults(e), e.initialdata.obj.handleUI(e) }, LeftSide.prototype.handleDefaults = function (e) { switch (e.initialdata.todo) { case "prodmedia": e.initialdata.obj.prodMediaDefaults(e); break; case "proddetail": e.initialdata.obj.prodDetailsDefaults(e) } }, LeftSide.prototype.handleUI = function (e) { switch (e.initialdata.todo) { case "prodmedia": e.initialdata.obj.prodMediaUI(e); break; case "proddetail": prodDetailsHtmlInsertion(e) } }, LeftSide.prototype.handleCSS = function (e, t, r) { switch (t) { case "prodimage": e.initialdata.obj.handleProdImageCSS(e, r); break; case "slider": e.initialdata.obj.handleSliderCSS(e, r) } }, LeftSide.prototype.handleSliderCSS = function (e, t) { 1 !== e.mediakey.key.length ? (ReqObj.Form[e.initialdata.tmpId].imgSlideHide = !1, e.initialdata.obj.prodMediaArrowUI(e), $("#t" + e.initialdata.tmpId + "_prodimg > img").removeClass("igTh"), $("#t" + e.initialdata.tmpId + "_prodimg > img") && leftSideLoadZoom(e.initialdata.tmpId), isSet(t) && ($(t).addClass("active"), $(t).siblings().removeClass("active"))) : ReqObj.Form[e.initialdata.tmpId].imgSlideHide = !0 }, LeftSide.prototype.handleProdImageCSS = function (e, t) { $("#t" + e.initialdata.tmpId + "_prodimg > img").removeClass("igTh"), $("#t" + e.initialdata.tmpId + "_prodimg > img") && leftSideLoadZoom(e.initialdata.tmpId), isSet(t) && ($(t).addClass("active"), $(t).siblings().removeClass("active")) }, LeftSide.prototype.prodMediaDefaults = function (e) { $("#t" + e.initialdata.tmpId + "parent_iframe").html("<div id='t" + e.initialdata.tmpId + "_prodVideo' class='fL bepr bdr1 pdpHg'></div>"), $("#t" + e.initialdata.tmpId + "_prodimg").html(""), $("#t" + e.initialdata.tmpId + "_imgslider").html("") }, LeftSide.prototype.prodDetailsDefaults = function (e) { $("#t" + e.initialdata.tmpId + "_Prodname").html(""), $("#t" + e.initialdata.tmpId + "_Compname").html(""), $("#t" + e.initialdata.tmpId + "_ProdPrice").html(""), $("#t" + e.initialdata.tmpId + "_soldBy").html("") }, LeftSide.prototype.imageData = function (e) { return e.mediakey = e.initialdata.obj.manipulatingKeys(e), e.mediakey.startingindex = e.initialdata.obj.getStartingIndex(e), e.mediakey.togglearrow = e.initialdata.obj.toToggleArrow(e), e }, LeftSide.prototype.prodMediaUI = function (e) { e = e.initialdata.obj.imageData(e), "image" === ReqObj.Form[e.initialdata.tmpId].typeofform.toLowerCase() || "video" === ReqObj.Form[e.initialdata.tmpId].typeofform.toLowerCase() ? (e.initialdata.obj.insertIntoProdMediaHtml(e, "prodimage", "#t" + e.initialdata.tmpId + "_slider" + e.mediakey.startingindex), isSet(e.initialdata.step) && "0L" === e.initialdata.step && e.initialdata.obj.insertIntoProdMediaSliderHtml(e, "#t" + e.initialdata.tmpId + "_slider" + e.mediakey.startingindex)) : e.initialdata.obj.insertIntoProdMediaHtml(e, "prodimage"), isOtherEnq(e.initialdata.tmpId) && isSet(e.initialdata.step) && "0L" === e.initialdata.step && e.initialdata.obj.prodChangeArrowUI(e) }, LeftSide.prototype.insertIntoProdMediaHtml = function (e, t, r) { "video" === e.mediakey.key[e.mediakey.startingindex].type.toLowerCase() && "0L" === e.initialdata.step ? ($("t" + e.initialdata.tmpId + "_prodVideo").on("load", youtubeVideo({ data: { tmpId: e.initialdata.tmpId, vidUrl: e.mediakey.key[e.mediakey.startingindex].vidUrl } })), $("#t" + e.initialdata.tmpId + "_prodimg").addClass("bedsnone")) : ("video" === e.mediakey.key[e.mediakey.startingindex].type.toLowerCase() ? $("#t" + e.initialdata.tmpId + "_prodimg").html((new ReqImage).displayHtml(e.initialdata.tmpId, [createImageObject(e)], 0, !0)) : $("#t" + e.initialdata.tmpId + "_prodimg").html((new ReqImage).displayHtml(e.initialdata.tmpId, e.mediakey.key, e.mediakey.startingindex, !0)), e.initialdata.obj.handleCSS(e, t, r), $("#t" + e.initialdata.tmpId + "parent_iframe").html("<div id='t" + e.initialdata.tmpId + "_prodVideo' class='fL bepr bdr1 pdpHg'></div>").addClass("bedsnone"), $("#t" + e.initialdata.tmpId + "_prodimg").removeClass("bedsnone")) }, LeftSide.prototype.insertIntoProdMediaSliderHtml = function (e, t) { for (var r = e.mediakey.key.length, o = "", i = 0; i < r; i++) { $("#t" + e.initialdata.tmpId + "_imgslider").append(returnSpan("t" + e.initialdata.tmpId, "_slider" + i, "", "eqitem", "")), "video" === e.mediakey.key[i].type.toLowerCase() && "" !== e.mediakey.key[i].vidUrl ? (o = "video" === e.mediakey.directvalues.type.toLowerCase() && isSet(t) && "" !== t ? (new ReqImage).displayHtml(e.initialdata.tmpId, e.mediakey.key, i, !1, "vidslider") : (new ReqImage).displayHtml(e.initialdata.tmpId, e.mediakey.key, i, !1), $("#t" + e.initialdata.tmpId + "_slider" + i).html("<span class='yTub'><i class='yTubImg'></i></span>" + o)) : (o = (new ReqImage).displayHtml(e.initialdata.tmpId, e.mediakey.key, i, !1), $("#t" + e.initialdata.tmpId + "_slider" + i).html(o)); var a = e; $("#t" + e.initialdata.tmpId + "_slider" + i).on("click", { receivingData: a, which: i, tochangeelement: "#t" + a.initialdata.tmpId + "_prodimg", onclickelement: "#t" + e.initialdata.tmpId + "_slider" + i, cttype: e.mediakey.key[i].type, vidUrl: e.mediakey.key[i].vidUrl }, insertHtml), $("#t" + e.initialdata.tmpId + "_slider" + i).on("hover", { receivingData: a, which: i, tochangeelement: "#t" + a.initialdata.tmpId + "_prodimg", onclickelement: "#t" + e.initialdata.tmpId + "_slider" + i, cttype: e.mediakey.key[i].type, vidUrl: e.mediakey.key[i].vidUrl }, insertHtml) } e.initialdata.obj.handleCSS(e, "slider", "#t" + e.initialdata.tmpId + "_slider" + e.mediakey.startingindex) }, LeftSide.prototype.manipulatingKeys = function (e) { var t = { type: ReqObj.Form[e.initialdata.tmpId].typeofform.toLowerCase(), displayImage: isSet(ReqObj.Form[e.initialdata.tmpId].displayImage) ? ReqObj.Form[e.initialdata.tmpId].displayImage : "", zoomImage: isSet(ReqObj.Form[e.initialdata.tmpId].zoomImage) ? ReqObj.Form[e.initialdata.tmpId].zoomImage : "", vidUrl: isSet(ReqObj.Form[e.initialdata.tmpId].vidUrl) ? ReqObj.Form[e.initialdata.tmpId].vidUrl : "" }, r = ReqObj.Form[e.initialdata.tmpId].multipleImageVideo, o = isSet(r) && "" !== r ? this.returnImageArray(r) : []; if (0 === o.length) { if ("video" === t.type) if ("" !== t.vidUrl) o.push(t); else { var i = this.createImageObject("image", t.displayImage, t.zoomImage, ""); "image" !== i.type || "" === i.displayImage && "" === i.zoomImage || o.push(i) } if ("video" === t.type.toLowerCase() || "" === t.displayImage && "" === t.zoomImage || o.push(t), 0 === o.length) { var a = { type: t.type, displayImage: "", zoomImage: "", vidUrl: "", defaultcase: !0 }; o.push(a) } } return { key: o, directvalues: t } }, LeftSide.prototype.returnImageArray = function (e) { if (e instanceof Array) { e.length; for (var t = [], r = 0; r < 6; r++)if (e[r] instanceof Object) { if ("video" === e[r].type.toLowerCase()) if ("" !== e[r].vidUrl) t.push(e[r]); else { var o = this.createImageObject("image", e[r].displayImage, e[r].zoomImage, ""); "image" !== o.type.toLowerCase() || "" === o.displayImage && "" === o.zoomImage || t.push(o) } "video" === e[r].type.toLowerCase() || "" === e[r].displayImage && "" === e[r].zoomImage || t.push(e[r]) } return t } return [] }, LeftSide.prototype.createImageObject = function (e, t, r, o) { return { type: e.toLowerCase(), displayImage: t, zoomImage: r, vidUrl: o } }, LeftSide.prototype.getStartingIndex = function (e) { if ("image" === e.initialdata.typeofform || "video" === e.initialdata.typeofform) { for (var t = e.mediakey.key.length, r = 0; r < t; r++)if (e.mediakey.key[r].type.toLowerCase() === e.mediakey.directvalues.type.toLowerCase() && (e.mediakey.key[r].displayImage === e.mediakey.directvalues.displayImage && "" !== e.mediakey.key[r].displayImage && "" !== e.mediakey.directvalues.displayImage || e.mediakey.key[r].zoomImage === e.mediakey.directvalues.zoomImage && "" !== e.mediakey.directvalues.zoomImage && "" !== e.mediakey.key[r].zoomImage || e.mediakey.key[r].vidUrl === e.mediakey.directvalues.vidUrl && "" !== e.mediakey.key[r].vidUrl && "" !== e.mediakey.directvalues.vidUrl)) return r; return 0 } return 0 }, LeftSide.prototype.prodMediaArrowUI = function (e) { if (!0 === e.mediakey.togglearrow) { var t = e.mediakey.key.length, r = e.mediakey.startingindex; (1 === t || t < 7) && hideAllArrows(e), t > 6 && (0 === r ? showHideArrow(e, "down") : r === t - 1 ? showHideArrow(e, "up") : r > 0 && r < t - 1 && showHideArrow(e, "between")) } }, LeftSide.prototype.toToggleArrow = function (e) { return "image" === e.initialdata.typeofform || "video" === e.initialdata.typeofform }, LeftSide.prototype.prodChangeArrowUI = function (e) { var t = e; isSet(ReqObj.Form[e.initialdata.tmpId].next) && "function" == typeof ReqObj.Form[e.initialdata.tmpId].next && (ReqObj.Form[e.initialdata.tmpId].nextProdArrow = !0, $("#t" + e.initialdata.tmpId + "_nextbtn").removeClass("bedsnone").off("click").on("click", { tmpId: t.initialdata.tmpId, todo: "next" }, changeProd), $("#t" + e.initialdata.tmpId + "_prebtn").addClass("bedsnone"), $("#t" + e.initialdata.tmpId + "_nextprediv").removeClass("bedsnone")), isSet(ReqObj.Form[e.initialdata.tmpId].prev) && "function" == typeof ReqObj.Form[e.initialdata.tmpId].prev && (ReqObj.Form[e.initialdata.tmpId].prevProdArrow = !0, $("#t" + e.initialdata.tmpId + "_prebtn").removeClass("bedsnone").off("click").on("click", { tmpId: t.initialdata.tmpId, todo: "prev" }, changeProd), $("#t" + e.initialdata.tmpId + "_nextbtn").addClass("bedsnone"), $("#t" + e.initialdata.tmpId + "_nextprediv").removeClass("bedsnone")), isSet(ReqObj.Form[e.initialdata.tmpId].next) && "function" == typeof ReqObj.Form[e.initialdata.tmpId].prev && isSet(ReqObj.Form[e.initialdata.tmpId].next) && "function" == typeof ReqObj.Form[e.initialdata.tmpId].next && (ReqObj.Form[e.initialdata.tmpId].nextProdArrow = !0, ReqObj.Form[e.initialdata.tmpId].prevProdArrow = !0, $("#t" + e.initialdata.tmpId + "_prebtn").removeClass("bedsnone").off("click").on("click", { tmpId: t.initialdata.tmpId, todo: "prev" }, changeProd), $("#t" + e.initialdata.tmpId + "_nextbtn").removeClass("bedsnone").off("click").on("click", { tmpId: t.initialdata.tmpId, todo: "next" }, changeProd), $("#t" + e.initialdata.tmpId + "_nextprediv").removeClass("bedsnone")) }, FormSeq.prototype.NextStep = function (e) { var t = "image" === ReqObj.Form[e].ctaType.toLowerCase() || "video" === ReqObj.Form[e].ctaType.toLowerCase(); ReqObj.Form[e].flags.IsFirstStep = !1, this.NumberofClassCalled = 1; var r = { pre: [], post: [] }, o = { UiArray: [], ServiceArray: [] }; if (this.NextStepsShown = [], "" === usercookie.getCookie("imEqgl") && NEC() && !ReqObj.Form[e].flags.isNECShown && "IN" === currentISO()) r = { pre: [], post: [this.NextStep] }, o = { UiArray: [], ServiceArray: [] }, CreateSeq({ object: { obj: new ContactDetail(1, 1, 1), toReplace: !1, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }); else if (ShowOtp()) { $("#t" + e + "_byrinfo").html(get_buyer_info(e)).addClass("bedsnone"), this.NumberofClassCalled = 1, $("#t" + e + "_hdg").removeClass("bedsnone"), r = { pre: [], post: [this.NextStep] }, o = { UiArray: [], ServiceArray: [] }, CreateSeq({ object: { obj: new UserVerification(e), toReplace: !0, objHtmlId: e + "_otpbox", isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) } else if ("" === usercookie.getCookie("imEqgl") && NEC() && !ReqObj.Form[e].flags.isNECShown && "IN" === currentISO()) { r = { pre: [], post: [this.NextStep] }, o = { UiArray: [], ServiceArray: [] }, CreateSeq({ object: { obj: new ContactDetail(1, 1, 1), toReplace: !1, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) } else if ($("#t" + e + "_byrinfo").html(get_buyer_info(e)).removeClass("bedsnone"), ReqObj.Form[e].disableIsq) this.OnCloseSeq(e); else if (isOneQISQ(e) && !0 === t) this.NumberofClassCalled -= 1; else if ("" === ReqObj.Form[e].IsqArray) if (this.NumberofClassCalled = 1, ReqObj.Form[e].flags.isDescDivShown) { this.NumberofClassCalled = 1, o = { UiArray: [], ServiceArray: [] }; r = { pre: [this.NextStep], post: [] }; CreateSeq({ object: { obj: ReqObj.Form[e].GlobalIsqObject, objHtmlId: e + "_isqbox", array: o, hooks: r, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !0, Thankyou: !0, FallbackObj: null, notBack: !0 }) } else { o = { UiArray: [], ServiceArray: [] }; var r = { pre: [this.NextStep], post: [] }, i = { object: { obj: new RequirementDtl(e), toReplace: !0, isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; CreateSeq({ object: { obj: ReqObj.Form[e].GlobalIsqObject, array: o, hooks: r, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !0, FallbackObj: i, notBack: !0 }) } else if (ReqObj.Form[e].prevCount < ReqObj.Form[e].IsqLength) { this.NumberofClassCalled = 1, o = { UiArray: [], ServiceArray: [] }, r = ReqObj.Form[e].prevCount < ReqObj.Form[e].IsqLength || !ReqObj.Form[e].flags.isDescDivShown || returnIsEnrichShownKeyVal(e) ? { pre: [this.NextStep], post: [] } : { pre: [this.OnCloseSeq], post: [] }, CreateSeq({ object: { obj: ReqObj.Form[e].GlobalIsqObject, objHtmlId: e + "_isqbox", array: o, hooks: r, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null, notBack: !0 }) } else { o = { UiArray: [], ServiceArray: [] }; if (returnIsEnrichShownKeyVal(e) || ShowReqBox(e)) { if (this.NumberofClassCalled = 1, ShowReqBox(e)) { returnIsEnrichShownKeyVal(e) && "bl" === ReqObj.Form[e].formType.toLowerCase() && (this.NumberofClassCalled = 2); r = { pre: [this.OnCloseSeq], post: [] }; CreateSeq(i = { object: { obj: new RequirementDtl(e), toReplace: !0, objHtmlId: e + "_reqbox", isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) } if (returnIsEnrichShownKeyVal(e) && "bl" === ReqObj.Form[e].formType.toLowerCase()) { r = { pre: [this.OnCloseSeq], post: [] }; if (ShowReqBox(e)) r = { pre: [], post: [] }; CreateSeq({ object: { obj: new BlStaticQues(e), toReplace: !0, objHtmlId: e + "_isqStatic", isService: !1, array: o, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) } } else this.OnCloseSeq(e) } }, PostBlEnqUpdate.prototype.onSubmit = function (e) { if (isSet(e)) { var t = PreAjax("PostBlEnqUpdate", e); this.sendRequest(t, e) } }, PostBlEnqUpdate.prototype.defaultEvents = function () { }, PostBlEnqUpdate.prototype.getData = function (e) { var t = {}, r = usercookie.getCookie("ImeshVisitor"), o = usercookie.getCookie("iploc"); t.modId = ReqObj.Form[e].modId, t.s_ip = usercookie.getParameterValue(o, "gip"), t.s_ip_country = usercookie.getParameterValue(o, "gcnnm"), t.s_ip_country_iso = usercookie.getParameterValue(o, "gcniso"); var i = usercookie.getParameterValue(r, "fn"); if ("" === i) { var a = ReqObj.UserDetail.fn; if (a && -1 !== a.indexOf(" ")) var s = a.substr(0, a.indexOf(" ")), n = a.substr(a.indexOf(" ") + 1); t.s_first_name = "" !== s && void 0 !== s ? s : a, t.s_last_name = "" !== n && void 0 !== n ? n : "" } else t.s_first_name = i; return i = usercookie.getParameterValue(r, "em"), t.s_email = "" === i ? ReqObj.UserDetail.em : i, i = usercookie.getParameterValue(r, "mb1"), t.s_mobile = "" === i ? ReqObj.UserDetail.mb1 : i, t.s_city_name = ReqObj.UserDetail.cityname, t.s_glusrid = usercookie.getParameterValue(r, "glid"), t.s_country_name = usercookie.getParameterValue(o, "gcnnm"), t.generationId = ReqObj.Form[e].generationId, t.s_city_id = ReqObj.UserDetail.ctid, t.flag = IsChatbl(e) ? "BL" : ReqObj.Form[e].formType, "IN" === currentISO() && (t.s_state_name = isSet(ReqObj.UserDetail.statename) && "" !== ReqObj.UserDetail.statename ? ReqObj.UserDetail.statename : ""), "Enq" === ReqObj.Form[e].formType && (t.r_glusrid = ReqObj.Form[e].rcvGlid, t.rfq_queryDestination = ReqObj.Form[e].query_destination), ObjectTrim(t) }, PostBlEnqUpdate.prototype.sendRequest = function (e, t) { var r = "Enq" === ReqObj.Form[t].formType ? "Send Enquiry" : "Post Buy Leads", o = this.getData(t); ValidGenId(ReqObj.Form[t].generationId) ? $.ajax({ cache: !1, url: appsServerName + "index.php?r=Newreqform/BLEnqUpdate", type: "GET", dataType: "json", crossOrigin: !0, crossDomain: !0, data: o, success: function (o) { isSet(o) ? isSet(o.success) && 1 === parseInt(o.success) ? (PostAjax(e, t), blenqGATracking(r, "service:PostBlenqUpdate:success", getEventLabel(), 1, t)) : (blenqGATracking(r, "service:PostBlenqUpdate:failure", o, 1, t), PostAjax(e, t)) : (blenqGATracking(r, "service:PostBlenqUpdate:failure", "response undefined", 1, t), Ajaxfailure(e, t)) }, error: function (o) { o = isSet(o) ? JSON.stringify(o) : "response undefined", blenqGATracking(r, "service:PostBlenqUpdate:failure", o, 1, t), Ajaxfailure(e, t) } }) : PostAjax(e, t) }, ProductNameQuestion.prototype.onSubmit = function (e) { if (isSet(e)) { var t = PreAjax("ProductNameQuestion", e); ReqObj.Form[e].UserInputs.IsProduct === "Change the product".trim() && (ReqObj.Form[e].prodName = "", ReqObj.Form[e].mcatId = -1, ReqObj.Form[e].catId = -1), PostAjax(t, e) } }, ProductNameQuestion.prototype.validate = function (e, t) { return !0 }, ProductNameQuestion.prototype.displayAnswer = function (e) { var t = chatBlClass(e, "right"), r = "inline" === chatBlPopupInline(e) ? "message-right" : "popup" === chatBlPopupInline(e) ? "message-right1" : ""; return [ConversationRightWrapper(e, returnAnswer(e, "IsProduct"), { classtotest: t, leftright: r })] }, ProductNameQuestion.prototype.defaultEvents = function (e) { }, ProductNameQuestion.prototype.displayHtml = function (e) { return [this.ProductNameQuestionHTML] }, ProductNameQuestion.prototype.SaveDetails = function (e, t) { isSet(t.target.textContent) && "" !== t.target.textContent && (ReqObj.Form[e].UserInputs.IsProduct = t.target.textContent) }, ProductNameQuestion.prototype.addHtmlObjToArray = function (e) { this.ProductNameQuestionHtmlObjArray.push(e) }, ProductNameQuestion.prototype.toUpdate = function (e) { return !!usercookie.getCookie("ImeshVisitor") }, ProductNameQuestion.prototype.hasHtml = function (e) { if (isSet(e)) { var t = e.tmpId; this.addHtmlObjToArray(this.getProductHtml(t)); var r = { SuffixOuterHtml: "", SuffixClosingHtml: "", suffix: "" }; if (this.ProductNameQuestionHTML = MakeWrapper([this.ProductNameQuestionHtmlObjArray], t, r, ""), "" !== this.ProductNameQuestionHTML) { if (e.that.NumberofClassCalled -= 1, AttachObject(e.object, t), isSet(e.AfterService)) for (var o = 0; o < e.AfterService.length; o++)e.that.MakeSeq(e.AfterService[o], t); 0 === e.that.NumberofClassCalled && makeFinalSeq(e, t) } else e.hasFallback ? CreateSeq(e.FallbackObj) : e.that.NumberofClassCalled -= 1 } }, ProductNameQuestion.prototype.getProductHtml = function (e) { var t = ""; return t += 'Looking for "', t += returnSpan("", "", ReqObj.Form[e].mcatName, "befwt") + '"', t += "?", this.ProductNameQuestionHtmlObj.Label = t, t = "", "inline" === chatBlPopupInline(e) ? (t += returnButton("t" + e, "_submit", "Yes, Continue", chatBlClass(e, "yes")), t += returnButton("t" + e, "_submitNo", "Change the product", chatBlClass(e, "change"))) : "popup" === chatBlPopupInline(e) && (t += returnButton("t" + e, "_submitNo", "Change the product", chatBlClass(e, "change")), t += returnButton("t" + e, "_submit", "Yes, Continue", chatBlClass(e, "yes"))), this.ProductNameQuestionHtmlObj.UserInput = t, this.ProductNameQuestionHtmlObj.OuterWrapper = "", this.ProductNameQuestionHtmlObj.ClosingWrapper = "", this.ProductNameQuestionHtmlObj }, FormSeq.prototype.GetExistingObject = function (e, t) { if (isSet(e) && isSet(t) && isSet(ReqObj.Form[t].UiArray)) for (var r = 0; r < ReqObj.Form[t].UiArray.length; r++)for (var o = 0; o < ReqObj.Form[t].UiArray[r].length; o++)if (ConstructorName(ReqObj.Form[t].UiArray[r][o].Obj).toLowerCase() === e) return [r, o]; return !1 }, FormSeq.prototype.Checkforparent = function (e) { if (isSet(e) && isSet(ReqObj.Form[tmpId].UiArray)) for (var t = 0; t < ReqObj.Form[tmpId].UiArray.length; t++)for (var r = 0; r < ReqObj.Form[tmpId].UiArray[t].length; r++)if (ConstructorName(ReqObj.Form[tmpId].UiArray[t][r].Obj).toLowerCase() === e) return [t, r]; return !1 }, FormSeq.prototype.FirstStepSequence = function (e) { if (isSet(e)) { var t = isSet(ReqObj.Form[e].formType) ? ReqObj.Form[e].formType : ""; if ("09" === e.substring(0, 2) || "08" === e.substring(0, 2)) var r = "popup"; else r = "inline"; SetUserDetails(); t = isSet(ReqObj.Form[e].formType) ? ReqObj.Form[e].formType : ""; switch (this.StepCounter = -1, ReqObj.Form[e].OnCloseStep = !1, ReqObj.Form[e].IsthroughClosebtn = !1, ReqObj.Form[e].isTNCShownOnFirstStep = !1, ReqObj.Form[e].flags.IsFirstStep = !0, ReqObj.Form[e].PrevAnsPrint = !0, 1 === parseInt(ReqObj.Form[e].disableRd) && (ReqObj.Form[e].flags.isDescDivShown = !0), "popup" === chatBlPopupInline(e) ? setTimeout(function () { addBlLoader(e, "left") }, 400) : addBlLoader(e, "center"), r.trim().toLowerCase()) { case "popup": "bl" === t.toLowerCase() ? this.BLpopup(e) : "chatbl" === t.toLowerCase() || "chatbl-inline" === t.toLowerCase() ? this.BLChat(e) : this.Enqpopup(e); break; case "inline": "bl" === t.toLowerCase() ? this.BLinline(e) : "chatbl" === t.toLowerCase() ? this.BLChat(e) : this.Enqinline(e) } } }, FormSeq.prototype.prepareToRender = function (e, t, r, o) { var i = ""; if (isSet(o.Obj.idToAppend) && "" !== o.Obj.idToAppend && (t = o.Obj.idToAppend), isSet(o.Obj.idToHide) && "" !== o.Obj.idToHide && (i = o.Obj.idToHide), "function" == typeof o.Obj.displayHtml) { var a = $(t), s = o.Obj.displayHtml(e); return isSet(s) || (s = [""]), r.push(s), a.hasClass("bedsnone") && a.removeClass("bedsnone"), isSet(i) && "" !== i && $(i).css({ display: "none" }), a } }, FormSeq.prototype.RenderUi = function (e, t, r) { if (isSet(e)) { var o = [], i = CounterScreenId(e, 0), a = i.elid, s = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads"; if (o = this.OnCloseCounter > -1 ? ReqObj.Form[e].OnCloseArray[this.OnCloseCounter] : ReqObj.Form[e].UiArray[this.StepCounter], ReqObj.Form[e].currentScreen = "", "popup" === chatBlPopupInline(e) && ReqObj.Form[e].ischangeProduct && ($(".t" + e + "_userInput").each(function () { $(this).remove() }), $("#t" + e + "_typhere").removeClass("dn"), $("#t" + e + "_newblchatReply").addClass("cbl_vh"), ReqObj.Form[e].PrevAnsPrint = !1, ReqObj.Form[e].ischangeProduct = !1), ReqObj.Form[e].PrevAnsPrint && questionTransition(ReqObj.Form[e].formType, e), ElExists(a)) { if (HideSuggester(), removeBLLoader(e, "left"), RemoveButton(e), $("#" + a).css("display", "block"), isSet(o)) for (c = 0; c < o.length; c++)ReqObj.Form[e].currentScreen += o[c].Obj.className, isSet(o[c]) && isSet(o[c].Obj) && "function" == typeof o[c].Obj.EventIfScreenPresent && o[c].Obj.EventIfScreenPresent(e); if (buttonName(o, e), ReqObj.Form[e].IsbackClicked) { p = "Back_to_" + t; IsChatbl(e) && (ReqObj.Form[e].classfortracking = p), 0 === this.StepCounter && "09" !== e.substring(0, 2) || -1 === binaryArraySearch(ReqObj.Form[e].BackwardDisplaySteps, r) && (blenqGATracking(s, p, getEventLabel(), 1, e), ReqObj.Form[e].BackwardDisplaySteps.push(r)) } return "" } for (var n = "", l = [], c = 0; c < o.length; c++)if (isSet(o[c].Obj)) { ReqObj.Form[e].currentScreen += o[c].Obj.className; var m = "#t" + e + "_bl_form", u = this.prepareToRender(e, m, l, o[c]); isSet(o) && (c < o.length && c > 0 && (n += "-"), n += ConstructorName(o[c].Obj)) } if ("popup" !== chatBlPopupInline(e)) RenderHtml(u, l, e, ""); else { m = "#t" + e + "_new_chatbl"; RenderHtml($(m), l[0][0], e, ""), setTimeout(function () { $(".cbl_ques").removeClass("cbl_vh") }, 750), m = "#t" + e + "_newblchatReply", RenderHtml($(m), l[0][1], e, ""), setTimeout(function () { $(".t" + e + "_userInput").removeClass("dn") }, 1700) } for (var c = 0; c < o.length; c++)isSet(o[c].Obj) && "function" == typeof o[c].Obj.defaultEvents && o[c].Obj.defaultEvents(e, i), isSet(o[c].Obj) && "function" == typeof o[c].Obj.handleButton && o[c].Obj.handleButton(e), isOtherEnq(e) && isSet(o[c].Obj) && "function" == typeof o[c].Obj.handleHeading && o[c].Obj.handleHeading(e); buttonName(o, e), HideSuggester(), "09" === e.substring(0, 2) && (ReqObj.Form[e].flags.isFlagSuggSet = !1), callFlagSuggestor(e, "load"), ShowHideTNC(e), "popup" === chatBlPopupInline(e) ? setTimeout(function () { newchatblScroll("t" + e + "_chatScroll", e) }, 800) : scrollSmoothToBottom("t" + e + "_chatScroll"), "popup" === chatBlPopupInline(e) ? setTimeout(function () { removeBLLoader(e, "left") }, 750) : removeBLLoader(e, "left"); var p = t + "|" + n; if (IsChatbl(e) && (ReqObj.Form[e].classfortracking = p, "chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() && (d = isSet(ReqObj.Form[e].isAutoOpen) && "true" === ReqObj.Form[e].isAutoOpen ? "From scroll" : "From click", ReqObj.Form[e].classfortracking = p + "|" + d)), 0 === this.StepCounter && IsChatbl(e) && "popup" === chatBlPopupInline(e)) { var d = ""; blenqGATracking(s, ReqObj.Form[e].classfortracking, getEventLabel(), 1, e), fireYandex(e) } 0 === this.StepCounter && "09" !== e.substring(0, 2) || (r > 1 || -1 === binaryArraySearch(ReqObj.Form[e].TrackedDisplaySteps, r)) && ("enq" === ReqObj.Form[e].formType.toLowerCase() && 0 === this.StepCounter ? (imInvokeRequestForGaCode(e, "FormOpen:" + p), fireYandex(e)) : "bl" === ReqObj.Form[e].formType.toLowerCase() && 0 === this.StepCounter ? (fireYandex(e), blenqGATracking(s, p, getEventLabel(), 1, e)) : blenqGATracking(s, p, getEventLabel(), 1, e), ReqObj.Form[e].TrackedDisplaySteps.push(r)) } return "" }, FormSeq.prototype.ChatblTncSubmit = function (e) { var t = this; $("#t" + e + "_chatBL").off("keypress.Submit").on("keypress.Submit", function (r) { 13 === (r.keyCode ? r.keyCode : r.which) && isSet(r) && isSet(r.target) && r.target.id === "t" + e + "_tCondCheckBox" && (beforeformsubmitaction(e), t.FormSubmit(e, r)) }) }, FormSeq.prototype.ShowStep = function (e) { if (isSet(e)) { var t = this, r = (currentISO(), 0); r = parseInt(t.OnCloseCounter, 10) > -1 ? parseInt(this.StepCounter, 10) + 1 + (parseInt(t.OnCloseCounter, 10) + 1) : parseInt(this.StepCounter, 10) + 1, isOtherEnq(e) || "image" === ReqObj.Form[e].ctaType.toLowerCase() || SetBlHeading(e, r); var o = "DisplayStep|" + r; this.RenderUi(e, o, r), this.ChatblTncSubmit(e), $("#t" + e + "_changeProduct").off("click").on("click", function (r) { beforeformsubmitaction(e), ReqObj.Form[e].ischangeProduct = !0, t.FireTracking(e, r), t.BLChatProdName(e) }), $(".cbl_txt").off("keyup").on("keyup", function () { isSet($(".cbl_txt").val()) && 0 === $(".cbl_txt").val().length ? $(".cbl_skip").removeClass("dn") : $(".cbl_skip").addClass("dn") }), $(".cbl_radio").off("click").on("click", function (e) { var t = []; $("input:checked").each(function () { ($(this).hasClass("cbl_chekbx_btn") || $(this).hasClass("waschecked")) && t.push(this.id) }), $(".cbl_othinpt").off("keyup").on("keyup", function () { 0 === t.length && "" === $(".cbl_othinpt").val() ? $(".cbl_skip").removeClass("dn") : $(".cbl_skip").addClass("dn") }), isSet($(".cbl_othinpt").val()) && !$("#" + e.target.id).hasClass("cbl_othinpt") ? 0 === t.length && "" === $(".cbl_othinpt").val() ? ($(".cbl_skip").removeClass("dn"), $(".cbl_skip").removeClass("bedsnone")) : $(".cbl_skip").addClass("dn") : isSet($(".cbl_othinpt").val()) || (0 === t.length ? ($(".cbl_skip").removeClass("dn"), $(".cbl_skip").removeClass("bedsnone")) : $(".cbl_skip").addClass("dn")) }), $(".cbl_qunty").off("keyup").on("keyup", function () { isSet($(".cbl_qunty").val()) && 0 === $(".cbl_qunty").val().length && $(".cbl_unit").prop("readonly") && "" === $(".cbl_unit").val() ? $(".cbl_skip").removeClass("dn") : $(".cbl_skip").addClass("dn") }), $("#t" + e + "_blchatbody").off("click").on("click", function () { $(".cbl_selct_unit").addClass("dn"), $(".cbl_sclBr").addClass("dn") }), $(".cbl_unit").off("focus", function (e) { $(".cbl_selct_unit").addClass("dn") }).on("focus", function (t) { var r = t.target.id, o = r.charAt(r.length - 1); $("#t" + e + "_selectDD" + o).prop("readonly") && funcClick(t.currentTarget, e, o) }), $("#t" + e + "_submit").off("mousedown.Submit").on("mousedown.Submit", function (r) { $("#t" + e + "_login_field").length > 0 && $("#t" + e + "_q_first_nm").length > 0 && ($("#t" + e + "_login_field").attr("request", 1), ReqObj.isMouseDownFired = !0), ReqObj.Form[e].isSkipOTPClicked = "popup" !== chatBlPopupInline(e) && "", "popup" === chatBlPopupInline(e) && beforeformsubmitaction(e), t.FormSubmit(e, r) }), $("#t" + e + "_submitNo").off("click.Submit").on("click.Submit", function (r) { ReqObj.Form[e].isSkipOTPClicked = "popup" !== chatBlPopupInline(e) && "", "popup" === chatBlPopupInline(e) && beforeformsubmitaction(e), t.FormSubmit(e, r) }), $("#t" + e + "_skipOTP").off("click").on("click", function (r) { ReqObj.Form[e].isSkipOTPClicked = !0, ReqObj.Form[e].showotpstep = 1, "popup" === chatBlPopupInline(e) && beforeformsubmitaction(e), t.FormSubmit(e, r) }), $("#t" + e + "_be-backbtn").off("click").on("click", function (r) { "popup" === chatBlPopupInline(e) && beforeformsubmitaction(e), t.Back(e, r) }), $("#t" + e + "_backarr").off("click").on("click", function (r) { "popup" === chatBlPopupInline(e) && beforeformsubmitaction(e), t.Back(e, r) }), $("#t" + e + "_bl_form").off("keypress.Submit").on("keypress.Submit", function (r) { 13 === (r.keyCode ? r.keyCode : r.which) && (isSet(r) && isSet(r.target) && isSet(r.target.id) && r.target.id === "t" + e + "_reqBoxTemplates" || $("#t" + e + "_submit").is(":disabled") || ($("#t" + e + "_chatBL").off("keypress.Submit"), t.FormSubmit(e, r) || t.ChatblTncSubmit(e))) }), $("#t" + e + "_newblchatReply").off("keypress.Submit").on("keypress.Submit", function (r) { var o = r.keyCode ? r.keyCode : r.which; 13 === o && ($("#t" + e + "_blchatfooter").focus(), $("#t" + e + "_submit").is(":disabled") || ($("#t" + e + "_chatBL").off("keypress.Submit"), "popup" === chatBlPopupInline(e) && beforeformsubmitaction(e), t.FormSubmit(e, r) || t.ChatblTncSubmit(e))) }); var i = $("#t" + e + "_notSure"); i.length > 0 && i.off("click").on("click", function (r) { ReqObj.Form[e].NotSure = !0, ReqObj.Form[e].PrevAnsPrint = !0, t.FireTracking(e, r); var o = [], i = ""; t.OnCloseCounter > -1 ? (i = t.OnCloseCounter, o = t.OnCloseServiceArray[i]) : (i = t.StepCounter, o = t.FullServiceArray[i]), t.MoveToNext(e), formatServices(o, e), ServiceSeqGeneration(e) }) } }, FormSeq.prototype.Back = function (e) { if (ReqObj.Form[e].IsbackClicked = !0, this.OnCloseCounter > -1) { if (this.OnCloseCounter > 0) var t = ReqObj.Form[e].OnCloseArray, r = this.OnCloseCounter; else { t = ReqObj.Form[e].UiArray, r = this.StepCounter; ReqObj.Form[e].OnCloseStep = !1 } this.OnCloseCounter -= 1 } else { this.StepCounter -= 1; t = ReqObj.Form[e].UiArray, r = this.StepCounter } BackBtn(t[r], e), isSet(t) && r < t.length && (IsChatbl(e), this.ShowStep(e)) }, FormSeq.prototype.MoveToNext = function (e) { if (isSet(e)) { var t = [], r = !1; if (isSet(t = this.OnCloseCounter > -1 ? this.OnCloseServiceArray[this.OnCloseCounter] : this.FullServiceArray[this.StepCounter])) for (var o = 0; o < t.length; o++)if (isSet(t[o].pre) && t[o].pre.length > 0 && !r && (r = !0, isSet(t[o].pre))) { for (var i = 0; i < t[o].pre.length; i++)PrePostService(t[o].pre[i], e); t[o].pre = [] } return !r } return !1 }, FormSeq.prototype.ClassForTracking = function (e, t) { var r = [], o = "", i = 0; this.OnCloseCounter > -1 ? (o = this.OnCloseCounter, r = ReqObj.Form[e].OnCloseArray, i = this.StepCounter + 1 + (this.OnCloseCounter + 1)) : (o = this.StepCounter, r = ReqObj.Form[e].UiArray, i = this.StepCounter + 1); var a = "SubmitStep|" + i + "|"; if (isSet(t.toElement) && t.toElement.id === "t" + e + "_changeProduct") a += "ProductNameQuestion"; else if (isSet(r)) for (var s = 0; s < r[o].length; s++)s < r[o].length && s > 0 && (a += "-"), a += ConstructorName(r[o][s].Obj); return a }, FormSeq.prototype.FireTracking = function (e, t) { if (parseInt(this.OnCloseCounter, 10) > -1 ? stepNumber = parseInt(this.StepCounter, 10) + 1 + (parseInt(this.OnCloseCounter, 10) + 1) : stepNumber = parseInt(this.StepCounter, 10) + 1, -1 === binaryArraySearch(ReqObj.Form[e].TrackedSubmitSteps, stepNumber)) { var r = this.ClassForTracking(e, t), o = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", i = ""; if (IsChatbl(e)) { var a = t.target.textContent; "" !== (i = "next" === trimVal(a.substring(0, 5)).toLowerCase() ? a.substring(0, 5).trim() : "skip" === trimVal(a).toLowerCase() ? t.target.textContent.trim() : "yes" === a.substring(0, 3).toLowerCase() ? t.target.textContent.trim() : "change" === a.substring(0, 6).toLowerCase() ? t.target.textContent.trim() : "") && (i = "|" + i) } blenqGATracking(o, r + i, getEventLabel(), 0, e), ReqObj.Form[e].TrackedSubmitSteps.push(stepNumber) } }, FormSeq.prototype.FormSubmit = function (e, t) { if ("chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() && "08" === e.substring(0, 2) && (isChatBlSequenceUpdated = !0), $("#t" + e + "spc_submit_button").addClass("bedsnone").html(""), $("#t" + e + "submit_wrapper").removeClass("bedsnone"), $("#t" + e + "_question").removeClass("mvta"), removeYTLoader(e), HideSuggester(), isSet(e)) { ReqObj.Form[e].PrevAnsPrint = !0, CheckforUpdate(this.StepCounter, e), ReqObj.Form[e].NotSure = !1, ReqObj.Form[e].IsbackClicked = !1; var r = [], o = "", i = []; if (this.OnCloseCounter > -1 ? (o = this.OnCloseCounter, r = ReqObj.Form[e].OnCloseArray, i = this.OnCloseServiceArray[o]) : (o = this.StepCounter, r = ReqObj.Form[e].UiArray, i = this.FullServiceArray[o]), t.target.id !== "t" + e + "_skipOTP" && ValidateObj(r, o, e, t)) return !1; this.FireTracking(e, t); for (var a = 0; a < r[o].length; a++)"function" == typeof r[o][a].Obj.SaveDetails && r[o][a].Obj.SaveDetails(e, t); ReqObj.Form[e].flags.ImEqgl = isSecondBlEnq(e); var s = CounterScreenId(e, 1), n = s.elid; if ("09" !== e.substring(0, 2) && ShowOtp() && !ReqObj.Form[e].flags.isOtpShown && ReqObj.Form[e].flags.ImEqgl && 0 === this.StepCounter ? (this.MoveToNextPost(e), ReqObj.Form[e].RemainingService = i) : formatServices(i, e), ElExists(n)) { var l = !1; "onCloseScreen" === s.type && (l = !0), this.getStep(e, l), RemovePost(ReqObj.Form[e].ServiceSequence) } else { var c = { modid: ReqObj.Form[e].modId, ofr_id: ReqObj.Form[e].generationId, b_response: ReqObj.Form[e].optionsValue, q_desc: ReqObj.Form[e].questionsDesc, UPDIP: "India", UPDURL: window.document.URL.toString().substr(0, 450), UPDIP_COUNTRY: "India", UPDATESCREEN: "DESKTOP ENQUIRY FORM", glusr_id: usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "glid"), q_id: ReqObj.Form[e].questionsId, b_id: ReqObj.Form[e].optionsId }; "image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || !0 !== ReqObj.ImageVideoIsqSeq || 0 !== ReqObj.Form[e].FormSequence.StepCounter || updateUserFilledIsq(e, c); var m = this.MoveToNext(e) } ServiceSequenceHit(e, m), t.target.id === "t" + e + "_skipOTP" && this.MoveToNextPost(e) } return !0 }, FormSeq.prototype.MoveToNextPost = function (e) { if (isSet(e)) { var t = [], r = !1; if (isSet(t = this.OnCloseCounter > -1 ? this.OnCloseServiceArray[this.OnCloseCounter] : this.FullServiceArray[this.StepCounter])) for (var o = 0; o < t.length; o++)if (isSet(t[o].post) && t[o].post.length > 0 && !r && (r = !0, isSet(t[o].post))) { for (var i = 0; i < t[o].post.length; i++)PrePostService(t[o].post[i], e); t[o].post = [] } return !r } return !1 }, FormSeq.prototype.getStep = function (e, t) { if (t) { ReqObj.Form[e].OnCloseStep = !0, this.OnCloseCounter += 1; var r = ReqObj.Form[e].OnCloseArray, o = this.OnCloseCounter } else { this.StepCounter += 1; r = ReqObj.Form[e].UiArray, o = this.StepCounter } isSet(r) && o < r.length && (IsChatbl(e), this.ShowStep(e)) }, FormSeq.prototype.MakeSeq = function (e) { isSet(e) && (ReplaceObject(e.object, e.tmpId, this), e.object.isService ? AttachObject(e.object, e.tmpId) : "function" == typeof e.object.obj.hasHtml && e.object.obj.hasHtml(e)) }, FormSeq.prototype.InlineOpenForm = function (e) { if (isSet(e)) { ClearInlineBlTag(e), $("#t" + e + "_enrichform_maindiv").html(GetPopUpHtml(e)).css({ display: "table" }), ReqObj.Form[e].btn = $("#t" + e + "_q_send_req_button").html(), $("#t" + e + "_q_send_req_button").html(""), "bl" === ReqObj.Form[e].formType.toLowerCase() && isSet(ReqObj.Form[e].displayImage) && "" === ReqObj.Form[e].displayImage && isSet(ReqObj.Form[e].zoomImage) && "" === ReqObj.Form[e].zoomImage && (ReqObj.Form[e].displayImage = isSet(ReqObj.mcatImage) && "" !== ReqObj.mcatImage ? ReqObj.mcatImage : ""), OpenBLEnqPopup(e), FormCloseButtons(e) } }, "undefined" == typeof isIframeApiloaded && (window.isIframeApiloaded = 0); var new_player = ""; function loadScript() { if (0 === isIframeApiloaded) { isIframeApiloaded = 1; var e = document.createElement("script"); e.src = "https://www.youtube.com/player_api"; var t = document.getElementsByTagName("script")[0]; t.parentNode.insertBefore(e, t) } } function onPlayerStateChange(e) { 1 !== e.data ? blStop = 0 : blStop = 1 } function ReqImage(e, t) { this.displayImage = "", this.zoomImage = "", this.defaultimg = "", this.vidUrl = "", this.ctaType = "", this.funcToCall = "", this.html = "", this.src = "", this.type = "", this.className = "ReqImage" } function getYTVideo(e) { 1 === YT.loading && 1 === YT.loaded && (isIframeApiloaded = 2, new_player = new YT.Player("t" + e.data.tmpId + "_prodVideo", { width: "500", height: "500", playerVars: { rel: 0, autoplay: 1 }, videoId: e.data.vidUrl, events: { onReady: function (t) { removeYTLoader(e.data.tmpId), $("#t" + e.data.tmpId + "parent_iframe").removeClass("cbl_vh") }, onStateChange: function (t) { $("#t" + e.data.tmpId + "_imglodr").addClass("bedsnone"), isSet(new_player) && "function" == typeof new_player.getPlayerState && 0 === new_player.getPlayerState() && (new_player.seekTo(0), new_player.stopVideo()) } } }), $("#t" + e.data.tmpId + "parent_iframe").removeClass("bedsnone").addClass("cbl_vh"), $("#t" + e.data.tmpId + "_prodimg").addClass("bedsnone")) } function youtubeVideo(e) { addYTLoader(e.data.tmpId, "left"), "undefined" == typeof YT && 0 === isIframeApiloaded ? (loadScript(), window.onYouTubeIframeAPIReady = function () { youtubeVideo(e) }) : "undefined" == typeof YT && 1 === isIframeApiloaded || 1 === YT.loading && 0 === YT.loaded || 0 === isIframeApiloaded ? (loadScript(), window.onYouTubeIframeAPIReady = function () { youtubeVideo(e) }) : 1 === YT.loading && 1 === YT.loaded && (isIframeApiloaded = 2, getYTVideo(e)) } function RightSide(e, t, r) { this.defaultActions(e, t, r) } function CreateSeq(e) { isSet(e) && (ReplaceObject(e.object, e.tmpId, e.that), "function" == typeof e.object.obj.hasHtml && e.object.obj.hasHtml(e)) } function RenderHtml(e, t, r, o) { isSet(t) || (t = []); for (var i = "", a = 0; a < t.length; ++a)for (var s = 0; s < t[a].length; s++)i += t[a][s]; if ("" !== i) { var n = ""; IsPrevBtnImplemented(r) ? (n += "<div id='" + CounterScreenId(r, 0).elid + "'>", n += i, n += "</div>") : n += i, e.append(n) } } function ShowUserAns(e) { if (isSet(e)) { removeBLLoader(e, "center"); var t = [], r = ReqObj.Form[e].FormSequence; t = r.OnCloseCounter > -1 ? r.OnCloseCounter > 0 ? ReqObj.Form[e].OnCloseArray[r.OnCloseCounter - 1] : [] : r.StepCounter > 0 ? ReqObj.Form[e].UiArray[r.StepCounter - 1] : []; for (var o = 0; o < t.length; o++)if (isSet(t[o].Obj)) { var i = "popup" === chatBlPopupInline(e) ? "#t" + e + "_new_chatbl" : "#t" + e + "_bl_form", a = ""; if (isSet(t[o].Obj.idToAppend) && "" !== t[o].Obj.idToAppend && (i = t[o].Obj.idToAppend), isSet(t[o].Obj.idToHide) && "" !== t[o].Obj.idToHide && (a = t[o].Obj.idToHide), "function" == typeof t[o].Obj.displayAnswer) { var s = $(i); RenderHtml(s, t[o].Obj.displayAnswer(e), e), s.hasClass("bedsnone") && s.removeClass("bedsnone"), isSet(a) && "" !== a && $(a).css({ display: "none" }) } } } } function questionTransition(e, t) { if (isSet(e) && -1 === $.inArray(e.toLowerCase(), showElemonForm)) IsPrevBtnImplemented(t) ? $($("#t" + t + "_bl_form").children()).each(function () { $(this).css("display", "none") }) : $("#t" + t + "_bl_form").html(""); else if (isSet(e) && -1 !== $.inArray(e.toLowerCase(), showElemonForm)) if ($(".t" + t + "_userInput").each(function () { $(this).remove(), $("#t" + t + "_typhere").removeClass("dn"), $("#t" + t + "_newblchatReply").addClass("cbl_vh") }), ReqObj.Form[t].NotSure) { var r = chatBlClass(t, "right"), o = "inline" === chatBlPopupInline(t) ? "message-right" : "popup" === chatBlPopupInline(t) ? "message-right1" : ""; $("#t" + t + "_bl_form").append(ConversationRightWrapper(t, NotFilled, { classtotest: r, leftright: o })) } else ShowUserAns(t) } function IsPrevBtnImplemented(e) { if (notEmpty(e)) { e = e.substring(0, 2); return -1 !== $.inArray(e, ["09"]) } return !1 } function makeFinalSeq(e, t) { isSet(e) && isSet(e.that) && isSet(e.that.FullServiceArray) && isSet(ReqObj.Form[t].UiArray) && (e.that.FullServiceArray.push(e.object.array.ServiceArray), ReqObj.Form[t].UiArray.push(e.object.array.UiArray), e.that.getStep(t)) } function formatServices(e, t) { if (isSet(ReqObj.Form[t].ServiceSequence) && isSet(ReqObj.Form[t].HitArray) && isSet(e)) for (var r = 0; r < e.length; r++) { var o = findParent(ConstructorName(e[r].fn)), i = !1; if ((o = isSet(o) ? o : []).length > 0) for (var a = 0; a < o.length; a++)FindCorrectSpot(ReqObj.Form[t].ServiceSequence, e[r], o[a]) ? i = !0 : FindCorrectSpot(ReqObj.Form[t].HitArray, e[r], o[a]) ? i = !0 : a !== o.length - 1 || i || ReqObj.Form[t].ServiceSequence.push(e[r]); else ReqObj.Form[t].ServiceSequence.push(e[r]) } } function ServiceSequenceHit(e, t) { if (isSet(e) && isSet(ReqObj.Form[e]) && isSet(ReqObj.Form[e].ServiceSequence)) for (isSet(t) && t && ("popup" === chatBlPopupInline(e) && "userverification" === ReqObj.Form[e].currentScreen.toLowerCase() ? !ReqObj.Form[e].isSkipOTPClicked && $("#t" + e + "cbl_msg").parent().removeClass("dn") : addBlLoader(e, "right")); ReqObj.Form[e].ServiceSequence.length > 0;)isSet(ReqObj.Form[e].ServiceSequence[0]) && isSet(ReqObj.Form[e].ServiceSequence[0].fn) && "function" == typeof ReqObj.Form[e].ServiceSequence[0].fn.onSubmit ? ReqObj.Form[e].ServiceSequence[0].fn.onSubmit(e) : IsProduction() && ReqObj.Form[e].ServiceSequence.pop() } function ServiceSeqGeneration(e) { if (isSet(e) && isSet(ReqObj.Form[e]) && isSet(ReqObj.Form[e].ServiceSequence)) for (; ReqObj.Form[e].ServiceSequence.length > 0;)isSet(ReqObj.Form[e].ServiceSequence[0]) && isSet(ReqObj.Form[e].ServiceSequence[0].fn) && "function" == typeof ReqObj.Form[e].ServiceSequence[0].fn.onSubmit && isSet(ConstructorName(ReqObj.Form[e].ServiceSequence[0].fn)) && "generation" === ConstructorName(ReqObj.Form[e].ServiceSequence[0].fn).toLowerCase() ? ReqObj.Form[e].ServiceSequence[0].fn.onSubmit(e) : ReqObj.Form[e].ServiceSequence.pop() } function createObject(e) { return { object: returnObject(e), tmpId: e.data.tmpId, that: e.data.obj, AfterService: e.data.AfterService, hasFallback: e.data.hasFallback, FallbackObj: e.data.FallbackObj, message: e.data.message, nextStep: e.data.nextStep } } function returnObject(e) { switch (e.data.ClassName) { case "userlogin": return LoginObject(e); case "productname": return ProductNameObject(e); case "generation": return GenerationObject(e); case "userverification": return UserVerificationObject(e); case "postblenq": return PostBlEnqObject(e) } } function LoginObject(e) { return { obj: new UserLogin(e.data.tmpId), toReplace: e.data.keys.toReplace, isService: e.data.keys.isService, array: e.data.array, hooks: e.data.hooks } } function ProductNameObject(e) { return { obj: new ProductName(e.data.tmpId), toReplace: e.data.keys.toReplace, isService: e.data.keys.isService, array: e.data.array, hooks: e.data.hooks } } function GenerationObject(e) { return { obj: new Generation(0), toReplace: e.data.keys.toReplace, isService: e.data.keys.isService, array: e.data.array, hooks: e.data.hooks } } function UserVerificationObject(e) { return { obj: new UserVerification(e.data.tmpId), toReplace: e.data.keys.toReplace, isService: e.data.keys.isService, array: e.data.array, hooks: e.data.hooks } } function PostBlEnqObject(e) { return { obj: new PostBlEnqUpdate(e.data.tmpId), toReplace: e.data.keys.toReplace, isService: e.data.keys.isService, array: e.data.array, hooks: e.data.hooks } } function termNcdata(e) { var t = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", r = usercookie.getCookie("iploc"), o = {}; o.s_glusrid = usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "glid"), o.modid = ReqObj.Form[e].modId, o.s_user_agent = navigator.userAgent, o.s_ip = usercookie.getParameterValue(r, "gip"), o.s_ip_country = usercookie.getParameterValue(r, "gcnnm"), o.curr_page_url = window.location.href, o.reference_text = ReqObj.Form[e].refText, o.s_ip_country_iso = usercookie.getParameterValue(r, "gcniso"), isSet(o.s_ip) && "" !== o.s_ip && isSet(o.s_glusrid) && "" !== o.s_glusrid && isSet(o.s_user_agent) && "" !== o.s_user_agent && isSet(o.modid) && "" !== o.modid && isSet(o.s_ip_country_iso) && "IN" !== o.s_ip_country_iso && $.ajax({ cache: !1, url: appsServerName + "index.php?r=Newreqform/TermNCondition", type: "GET", crossOrigin: !0, crossDomain: !0, dataType: "json", data: o, success: function (r) { isSet(r) && isSet(r.RESPONSE) && 200 === parseInt(r.RESPONSE.Code) || blenqGATracking(t, "service:TermNCondition:failure", r, 1, e) }, error: function (r) { r = isSet(r) ? r : "response undefined", blenqGATracking(t, "service:TermNCondition:failure", r, 1, e) } }) } function TermsConditions(e) { "inline" === chatBlPopupInline(e) ? this.TermsConditionsHtml = "<div class='message-left'><div class='message-text bemb5'>Before we move ahead,<br><span class='befwt' > Please accept</span > our <a href = 'https://www.indiamart.com/terms-of-use.html' target = '_blank' class='betrmt' > terms</a > and <a href = 'https://www.indiamart.com/privacy-policy.html' target = '_blank' class='betrmt'> privacy policy</a ></div><div class='t" + e + "_userInput'><button id='t" + e + "_submit' class='bechat-btn bemt10'>I Agree</button></div></div>" : "popup" === chatBlPopupInline(e) && (this.TermsConditionsHtml = "<div class='message-left'><div class='message-text2 bemb5'>Before we move ahead,<br><span class='befwt' > Please accept</span > our <a href = 'https://www.indiamart.com/terms-of-use.html' target = '_blank' class='betrmt' > terms</a > and <a href = 'https://www.indiamart.com/privacy-policy.html' target = '_blank' class='betrmt'> privacy policy</a ></div><div class='t" + e + "_userInput'><button id='t" + e + "_submit' class='bechat-btn bemt10'>I Agree</button></div></div>"), this.className = "TermsConditions", this.btnText = "" } if (ReqImage.prototype.extractValues = function (e, t) { isSet(e) && isSet(t) && (this.displayImage = isSet(e[t].displayImage) && "" !== e[t].displayImage ? e[t].displayImage : "", this.zoomImage = isSet(e[t].zoomImage) && "" !== e[t].zoomImage ? e[t].zoomImage : "", this.vidUrl = isSet(e[t].vidUrl) && "" !== e[t].vidUrl ? e[t].vidUrl : "", this.ctaType = isSet(e[t].type) && "" !== e[t].type ? e[t].type : "") }, ReqImage.prototype.displayHtml = function (e, t, r, o, i) { return this.extractValues(t, r, o), this.defaultimg = "<div id='t" + e + "'defaultimage' class='be-nobgimg'><div class='blnewform_sprit be-noimg'></div></div>", this.funcToCall = void 0 !== ReqObj.Form[e].formType ? ReqObj.Form[e].formType : "", this.RDatatype = void 0 !== ReqObj.Form[e].modrefType ? ReqObj.Form[e].modrefType : "", "video" === this.ctaType.toLowerCase() ? (isSet(i) && "vidslider" === i || $("#t" + e + "parent_iframe").html("<div id='t" + e + "_prodVideo' class='belft bepr pdpHg'></div>"), 0 === isIframeApiloaded && loadScript(), this.showVideo(e, o)) : this.showImage(e, o) }, ReqImage.prototype.defaultEvents = function () { this.handleUI() }, ReqImage.prototype.showImage = function (e, t) { if ("enq" === this.funcToCall.toLowerCase()) { if ("" !== this.displayImage) isSet(ReqObj.Form[e].multipleImageVideo) && "" !== ReqObj.Form[e].multipleImageVideo ? this.html += this.getImage("t" + e + "_dispimage", "igTh", this.displayImage) : this.html += this.getImage("t" + e + "_dispimage", "", this.displayImage), isSet(t) && !0 === t && (this.html += "" !== this.zoomImage ? this.getImage("t" + e + "_zoomimage", "", this.zoomImage) : ""); else { if ("" === this.zoomImage) return "<div id='t" + e + "defaultimage' class='be-nobgimg'><div class='blnewform_sprit be-noimg'></div></div>"; this.html += this.getImage("t" + e + "_zoomimage", "", this.zoomImage) } isSet(t) && !0 === t && (this.html += "<span class='be-blrEnqimg'  style='background-image: url(" + this.src + ");'></span>") } if ("bl" === this.funcToCall.toLowerCase() || "popup" === chatBlPopupInline(e)) { if ("" === this.displayImage) return "<div id=t'" + e + "defaultimage' class='be-nobgimg'><div class='blnewform_sprit be-noimg'></div></div>"; this.html += this.getImage("t" + e + "_dispimage", "", this.displayImage), this.html += "<span class='be-blrprdimg'  style='background-image: url(" + this.src + ");'></span>" } return this.html }, ReqImage.prototype.getImage = function (e, t, r) { return this.src = r, "<img id='" + e + "' class='" + t + "'  src='" + r + "'/>" }, ReqImage.prototype.showVideo = function (e) { return isSet(ReqObj.Form[e].multipleImageVideo) && "" !== ReqObj.Form[e].multipleImageVideo ? (this.html += '<span class="eqytubg"><i class="eqytub eqpsimg"></i></span>', this.html += this.getImage("t" + e + "_dispimage", "igTh", this.displayImage), this.html) : "undefined" === this.vidUrl || "" === this.vidUrl ? this.showImage(e) : void youtubeVideo({ data: { tmpId: e, vidUrl: this.vidUrl } }) }, RightSide.prototype.defaultActions = function (e, t, r) { this.initialiseRightSection(e, t, r + "R"), this.handleUI({ initialdata: { step: r + "R", tmpId: e, typeofform: t } }), this.handleStructure({ initialdata: { tmpId: e, typeofform: t, obj: this, step: r + "R" } }) }, RightSide.prototype.handleStructure = function (e) { e.datavalue = prodDetailsData(e), prodDetailsHtmlInsertion(e) }, RightSide.prototype.initialiseRightSection = function (e, t, r) { for (var o = section_number[t].right, i = 1; i <= o; i++) { var a = section_class[t].right[i]; this.getHtml(e, t, a.name, r) } }, RightSide.prototype.getHtml = function (e, t, r, o) { switch (r) { case "heading": $("#t" + e + "_hdg").html(""); break; case "rightproddetails": $("#t" + e + "_rightproddetails").html(getProdDetailsHtml(e, t, o)); break; case "questionouterwrapper": $("#t" + e + "_questionouterwrapper").html(this.getQuestionOuterWrapperHtml(e)) } }, RightSide.prototype.handleUI = function (e) { "image" !== e.initialdata.typeofform && "video" !== e.initialdata.typeofform || "0R" !== e.initialdata.step ? ("bl" !== ReqObj.Form[e.initialdata.tmpId].formType.toLowerCase() ? $("#t" + e.initialdata.tmpId + "_cls").html("") : $("#t" + e.initialdata.tmpId + "_cls").html("X"), "" !== usercookie.getCookie("ImeshVisitor") && $("#t" + e.initialdata.tmpId + "_leftR").removeClass("lftMgn"), $("#t" + e.initialdata.tmpId + "_hdg").removeClass("bedsnone"), $("#t" + e.initialdata.tmpId + "_rightproddetails").addClass("bedsnone"), $("#t" + e.initialdata.tmpId + "_questionouterwrapper").removeClass().addClass("bemlsec"), $("#t" + e.initialdata.tmpId + "_tCond").addClass("bedsnone"), $("#t" + e.initialdata.tmpId + "_byrinfo").addClass("bedsnone")) : ("bl" !== ReqObj.Form[e.initialdata.tmpId].formType.toLowerCase() ? $("#t" + e.initialdata.tmpId + "_cls").html("") : $("#t" + e.initialdata.tmpId + "_cls").html("X"), $("#t" + e.initialdata.tmpId + "_hdg").addClass("bedsnone"), $("#t" + e.initialdata.tmpId + "_rightproddetails").removeClass("bedsnone"), $("#t" + e.initialdata.tmpId + "_tCond").addClass("bedsnone"), $("#t" + e.initialdata.tmpId + "_byrinfo").addClass("bedsnone")), $("#t" + e.initialdata.tmpId + "_question").removeClass("bedsnone"), $("#t" + e.initialdata.tmpId + "_fBtn").removeClass("bedsnone"), "bl" === ReqObj.Form[e.initialdata.tmpId].formType.toLowerCase() ? $("#t" + e.initialdata.tmpId + "_byrinfo").addClass("bleqb") : $("#t" + e.initialdata.tmpId + "_byrinfo").removeClass("bleqb") }, RightSide.prototype.getQuestionOuterWrapperHtml = function (e) { var t = ""; return t += returnContainer("t" + e, "_question", "bemlsec", "", "", ""), t += "<form name='t" + e + "_bl_form' onsubmit='return false' id='t" + e + "_bl_form' method='post' class='bepr bemnh'>", t += "</div>", t += returnContainer("t" + e, "_clear", "beclr", "", "", ""), t += "</div>", t += returnContainer("t" + e, "_tCond", "bedsnone", "", "", ""), t += "<input type='checkbox' class='bemt2' onclick=checkedTNC('" + e + "') id='t" + e + "_tCondCheckBox'><span class='bevT bedblk'>I agree to the <a href='https://www.indiamart.com/terms-of-use.html' target='_blank' class='betrmt'>terms</a> and <a href='https://www.indiamart.com/privacy-policy.html' target='_blank' class='betrmt'>privacy policy</a></span>", t += "</div>", t += "<div id='t" + e + "submit_wrapper'>" + returnSubmitInnerHtml(e) + "</div>", t += returnContainer("t" + e, "_belodr", "belodrbg bedsnone", "", "", ""), t += "<div class='blloader'></div>", t += "</div>" }, FormSeq.prototype.SubsequentStep = function (e) { ReqObj.Form[e].flags.IsFirstStep = !1; var t = { UiArray: [], ServiceArray: [] }, r = { pre: [], post: [] }; ReqObj.Form[e].isQuantIsq = !1, sectionInitialisationStepWise(e, 1), new LeftSide(e, ReqObj.Form[e].typeofform, 1), "image" !== ReqObj.Form[e].ctaType.toLowerCase() && "video" !== ReqObj.Form[e].ctaType.toLowerCase() && "enq" === ReqObj.Form[e].formType.toLowerCase() && "" !== usercookie.getCookie("ImeshVisitor") && ($("#t" + e + "_leftR").removeClass("lftMgn"), "IN" !== currentISO() && $("#t" + e + "_thankDiv").addClass("fnUser")), "image" !== ReqObj.Form[e].ctaType.toLowerCase() && "video" !== ReqObj.Form[e].ctaType.toLowerCase() && "enq" === ReqObj.Form[e].formType.toLowerCase() && "" === usercookie.getCookie("ImeshVisitor") ? $("#t" + e + "_leftR").addClass("lftMgn") : $("#t" + e + "_leftR").removeClass("lftMgn"), "bl" === ReqObj.Form[e].formType.toLowerCase() && (ReqObj.updateImage = 0, leftSideTransition(step, e)), 1 === parseInt(ReqObj.Form[e].disableRd) && (ReqObj.Form[e].flags.isDescDivShown = !ReqObj.Form[e].flags.isDescDivShown), $("#t" + e + "_byrinfo").html(get_buyer_info(e)).removeClass("bedsnone"), $("#t" + e + "_hdg").removeClass("bedsnone"), $("#t" + e + "_login").addClass("bedsnone"); var o = !1; if ("09" !== e.substring(0, 2) && ReqObj.Form[e].flags.ImEqgl) if (usercookie.getCookie("ImeshVisitor")) { if (ShowOtp() && isSecondBlEnq(e)) { o = !0, this.NumberofClassCalled = 1; t = { UiArray: [], ServiceArray: [] }; r.pre = [], r.post = [this.NextStep], CreateSeq({ object: { obj: new UserVerification(e), toReplace: !1, objHtmlId: e + "_otpbox", isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null, nextStep: ReqObj.Form[e].NextStep }) } else if ((NEC() && "IN" !== currentISO() && !0 === ReqObj.Form[e].OnCloseStep || NEC() && "IN" === currentISO()) && (!ReqObj.Form[e].flags.isNECShown || "09" !== e.substring(0, 2))) { o = !0, this.NumberofClassCalled = 1, r = { pre: [], post: [] }; var i = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; r = { pre: [this.NextStep], post: [] }, CreateSeq(n = { object: { obj: new ContactDetail(1, 1, 1), toReplace: !1, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [i], hasFallback: !1, FallbackObj: null, nextStep: ReqObj.Form[e].NextStep }) } } else { o = !0, this.NumberofClassCalled = 1, r.post = [this.NextStep], CreateSeq(l = { object: { obj: new UserLogin(e), toReplace: !0, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }), r.post = []; var a = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(a) } else if (usercookie.getCookie("ImeshVisitor")) if (("image" === ReqObj.Form[e].typeofform.toLowerCase() || "video" === ReqObj.Form[e].typeofform.toLowerCase()) && toShowOtpFlagCondition(e) && ShowOtp()) { o = !0, this.NumberofClassCalled = 1; t = { UiArray: [], ServiceArray: [] }; r.pre = [], r.post = [this.NextStep], CreateSeq({ object: { obj: new UserVerification(e), toReplace: !1, objHtmlId: e + "_otpbox", isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }), r.pre = [], r.post = []; a = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(a) } else if ("image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || "IN" === currentISO() || ReqObj.UserDetail.fn) if (!(NEC() && "IN" !== currentISO() && !0 === ReqObj.Form[e].OnCloseStep || NEC() && "IN" === currentISO()) || ReqObj.Form[e].flags.isNECShown && "09" === e.substring(0, 2)) { if ("image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() && ShowOtp()) { o = !0, this.NumberofClassCalled = 1; t = { UiArray: [], ServiceArray: [] }; r.pre = [], r.post = [this.NextStep], CreateSeq({ object: { obj: new UserVerification(e), toReplace: !1, objHtmlId: e + "_otpbox", isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) } } else { o = !0, this.NumberofClassCalled = 1, r = { pre: [], post: [] }; i = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; r = { pre: [this.NextStep], post: [] }, CreateSeq(n = { object: { obj: new ContactDetail(1, 1, 1), toReplace: !1, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [i], hasFallback: !1, FallbackObj: null, nextStep: ReqObj.Form[e].NextStep }) } else { o = !0, r.pre = [this.SubsequentStep], r.post = []; var s = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if (this.MakeSeq(s), NEC()) { this.NumberofClassCalled = 1, r = { pre: [], post: [] }; var i = { object: { obj: new PostBlEnqUpdate(e), toReplace: !1, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; if ("IN" !== currentISO()) var n = { object: { obj: new ContactDetail(1, 0, 0), toReplace: !1, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [i], hasFallback: !1, FallbackObj: null }; else var n = { object: { obj: new ContactDetail(1, 1, 1), toReplace: !1, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [i], hasFallback: !1, FallbackObj: null }; CreateSeq(n) } } else { o = !0, this.NumberofClassCalled = 1, r.post = [this.NextStep]; var l = { object: { obj: new UserLogin(e), toReplace: !0, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(l), r.post = []; var a = { object: { obj: new Generation(0), toReplace: !0, isService: !0, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }; this.MakeSeq(a) } if (!o) if (ReqObj.Form[e].disableIsq || ShowStaticQuestionForeign(e)) if (returnIsEnrichShownKeyVal(e) || !ReqObj.Form[e].flags.isDescDivShown) { this.NumberofClassCalled = 1; var c = { pre: [this.OnCloseSeq], post: [] }; r = { pre: [], post: [] }; if (returnIsEnrichShownKeyVal(e) && !ReqObj.Form[e].flags.isDescDivShown ? this.NumberofClassCalled = 2 : this.NumberofClassCalled = 1, returnIsEnrichShownKeyVal(e)) { var m = { obj: new BlStaticQues(e), toReplace: !0, isService: !1, array: t }; 1 === this.NumberofClassCalled ? m.hooks = c : 2 === this.NumberofClassCalled && (m.hooks = r), CreateSeq({ object: m, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) } if (!ReqObj.Form[e].flags.isDescDivShown) { var u = ShowStaticQuestionForeign(e) && !ReqObj.Form[e].disableIsq ? "isq" : "noisq"; r.pre = [this.OnCloseSeq], r.post = [], CreateSeq(p = { object: { obj: new RequirementDtl(e, u), toReplace: !0, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !0, FallbackObj: { object: { obj: new RequirementDtl(e, "noisq"), toReplace: !0, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1 }, nextStep: ReqObj.Form[e].NextStep }) } } else this.OnCloseSeq(e); else if ("" === ReqObj.Form[e].IsqArray) if (this.NumberofClassCalled = 1, !ReqObj.Form[e].flags.isDescDivShown || returnIsEnrichShownKeyVal(e)) { t = { UiArray: [], ServiceArray: [] }, r = { pre: [this.NextStep], post: [] }; if (!ReqObj.Form[e].flags.isDescDivShown) var p = { object: { obj: new RequirementDtl(e), toReplace: !0, isService: !1, array: t, hooks: r }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null, nextStep: ReqObj.Form[e].NextStep }; CreateSeq({ object: { obj: ReqObj.Form[e].GlobalIsqObject, array: t, hooks: r, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !0, FallbackObj: p, notBack: !0 }) } else { this.NumberofClassCalled = 1, t = { UiArray: [], ServiceArray: [] }; r = { pre: [this.NextStep], post: [] }; CreateSeq({ object: { obj: ReqObj.Form[e].GlobalIsqObject, array: t, hooks: r, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !0, Thankyou: !0, FallbackObj: null, notBack: !0 }) } else if (isOneQISQ(e) && !0 === firstisqspecialcase) this.NumberofClassCalled -= 1; else if (ShowIsq(e)) { this.NumberofClassCalled = 1; t = { UiArray: [], ServiceArray: [] }; r = { pre: [this.NextStep], post: [] }, CreateSeq({ object: { obj: ReqObj.Form[e].GlobalIsqObject, array: t, hooks: r, isService: !1 }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null, nextStep: ReqObj.Form[e].NextStep, notBack: !0 }) } else if (null === ReqObj.Form[e].IsqArray || !(ReqObj.Form[e].prevCount < ReqObj.Form[e].IsqLength)) { t = { UiArray: [], ServiceArray: [] }; if (returnIsEnrichShownKeyVal(e) || ShowReqBox(e)) { c = { pre: [this.OnCloseSeq], post: [] }, r = { pre: [], post: [] }; if (returnIsEnrichShownKeyVal(e) && ShowReqBox(e) ? this.NumberofClassCalled = 2 : this.NumberofClassCalled = 1, ShowReqBox(e)) CreateSeq(p = { object: { obj: new RequirementDtl(e), toReplace: !1, isService: !1, array: t, hooks: c }, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }); if (returnIsEnrichShownKeyVal(e) && "bl" === ReqObj.Form[e].formType.toLowerCase()) { m = { obj: new BlStaticQues(e), toReplace: !0, isService: !1, array: t }; 1 === this.NumberofClassCalled ? m.hooks = c : 2 === this.NumberofClassCalled && (m.hooks = r), CreateSeq({ object: m, tmpId: e, that: this, AfterService: [], hasFallback: !1, FallbackObj: null }) } } else this.OnCloseSeq(e) } }, TermsConditions.prototype.displayHtml = function (e) { if (isSet(e)) return [this.TermsConditionsHtml] }, TermsConditions.prototype.toUpdate = function (e) { return !!usercookie.getCookie("ImeshVisitor") }, TermsConditions.prototype.displayAnswer = function (e) { var t = chatBlClass(e, "right"), r = "inline" === chatBlPopupInline(e) ? "message-right" : "popup" === chatBlPopupInline(e) ? "message-right1" : ""; return [ConversationRightWrapper(e, this.btnText, { classtotest: t, leftright: r })] }, TermsConditions.prototype.defaultEvents = function (e) { }, TermsConditions.prototype.hasHtml = function (e) { if (isSet(e)) { this.TermsConditionsHtml; if ("" !== this.TermsConditionsHtml) { if (e.that.NumberofClassCalled -= 1, AttachObject(e.object, e.tmpId), isSet(e.AfterService)) for (var t = 0; t < e.AfterService.length; t++)e.that.MakeSeq(e.AfterService[t], e.tmpId); 0 === e.that.NumberofClassCalled && makeFinalSeq(e, e.tmpId) } else e.hasFallback && CreateSeq(e.FallbackObj) } }, TermsConditions.prototype.validate = function (e) { return !0 }, TermsConditions.prototype.SaveDetails = function (e, t) { isSet(t.target) && notEmpty(t.target.textContent) && (this.btnText = t.target.textContent) }, TermsConditions.prototype.onSubmit = function (e) { PostAjax(PreAjax("TermsConditions", e), e) }, null == blpage) { var blpage = {}; blpage.toIdentifiedQ = new Array, blpage.toIdentified = function () { if (isSet(blpage.toIdentifiedQ)) for (var e = 0; e < blpage.toIdentifiedQ.length; e++)isSet(blpage.toIdentifiedQ[e]) && "function" == typeof blpage.toIdentifiedQ[e] && blpage.toIdentifiedQ[e].apply() } } function UpdateSeq(e) { for (var t in ReqObj.Form) t !== e && formToUpdate(t) } function formToUpdate(e, t) { IsChatbl(e) ? UpdateCurrentStep(e, t) : CallFormFunc(e, t) } function CallFormFunc(e, t) { "popup" === chatBlPopupInline(e) ? OpenForm(ReqObj.Original[e], t) : -1 === $.inArray(e.substring(0, 2), BlPopup) ? OpenForm(ReqObj.Original[e], t) : -1 === $.inArray(e.substring(0, 2), EnqPopup) && OpenForm(ReqObj.Original[e], t) } function callToIdentifiedQ(e, t, r) { void 0 === t && UpdateUserDetailKey(), 0 !== r && UpdateSeq(e), isSet(blpage) ? isSet(blpage.toIdentified) && "function" == typeof blpage.toIdentified && blpage.toIdentified() : isSet(window.parent.blpage) && isSet(window.parent.blpage.toIdentified) && "function" == typeof window.parent.blpage.toIdentified && window.parent.blpage.toIdentified(), "undefined" != typeof page ? isSet(page.Identified) && "function" == typeof page.Identified && page.Identified() : isSet(window.parent.page) && isSet(window.parent.page.Identified) && "function" == typeof window.parent.page.Identified && window.parent.page.Identified() } function ResetClass(e, t) { if (isSet(e)) for (var r = 0; r < e.length; r++)isSet(e[r].Obj) && "function" == typeof e[r].Obj.resetClass && e[r].Obj.resetClass(t) } function UpdateCurrentStep(e) { if (isSet(e)) { ShowHideTNC(e); var t = ReqObj.Form[e].FormSequence; if (t.OnCloseCounter > -1) { t.OnCloseCounter -= 1; t.OnCloseServiceArray.splice(t.OnCloseCounter, 1); ReqObj.Form[e].OnCloseArray = ReqObj.Form[e].OnCloseArray[this.OnCloseCounter] } else { var r = ReqObj.Form[e].UiArray[t.StepCounter]; if (BlReloadRequired(r, e) && RemoveLastQuestion(e)) { ReqObj.Form[e].PrevAnsPrint = !1, ResetClass(r, e), Getprepost(t.FullServiceArray.splice(t.StepCounter, 1)[0], e); var o = t.StepCounter; if (t.StepCounter -= 1, t.StepCounter > -1 ? ReqObj.Form[e].UiArray.splice(o, 1) : ReqObj.Form[e].UiArray = [], isSet(ReqObj.Form[e].LastPrePost) && ReqObj.Form[e].LastPrePost instanceof Array) { for (var i = 0; i < ReqObj.Form[e].LastPrePost.length; ++i)PrePostService(ReqObj.Form[e].LastPrePost[i], e); ReqObj.Form[e].LastPrePost = [] } } } } } function RemoveLastQuestion(e) { return "inline" === chatBlPopupInline(e) ? RemoveLastInlineQuestion() : "popup" === chatBlPopupInline(e) ? RemoveLastPopupQuestion(e) : void 0 } function RemoveLastInlineQuestion() { var e = $(".message-left").last(); return !e.next().hasClass("message-right") && (e.remove(), !0) } function RemoveLastPopupQuestion(e) { if ("chatbl" !== ReqObj.Form[e].formType.toLowerCase()) { var t = $(".cbl_ques").last(), r = t.siblings, o = $(".cbl_ques").last().attr("isStatic"); return isSet(ReqObj.closebtnclicked) && ReqObj.closebtnclicked && r <= 2 ? (ReqObj.closebtnclicked = !1, !1) : !t.next().hasClass("cbl_ansr") && "yes" !== o && (t.remove(), $("#t" + e + "_newblchatReply").html(""), $("#t" + e + "verify_error").html(""), $("#t" + e + "cbl_bluline").removeClass("cbl_erred"), !0) } return !1 } function BlReloadRequired(e, t) { if (isSet(e)) { if (e instanceof Array) { for (var r = 0; r < e.length; ++r)if ("function" == typeof e[r].Obj.toUpdate) return e[r].Obj.toUpdate(t); return !1 } return -1 !== $.inArray(ConstructorName(e.Obj), ReloadReqClass) } return !1 } function Getprepost(e, t) { if (isSet(e)) for (var r = 0; r < e.length; ++r)if (!isSet(ReqObj.Form[t].LastPrePost) || isSet(ReqObj.Form[t].LastPrePost) && 0 === ReqObj.Form[t].LastPrePost.length) { var o = CheckPrepost(e[r]); "" !== o && (ReqObj.Form[t].LastPrePost = o) } } function CheckPrepost(e) { return isSet(e) ? isSet(e.current) && e.current.length > 0 ? e.current : isSet(e.pre) && e.pre.length > 0 ? e.pre : isSet(e.post) && e.post.length > 0 ? e.post : "" : "" } function UpdateUserDetailKey() { var e = usercookie.getCookie("ImeshVisitor"); ReqObj.UserDetail.fn = usercookie.getParameterValue(e, "fn"), ReqObj.UserDetail.em = usercookie.getParameterValue(e, "em"), ReqObj.UserDetail.mb1 = usercookie.getParameterValue(e, "mb1"), ReqObj.UserDetail.ctid = usercookie.getParameterValue(e, "ctid"), ReqObj.UserDetail.uv = usercookie.getParameterValue(e, "uv"), ReqObj.UserDetail.statename = "", ReqObj.UserDetail.stateid = "", ReqObj.UserDetail.cityname = "", ReqObj.UserDetail.ctoth = "" } function ModifyUserDetail(e, t) { for (var r = 0, o = e.length, i = (isSet(t), ""), a = 0; a < o; a++)ReqObj.UserDetail[e[a]] = i, "ctid" === e[a] && (r = 1); return r } function UserCookie() { } UserCookie.prototype.getCookie = function (e) { var t = document.cookie, r = e + "="; if (isSet(t) && t.length > 0) { var o = t.indexOf(r); if (-1 === o) return ""; o += r.length; var i = t.indexOf(";", o); return -1 === i && (i = t.length), unescape(t.substring(o, i)) } return "" }, UserCookie.prototype.getParameterValue = function (e, t) { if (isSet(e) && "" !== e) { for (var r = e.split("|"), o = isSet(r) ? r.length : 0, i = 0; i < o; i++) { var a = r[i].split("="); if (a[0] === t) return isSet(a[1]) && "" !== a[1] ? a[1] : "" } return "" } return "" }, UserCookie.prototype.setCookie = function (e, t, r, o) { var i = "", a = window.location.href; if (r && t) { var s = new Date; s.setTime(s.getTime() + 24 * r * 60 * 60 * 1e3), i = "; expires=" + s.toGMTString() } if (isSet(o) && "TDW" === o) { var n = document.location.hostname; document.cookie = e + "=" + t + i + "; domain=" + n + ";path=/" } else a.match("hellotrade.com") ? document.cookie = e + "=" + escape(t) + i + "; domain=.hellotrade.com;path=/" : a.match("indianindustry.com") ? document.cookie = e + "=" + escape(t) + i + "; domain=.indianindustry.com;path=/" : document.cookie = e + "=" + escape(t) + i + "; domain=.indiamart.com;path=/" }, UserCookie.prototype.deleteCookie = function (e) { document.cookie = e + "=;expires=;domain=.indiamart.com;path=/" }; usercookie = new UserCookie; function UserLogin(e) { this.tmpId = "", this.imeshCookie = "", this.iplocCookie = "", this.userCountry = "", this.loginhtml = "", this.tid = "", this.username = "", this.blurcalled = !1, this.className = "UserLogin", this.what = e, this.UserLoginCssObj = {}, this.UserloginHtmlObj = { Label: "", UserInput: "", OuterWrapper: "", ClosingWrapper: "" }, this.UserloginHtmlObjArray = [], this.toChange = !1, this.isNotCalled = !1, this.cookies(), this.classCount = 0 } function UserVerification() { this.otpCount = 0, this.imeshCookie = "", this.v4iilexCookie = "", this.verifyhtml = "", this.className = "UserVerification", this.UserVerificationHtmlObj = { Label: "", UserInput: "", OuterWrapper: "", ClosingWrapper: "" }, this.UserVerificationHtmlObjArray = [], this.otp = "", this.message = "" } function Validation() { new UserCookie; this.result = { type: !0, error: "" }, this.usercountry = currentISO() } UserLogin.prototype.toUpdate = function (e) { return !!usercookie.getCookie("ImeshVisitor") || !0 === this.isNotCalled }, UserLogin.prototype.cookies = function () { this.imeshCookie = usercookie.getCookie("ImeshVisitor"), this.iplocCookie = usercookie.getCookie("iploc"), this.userCountry = usercookie.getParameterValue(this.iplocCookie, "gcniso"), ReqObj.changeUserCountry = isSet(ReqObj.changeUserCountry) && "" !== ReqObj.changeUserCountry ? ReqObj.changeUserCountry : usercookie.getParameterValue(this.iplocCookie, "gcnnm") }, UserLogin.prototype.displayAnswer = function (e) { var t = !0 === this.toChange ? "" : ReturnBlUserName(e), r = !0 === this.toChange ? "toChange" : "PrimaryInfo", o = chatBlClass(e, "right"), i = "inline" === chatBlPopupInline(e) ? "message-right" : "popup" === chatBlPopupInline(e) ? "cbl_ansr" : ""; return [ConversationRightWrapper(e, returnAnswer(e, r), { classtotest: o, leftright: i }), t] }, UserLogin.prototype.defaultEvents = function (e) { isSet(e) && (ReqObj.Form[e].flags.isFlagSuggSet = !1, IsChatbl(e) && this.handleUI({ data: { todo: "default", obj: this, tmpId: e } }), isOtherEnq(e) && "09" === e.substring(0, 2) && this.handleUI({ data: { todo: "focus", obj: this, tmpId: e } }), this.handleEvents(this, e), this.handleUI({ data: { todo: "isoFlag", obj: this, tmpId: e } }), this.handleUI({ data: { todo: "chatblFlag", obj: this, tmpId: e } }), get_buyer_info(e), "" === usercookie.getCookie("ImeshVisitor") && $("#t" + e + "_leftR").addClass("lftMgn")) }, UserLogin.prototype.EventIfScreenPresent = function (e) { isOtherEnq(e) && (this.handleHeading(e), ButtonNameUI("isq", e)) }, UserLogin.prototype.handleHeading = function (e) { "image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || 0 !== ReqObj.Form[e].FormSequence.StepCounter ? $("#t" + e + "_hdg").removeClass("bedsnone").html(getFormHeading(e, ReqObj.Form[e].currentScreen)) : $("#t" + e + "_hdg").addClass("bedsnone").html("") }, UserLogin.prototype.handleButton = function (e) { ButtonNameUI(ReqObj.Form[e].currentScreen, e) }, UserLogin.prototype.onSubmit = function (e) { if (isSet(e)) { var t = PreAjax("UserLogin", e); !1 === this.toChange ? this.sendRequest({ data: { logObject: t, tmpId: e, userlogin: this, blureve: !1, todo: "login" } }) : PostAjax(t, e) } }, UserLogin.prototype.SaveDetails = function (e, t) { IsChatbl(e) && (ReqObj.Form[e].UserInputs.PrimaryInfo = $("#t" + e + "_login_field").val(), isSet(t.target.textContent) && "" !== t.target.textContent && (ReqObj.Form[e].UserInputs.toChange = t.target.textContent)) }, UserLogin.prototype.addHtmlObjToArray = function (e) { this.UserloginHtmlObjArray.push(e) }, UserLogin.prototype.displayHtml = function (e) { if (isSet(e)) { $("#t" + e + "_byrinfo").removeClass("bedsnone"), $("#t" + e + "_hdg").removeClass("bedsnone"), $("#t" + e + "_login").removeClass("bedsnone"); var t = ""; if (IsChatbl(e)) if (t = "<div class='t" + e + "_userInput dn'><div class='befs11 beclr'><i class='chat-elip'>i</i>Seller Details are sent on this " + ("IN" === currentISO() ? "number" : "email") + "</div></div>", "popup" === chatBlPopupInline(e)) return [this.loginhtmlQues, this.loginhtmlInput]; return isOtherEnq(e) && (ReqObj.Form[e].calledClassName[ReqObj.Form[e].FormSequence.StepCounter] = this.className), [this.loginhtml, t] } }, UserLogin.prototype.hasHtml = function (e) { if (isSet(e)) { this.classCount = returnObjectSize(ReqObj.Form[e.tmpId].ContactDetail), this.addHtmlObjToArray(this.getLoginHTML(e.tmpId)); var t = {}; if ("popup" !== chatBlPopupInline(e.tmpId)) { t = { SuffixOuterHtml: "<div  id='t" + e.tmpId + "_login' class='bedvh'>", SuffixClosingHtml: "</div>", suffix: "_login" }, this.loginhtml = MakeWrapper([this.UserloginHtmlObjArray], e.tmpId, t, "") } else t = { SuffixOuterHtml: "<div id='t" + e.tmpId + "_login' class = 'cbl_ques cbl_vh'>", SuffixClosingHtml: "</div>", suffix_Ques: "_login" }, this.loginhtmlQues = MakeWrapper([this.UserloginHtmlObjArray], e.tmpId, t, "ques"), t = { SuffixOuterHtml: "<div id = 't" + e.tmpId + "_login_input' class ='cbl_dtls cbl_mobile cbl_df cbl_aic t" + e.tmpId + "_userInput dn'>", SuffixClosingHtml: "</div>", suffix_Input: "_login" }, this.loginhtmlInput = MakeWrapper([this.UserloginHtmlObjArray], e.tmpId, t, "input"), this.loginhtml = this.loginhtmlQues + this.loginhtmlInput; return e.that.NumberofClassCalled -= 1, "" !== this.loginhtml ? this.ifHtmlPresent(e) : this.ifHtmlNotPresent(e), "" !== this.loginhtml } }, UserLogin.prototype.ifHtmlPresent = function (e) { if (AttachObject(e.object, e.tmpId), isSet(e.AfterService)) for (var t = 0; t < e.AfterService.length; t++)e.that.MakeSeq(e.AfterService[t], e.tmpId); 0 === e.that.NumberofClassCalled && makeFinalSeq(e, e.tmpId) }, UserLogin.prototype.ifHtmlNotPresent = function (e) { e.hasFallback && CreateSeq(e.FallbackObj) }, UserLogin.prototype.validate = function (e, t) { if (isSet(e)) { if (isSet(t.target.textContent) && "" !== t.target.textContent ? (ReqObj.Form[e].UserInputs.toChange = t.target.textContent, this.toChange = !0) : this.toChange = !1, !1 === this.toChange) { var r = currentISO(); this.captureDetails(r, e), isSet(validation) || createGlobalObject(), this.username = $("#t" + e + "_login_field").val(); var o = "IN" === r ? validation.isMobileValid(this.username) : validation.isEmailFilled(this.username); return !1 === o.type ? (this.handleUI({ data: { tmpId: e, errormsg: o.error, todo: "validationError", obj: this } }), ButtonNameUI(ReqObj.Form[e].currentScreen, e), !1) : !isGDPRCountry() || "" !== usercookie.getCookie("ImeshVisitor") || !(!isSet(ReqObj.Form[e].IsCheckboxChecked) || "" === ReqObj.Form[e].IsCheckboxChecked) && (!1 !== ReqObj.Form[e].IsCheckboxChecked || (ButtonNameUI(ReqObj.Form[e].currentScreen, e), !1)) } return !0 } }, UserLogin.prototype.captureDetails = function (e, t) { "IN" === e ? (ReqObj.UserDetail.mb1 = $("#t" + t + "_login_field").val(), ReqObj.TempMobile = ReqObj.UserDetail.mb1) : (ReqObj.UserDetail.em = $("#t" + t + "_login_field").val(), ReqObj.TempEmail = ReqObj.UserDetail.em) }, UserLogin.prototype.CSSObj = function (e) { }, UserLogin.prototype.returnText = function (e, t) { return "IN" === e ? "Enter your mobile" : "Enter your email" }, UserLogin.prototype.returnLoginFieldClass = function (e) { return "popup" === chatBlPopupInline(this.what) ? "" : "IN" === e ? "be-input benords beW3 beh32" : "be-input benords beW3 beh32 beemail" }, UserLogin.prototype.returnLoginValue = function (e) { return "" }, UserLogin.prototype.returnErrorDiv = function (e, t) { var r = "", o = IsChatbl(e) ? "bltperor bedsnone" : "be-erbx beerrp bedsnone", i = (IsChatbl(e), ""); return r += returnContainer("t" + e, "_msg_primary_info_err_login", o, "", "", ""), r += returnContainer("t" + e, "_primary_info_errmsg_login", i, "content", "", ""), IsChatbl(e) ? r += "</div></div>" : !isOtherEnq(e) || isOtherEnq(e) && "09" !== e.substring(0, 2) ? r += '</div><a class="be-erarw" data-role="arrow"></a></div>' : isOtherEnq(e) && "09" === e.substring(0, 2) && (r += "</div></div>"), r }, UserLogin.prototype.getLabel = function (e, t, r) { var o = isFirstImgVidCTA(e) ? "Get customised quotes from seller" : "IN" === r ? "Mobile Number" : "Email ID", i = isFirstImgVidCTA(e) ? "befwt be-lbl beml-50 fsciv eqmb20" : IsChatbl(e) ? "inline" === chatBlPopupInline(e).toLowerCase() ? "" : "txt_area cbl_bg1" : "be-lbl beml-50", a = IsChatbl(e) ? "Please share your " : o, s = ""; IsChatbl(e) ? (s += a, s += returnSpan("t" + e, "login_span_bold", o, "befwt"), s += "popup" === chatBlPopupInline(e) ? " to receive quotes from sellers" : " to receive seller details") : ((!isOtherEnq(e) || isOtherEnq(e) && "09" !== e.substring(0, 2)) && (s += this.returnErrorDiv(e, t)), s += returnLabel("t" + e, a, "_label-l", i), isFirstImgVidCTA(e) && (s = returnContainer(e, "label_head", i, "", o, "") + "</div>")), this.UserloginHtmlObj.Label = s }, UserLogin.prototype.getInput = function (e, t, r) { this.UserloginHtmlObj.UserInput = IsChatbl(e) ? this.getChatBlInput(e, t, r) : this.getBlEnqInput(e, t, r) }, UserLogin.prototype.getChatBlInput = function (e, t, r) { if ("popup" === chatBlPopupInline(e)) return this.getmobhtml(e, t, r); var o = ""; o += returnSpan("t" + e, "chatbltick", "", "chat-tickbx2 bedsnone"), o += returnSpan("t" + e, "chatbltick", "", "chat-tickbx2 bedsnone"), o += "IN" === r ? returnIsoHtml(e, "beiso", ReqObj.isoFlag) : "popup" === chatBlPopupInline(e) ? returnDl("t" + e, "_Country_dropdown", "dropdown", !0) : returnDl("t" + e, "_Country_dropdown", "dropdown bebdr be-flg", !0); var i = "IN" === r ? "10" : ""; o += returnInput("t" + e, "_login_field", "text", "login_field", this.returnText(r, e), "blchat-inpt", "", "padding-left: 44px", i); var a = returnContainer("", "", "chat-arrow", "", "", ""); return o += returnButton("t" + e, "_submit", a += "</div>", "inline" === chatBlPopupInline(e) ? "chat-arowicon1" : "popup" === chatBlPopupInline(e) ? "chat-arowicon1" : ""), o += this.returnErrorDiv(e, t), isSet(ReqObj.Form[e].UserInputs.toChange) && "" === ReqObj.Form[e].UserInputs.toChange && (o += returnContainer("", "", "bemt5", "", "", ""), o += "Not from " + ReqObj.changeUserCountry + "?", o += returnButton("t" + e, "_submitNo", "Change your country", "chat-txt1"), o += "</div>", IsChatbl(e) && (ReqObj.Form[e].flags.isCountryFlagSuggSet = !0), this.isNotCalled = !0), o }, UserLogin.prototype.getBlEnqInput = function (e, t, r) { var o = "", i = "IN" !== r && "09" === e.substring(0, 2) ? "width : 282px" : "", a = isOtherEnq(e) ? "eqCnty" : ""; "bl" === t.toLowerCase() ? (o += returnDl("t" + e, "_Country_dropdown", "dropdown bebdr be-flg", ""), o += "<div id='t" + e + "_dliso' class='" + a + "'>", o += "IN" === r ? returnIsoHtml(e, "be-flisq iso") + "</div>" : "</div>") : (o += "<div id='t" + e + "_dliso' class='" + a + "'>", o += returnDl("t" + e, "_Country_dropdown", "dropdown bebdr be-flg", ""), o += "IN" === r ? returnIsoHtml(e, "be-flisq iso") + "</div>" : "</div>"); var s = "IN" === r ? "10" : ""; return isOtherEnq(e) ? (o += returnInput("t" + e, "_login_field", "text", "login_field", this.returnText(r, e), this.returnLoginFieldClass(r) + " inPlace", this.returnLoginValue(r), "", s, "request"), "09" === e.substring(0, 2) && (o += this.returnErrorDiv(e, t))) : o += returnInput("t" + e, "_login_field", "text", "login_field", this.returnText(r, e), this.returnLoginFieldClass(r), this.returnLoginValue(r), i, s, "request"), o += returnContainer("t" + e, "_helpmsg", "be-msghlp", "", "Seller will contact you on this " + ("IN" === r ? "number" : "email"), ""), o += "</div>" }, UserLogin.prototype.getmobhtml = function (e, t, r) { var o = "", i = "IN" !== r && "popup" !== chatBlPopupInline(e) ? "width :282px" : ""; o = returnContainer("t" + e, "_flagC", "cbl_flag", "", o = returnDl("t" + e, "_Country_dropdown", "dropdown ", ""), ""), o += "</div>", "IN" === r && (o += returnContainer("t" + e, "_isoC", "cbl_iso", "", returnIsoHtml(e, "be-flisq iso"), "") + "</div>"); var a = "IN" === r ? "10" : ""; return o += returnInput("t" + e, "_login_field", "text", "login_field", this.returnText(r, e), this.returnLoginFieldClass(r), this.returnLoginValue(r), i, a, "request"), IsChatbl(e) && (ReqObj.Form[e].flags.isCountryFlagSuggSet = !0), o }, UserLogin.prototype.getLoginHTML = function (e) { if (isSet(e)) { var t = ReqObj.Form[e].formType.toLowerCase(), r = IsChatbl(e) && ReqObj.Form[e].UserInputs.Country === "Change my Country".trim() ? "" : currentISO(); if (this.getLabel(e, t, r), this.getInput(e, t, r), isOtherEnq(e)) { var o = ""; "image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || "" !== usercookie.getCookie("ImeshVisitor") ? (o = "enqLogInp", $("#t" + e + "_question").removeClass("mvta")) : (o = "IN" !== currentISO(e) ? "enqLogInp eqFnu imgfv" : "enqLogInp imgfv", $("#t" + e + "_question").addClass("mvta")), "09" !== e.substring(0, 2) && (o += " inllog"), this.UserloginHtmlObj.OuterWrapper = IsChatbl(e) ? "" : "<div class='" + o + "'>", this.UserloginHtmlObj.ClosingWrapper = IsChatbl(e) ? "" : "</div>" } else this.UserloginHtmlObj.OuterWrapper = IsChatbl(e) ? "" : "<div class='belft bepr bemgb15 bT1-st3'>", this.UserloginHtmlObj.ClosingWrapper = IsChatbl(e) ? "" : "</div>"; return this.UserloginHtmlObj } }, UserLogin.prototype.getData = function (e, t, r) { var o = isSet(r) ? r : "", i = currentISO(), a = (new LoginFlag).returnLoginFlag(o); "undefined" == typeof imesh_obj && (imesh_obj = new userDataCookie); var s = { s_country_iso: i, modid: ReqObj.Form[e].modId, curr_page_url: window.location.href, s_ip_address: usercookie.getParameterValue(t.iplocCookie, "gip"), s_ip_country: usercookie.getParameterValue(t.iplocCookie, "gcnnm"), s_ip_country_iso: usercookie.getParameterValue(t.iplocCookie, "gcniso"), loginflag: a }; return s.flag = ReqObj.Form[e].formType, IsChatbl(e) && (s.flag = "BL"), void 0 === t.username || "" === t.username ? s.username = "IN" === i ? usercookie.getParameterValue(t.imeshCookie, "mb1") : usercookie.getParameterValue(t.imeshCookie, "em") : s.username = t.username, ObjectTrim(s) }, UserLogin.prototype.returnBool = function (e) { var t = e.data.tmpId, r = e.data.userlogin, o = e.data.blureve, i = e.data.iso; return (!0 !== o || "09" !== t.substr(0, 2) || "IN" !== i) && (!isSet(o) || !0 !== o || r.validate(t, e)) }, UserLogin.prototype.beforHitDefaults = function (e, t, r, o) { (isSet(e) && "" !== e || "" === e && "blurlogin" === t) && (IsChatbl(r) ? o.handleUI({ data: { tmpId: r, todo: "chatblur", fromwhere: "beforehit", obj: o } }) : (o.handleUI({ data: { tmpId: r, todo: "disableNameField", fromwhere: "beforehit", obj: o } }), addBlLoader(r, "left"))) }, UserLogin.prototype.sendRequest = function (e) { var t = e.data.logObject, r = e.data.tmpId, o = e.data.userlogin, i = e.data.todo, a = "Enq" === ReqObj.Form[r].formType ? "Send Enquiry" : "Post Buy Leads", s = o.returnBool(e); if ("blurlogin" !== i || !0 !== ReqObj.isMouseDownFired || 0 === $("#t" + r + "_login_field").attr("request")) { if (!0 === s) { o.classCount = returnObjectSize(ReqObj.Form[r].ContactDetail), o.beforHitDefaults(t, i, r, o); var n = o.getData(r, o, i); $.ajax({ cache: !1, url: appsServerName + "index.php?r=Newreqform/EtoGlusrLogin", type: "GET", crossOrigin: !0, crossDomain: !0, data: n, dataType: "json", success: function (e) { isSet(e) ? (3 === n.loginflag && o.handleUI({ data: { tmpId: r, todo: "defaultFlag3", obj: o } }), (isSet(t) && "" !== t || "" === t && "blurlogin" === i) && ("popup" === chatBlPopupInline(r) ? removeBLLoader(r, "left") : removeBLLoader(r, "center"), o.handleUI({ data: { tmpId: r, todo: "enableNameField", obj: o } })), o.afterLoginHit({ data: { tmpId: r, res: e, obj: o } }), 200 === parseInt(e.code) ? (o.updateUserDetails(n.loginflag, e), o.updateFlagDetails(n.loginflag, e), isSet(t) && isSet(r) && "" !== t ? (PostAjax(t, r), callToIdentifiedQ(r, "from-Form")) : callToIdentifiedQ(r, "from-Form", 0)) : 204 === parseInt(e.code) ? (blenqGATracking(a, "service:EtoGlusrLogin:" + e.message, e, 1, r), o.logObjectNoPostAjax(t, r)) : (blenqGATracking(a, "service:EtoGlusrLogin:failure", e, 1, r), o.logObjectNoPostAjax(t, r))) : (blenqGATracking(a, "service:EtoGlusrLogin:failure", "response undefined", 1, r), o.logObjectNoPostAjax(t, r)) }, error: function (e) { o.handleUI({ data: { tmpId: r, todo: "tryagain", obj: o, msg: "" } }), e = isSet(e) ? JSON.stringify(e) : "response undefined", blenqGATracking(a, "service:EtoGlusrLogin:failure", e, 1, r), o.logObjectNoPostAjax(t, r), "" === t && "blurlogin" === i && o.handleUI({ data: { tmpId: r, todo: "enableNameField", obj: o } }) }, complete: function (e) { IsChatbl(r) && o.handleUI({ data: { tmpId: r, todo: "chatblur", fromwhere: "aftercomplete", obj: o } }), "" === t && "blurlogin" === i && removeBLLoader(r, "center") } }) } } else ReqObj.isMouseDownFired = !1 }, UserLogin.prototype.logObjectNoPostAjax = function (e, t) { isSet(e) && isSet(t) && "" !== e && (removeBLLoader(t, "center"), RemoveObjFromHit(e, t)) }, UserLogin.prototype.afterLoginHit = function (e) { var t = e.data.tmpId, r = e.data.obj, o = e.data.res; 200 === parseInt(o.code) ? $("#t" + t + "_q_first_nm" + r.classCount).length > 0 && (isSet(o.DataCookie.fn) && "" !== o.DataCookie.fn ? ("chatbl" === ReqObj.Form[t].formType.toLowerCase() && (ReqObj.Form[t].UserInputs.Name = o.DataCookie.fn), r.handleUI({ data: { tmpId: t, value: o.DataCookie.fn, todo: "disableNameField", fromwhere: "afterhit", obj: r } })) : isSet(o.DataCookie.fn) && "" === o.DataCookie.fn ? r.handleUI({ data: { tmpId: t, todo: "enableNameField", fromwhere: "emptyTempName", obj: r } }) : 0 === o.DataCookie.length && r.handleUI({ data: { tmpId: t, todo: "enableNameField", fromwhere: "code", obj: r } })) : 204 === parseInt(o.code) && ($("#t" + t + "_q_first_nm" + r.classCount).val(""), r.handleUI({ data: { tmpId: t, todo: "enableNameField", fromwhere: "emptyTempName", obj: r } }), o.message.trim() !== "ISO MisMatch".trim() && o.message.trim() !== "Unable to Create User".trim() && o.message.trim() !== "Please use your registered Mobile Number to Login".trim() && o.message.trim() !== "Invalid mobile Number".trim() || r.handleUI({ data: { tmpId: t, todo: "tryagain", obj: r, msg: o.msg } })) }, UserLogin.prototype.updateUserDetails = function (e, t) { 3 !== e && isSet(t.DataCookie) && "" !== t.DataCookie && imesh_obj.set(t.DataCookie), UpdateAfterLogin("fn"), UpdateAfterLogin("em"), UpdateAfterLogin("ctid"), UpdateAfterLogin("mb1"), UpdateAfterLogin("uv") }, UserLogin.prototype.updateFlagDetails = function (e, t) { 3 === e || 1 === e ? (ReqObj.userType = "UnIdentified", ReqObj.loginMode = t.msg.trim() === "Mobile Number found in Primary Mobile".trim() || t.msg.trim() === "Email found in Primary Email".trim() ? 4 : t.msg.trim() === "New User created via User creation service".trim() ? 3 : 0) : isSet(e) && 3 !== e && 1 !== e && (ReqObj.userType = "Identified", ReqObj.loginMode = 2) }, UserLogin.prototype.handleEvents = function (e, t) { $(document).ready(function () { isSet($("#t" + t + "_login")) && (!$("#t" + t + "_blchatfooter").hasClass("focus") && setTimeout(function () { $("#t" + t + "_blchatfooter").addClass("focus") }, 1e3), !$("#t" + t + "_typhere").hasClass("dn") && setTimeout(function () { $("#t" + t + "_typhere").addClass("dn"), $("#t" + t + "_newblchatReply").removeClass("cbl_vh") }, 1099)), $("#t" + t + "_login_field").attr("request", 0), isSet(validation) || createGlobalObject(); var r = currentISO(); $("#t" + t + "_Country_dropdown").off("click.Validation").on("click.Validation", { todo: "show", obj: e, tmpId: t }, e.handleUI), $("#t" + t + "_login_field").off("focus.Validation keypress.Validation").on("focus.Validation keypress.Validation", { todo: "removeError", obj: e, tmpId: t }, e.handleUI), "IN" === r && $("#t" + t + "_login_field").off("keypress.Validation").on("keypress.Validation", validation.isNumberKey), "09" === t.substring(0, 2) && e.handleUI({ data: { tmpId: t, todo: "09defaultcss", obj: e } }), "chatbl" !== ReqObj.Form[t].formType.toLowerCase() && ($("#t" + t + "_login_field").on("keydown", function (r) { (!0 !== r.ctrlKey || 67 !== r.keyCode && 65 !== r.keyCode && 90 !== r.keyCode) && (8 === r.keyCode || r.keyCode >= 96 && r.keyCode <= 105 || r.keyCode >= 48 && r.keyCode <= 57 || r.keyCode >= 65 && r.keyCode <= 90) && ($("#t" + t + "_q_first_nm" + e.classCount).val(""), e.handleUI({ data: { tmpId: t, todo: "enableNameField", obj: e } })) }), $("#t" + t + "_login_field").on("change", { logObject: "", tmpId: t, userlogin: e, blureve: !0, todo: "blurlogin", iso: r }, e.sendRequest)) }) }, UserLogin.prototype.handleUI = function (e) { if (isSet(e) && 13 !== (e.keyCode ? e.keyCode : e.which)) { var t = e.data.todo, r = e.data.tmpId, o = e.data.obj; if ("focus" === t && $("#t" + r + "_login_field").focus(), "default" === t && ("popup" === chatBlPopupInline(r) ? setTimeout(function () { $("#t" + r + "_login_field").focus() }, 1800) : $("#t" + r + "_login_field").focus()), "isoFlag" === t) { var i = currentISO(); "" !== ReqObj.isoFlag && "IN" === i && $("#t" + r + "_iso").attr("value", ReqObj.isoFlag) } else if ("chatblFlag" === t) $("#t" + r + "_Country_dropdown dt a div").hasClass("as_arrow") && $("#t" + r + "_Country_dropdown dt a div").addClass("bedsnone"); else if ("removeError" === t) $("#t" + r + "_msg_primary_info_err_login").addClass("bedsnone"), $("#t" + r + "_login_field").removeClass("highlight-err"), $("#t" + r + "_label-l").removeClass("redc"), $("#t" + r + "verify_error").html(""), $("#t" + r + "cbl_bluline").removeClass("cbl_erred"), $(".cbl_error").removeClass("cbl_frnerr"); else if ("tryagain" === t) isSet(e.data.msg) && "" !== e.data.msg && ($("#t" + r + "_primary_info_errmsg_login").html(e.data.msg), $("#t" + r + "_msg_primary_info_err_login").removeClass("bedsnone")); else if ("defaultFlag3" === t) $("#t" + r + "_q_first_nm" + o.classCount).removeClass("highlight-err").siblings(".redc").removeClass("redc"), $("#t" + r + "_error_first_name" + o.classCount).addClass("bedsnone"); else if ("enableNameField" === t) $("#t" + r + "_q_first_nm" + o.classCount).prop("disabled", !1), "code" !== e.data.fromwhere && "emptyTempName" !== e.data.fromwhere || (ReqObj.TempName = ""); else if ("disableNameField" === t) isSet(e.data.value) && ($("#t" + r + "_q_first_nm" + o.classCount).val(e.data.value), $("#t" + r + "_q_first_nm" + o.classCount).parents().addClass("eqfcsed")), "afterhit" === e.data.fromwhere && (ReqObj.TempName = e.data.value, $("#t" + r + "_q_first_nm" + o.classCount).attr("disabled", "disabled")); else if ("validationError" === t) { var a = e.data.errormsg; $("#t" + r + "_primary_info_errmsg_login").html(a), $("#t" + r + "_msg_primary_info_err_login").removeClass("bedsnone"), "popup" === chatBlPopupInline(r) ? (isGDPRCountry() && $(".cbl_error").addClass("cbl_frnerr"), $("#t" + r + "verify_error").text(a), $("#t" + r + "cbl_bluline").addClass("cbl_erred")) : $("#t" + r + "_login_field").addClass("highlight-err"), "chatbl" !== ReqObj.Form[r].formType && (!isOtherEnq(r) || isOtherEnq(r) && "09" !== r.substring(0, 2)) && $("#t" + r + "_label-l").addClass("redc") } else "09defaultcss" === t ? ($("#t" + r + "_login_field").focus(), isOtherEnq(r) || $("#t" + r + "_login_field").css({ border: "1px solid #43bfb3 ", boxShadow: "1px 0px 4px #43bfb3 " })) : "chatblur" === t && ("beforehit" === e.data.fromwhere ? ($("#t" + r + "_login_field").prop("disabled", !0).addClass("chatblur"), $("#t" + r + "_submit").prop("disabled", !0).addClass("chatblur")) : "aftercomplete" === e.data.fromwhere && ($("#t" + r + "_login_field").prop("disabled", !1).removeClass("chatblur"), $("#t" + r + "_submit").prop("disabled", !1).removeClass("chatblur"))) } }, UserVerification.prototype.displayAnswer = function (e) { if (!0 !== ReqObj.Form[e].isSkipOTPClicked && 1 !== ReqObj.Form[e].showotpstep) return "popup" !== chatBlPopupInline(e) ? [ConversationCenterWrapper(e, "Mobile No. Verified<span class='chat-tickbx1'></span>")] : [ConversationCenterWrapper(e, "<div class = 'txt_area cbl_brd1 cbl_clr1'><svg class='cbl_ok cbl_field'><use xlink:href='#cblcheck'></use></svg>Thank You for confirming your requirement</div>")] }, UserVerification.prototype.SaveDetails = function (e) { IsChatbl(e) && (ReqObj.Form[e].UserInputs.OTP = this.otp) }, UserVerification.prototype.toUpdate = function (e) { return "V" === usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "uv") }, UserVerification.prototype.displayHtml = function (e) { if (isSet(e)) return $("#t" + e + "_byrinfo").addClass("bedsnone"), IsChatbl(e) || $("#t" + e + "_hdg").addClass("bedsnone"), ReqObj.Form[e].flags.isOtpShown = !0, "popup" === chatBlPopupInline(e) ? [this.verifyhtmlLabel, this.verifyhtmlInput] : (isOtherEnq(e) && (ReqObj.Form[e].calledClassName[ReqObj.Form[e].FormSequence.StepCounter] = this.className), [this.verifyhtml]) }, UserVerification.prototype.EventIfScreenPresent = function (e) { isSet(e) && ($("#t" + e + "_byrinfo").addClass("bedsnone"), IsChatbl(e) || $("#t" + e + "_hdg").addClass("bedsnone"), isOtherEnq(e) && (this.handleHeading(e), ButtonNameUI("isq", e), ButtonNameUI("userverification", e))) }, UserVerification.prototype.handleHeading = function (e) { $("#t" + e + "OtpMainHeading").removeClass("bedsnone").html(getFormHeading(e, ReqObj.Form[e].currentScreen)) }, UserVerification.prototype.handleButton = function (e) { ButtonNameUI(ReqObj.Form[e].currentScreen, e) }, UserVerification.prototype.addHtmlObjToArray = function (e) { this.UserVerificationHtmlObjArray.push(e) }, UserVerification.prototype.hasHtml = function (e) { if (isSet(e)) { var t = e.tmpId; this.message = isSet(e.message) ? e.message.message : "", this.cookies(), this.sendOtp({ data: { type: 1, x: this, id: "", resend: 0, tmpId: t } }); var r = currentISO(); if ("IN" === r && this.addHtmlObjToArray(this.getOTPHtml(t)), "popup" !== chatBlPopupInline(t)) { var o = { SuffixOuterHtml: "<div  id='t" + t + "_otpbox'>", SuffixClosingHtml: "</div>", suffix: "_otpbox" }; this.verifyhtml = "IN" === r ? MakeWrapper([this.UserVerificationHtmlObjArray], t, o, "") : "" } else { o = { SuffixOuterHtml: "<div  id='t" + t + "_otpbox' class = 'cbl_ques cbl_vh'>", SuffixClosingHtml: "</div>", suffix: "_otpbox" }; this.verifyhtmlLabel = "IN" === r ? MakeWrapper([this.UserVerificationHtmlObjArray], t, o, "ques") : ""; o = { SuffixOuterHtml: "<div  id='t" + t + "_otpbox' class ='cbl_dtls cbl_otp cbl_df cbl_aic t" + t + "_userInput dn'>", SuffixClosingHtml: "</div>", suffix: "_otpbox" }; this.verifyhtmlInput = "IN" === r ? MakeWrapper([this.UserVerificationHtmlObjArray], t, o, "input") : "", this.verifyhtml = "IN" === r ? this.verifyhtmlLabel + this.verifyhtmlInput : "" } if (e.that.NumberofClassCalled -= 1, "" !== this.verifyhtml) { if (AttachObject(e.object, t), isSet(e.AfterService)) for (var i = 0; i < e.AfterService.length; i++)e.that.MakeSeq(e.AfterService[i], t); 0 === e.that.NumberofClassCalled && makeFinalSeq(e, t) } else e.hasFallback && CreateSeq(e.FallbackObj); return "" !== this.verifyhtml } }, UserVerification.prototype.defaultEvents = function (e) { isSet(e) && (this.handleEvents(this, e), this.handleUI(e, "focus", "", ""), isOtherEnq(e) && this.handleHeading(e)) }, UserVerification.prototype.validate = function (e) { if (isSet(e)) { $("#verifyerrotpdiv").addClass("bedsnone"); var t = $("#t" + e + "bl_enqOtp1").val() + $("#t" + e + "bl_enqOtp2").val() + $("#t" + e + "bl_enqOtp3").val() + $("#t" + e + "bl_enqOtp4").val(); return this.otp = t, !(isSet(t) && "" === t || 4 !== t.length) || (this.handleUI(e, "verificationFailed", "beforeRequest", t), !1) } }, UserVerification.prototype.onSubmit = function (e) { if (!0 !== ReqObj.Form[e].isSkipOTPClicked) { var t = $("#t" + e + "bl_enqOtp1").val() + $("#t" + e + "bl_enqOtp2").val() + $("#t" + e + "bl_enqOtp3").val() + $("#t" + e + "bl_enqOtp4").val(); if (this.otp = t, ("popup" === chatBlPopupInline(e) && "second" !== this.message || isSet(t) && 4 === t.length) && isSet(t) && 4 === t.length) { var r = new PreAjax("UserVerification", e); this.validateOtp({ data: { type: 2, userVerificationObject: this, obj: r, authKey: t, tmpId: e } }) } } else ReqObj.Form[e].ServiceSequence.pop() }, UserVerification.prototype.cookies = function () { this.imeshCookie = usercookie.getCookie("ImeshVisitor"), this.v4iilexCookie = usercookie.getCookie("v4iilex") }, UserVerification.prototype.returnOTPInputs = function (e, t) { var r = IsChatbl(t) ? "popup" === chatBlPopupInline(t) ? "" : "blchat-inpt chat-optw" : "bloptin", o = "popup" === chatBlPopupInline(t) ? "<label>Enter One Time Password</label>" : ""; return o += returnInput("t" + t, "bl_enqOtp1", "text", "", "", r, "", "", "1"), o += returnInput("t" + t, "bl_enqOtp2", "text", "", "", r, "", "", "1"), o += returnInput("t" + t, "bl_enqOtp3", "text", "", "", r, "", "", "1"), o += returnInput("t" + t, "bl_enqOtp4", "text", "", "", r, "", "", "1") }, UserVerification.prototype.returnErrorDiv = function (e, t) { var r = ""; return r += returnContainer("t" + e, "verifyerrotpdiv", t, "", ""), r += returnSpan("t" + e, "verify_err", "", ""), r += "</div>" }, UserVerification.prototype.getOTPInput = function (e, t) { var r = ""; if (IsChatbl(e)) { var o = returnContainer("", "", "chat-arrow", "", ""); o += "</div>"; var i = "inline" === chatBlPopupInline(e) ? "chat-arowicon" : "popup" === chatBlPopupInline(e) ? "chat-arowicon" : ""; r += returnContainer("", "", a = "inline" === chatBlPopupInline(e) ? "bepr bemt10" : "cbl_otpgrp cbl_w1", "", ""), r += this.returnOTPInputs(t, e), r += "popup" !== chatBlPopupInline(e) ? returnButton("t" + e, "_submit", o, i) : "", r += "</div>"; var a = "inline" === chatBlPopupInline(e) ? "bltperor bedsnone" : "popup" === chatBlPopupInline(e) ? "bltperor bedsnone betxtc" : ""; r += this.returnErrorDiv(e, a); var s = "popup" === chatBlPopupInline(e) ? "cbl_brd1 cbl_clr1 cbl_cp" : "chat-txt1 beblock"; r += "popup" === chatBlPopupInline(e) ? returnContainer("", "", "cbl_resend ", "", "") : returnContainer("", "", "betxtc", "", ""), ReqObj.Form[e].isotpSkipped || "second" === this.message.toLowerCase() || "popup" !== chatBlPopupInline(e) || (ReqObj.Form[e].isotpSkipped = !0, r += returnButton("t" + e, "_skipOTP", "Skip", s)), r += returnButton("t" + e, "resendOtp", "Resend OTP", s += "chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() ? " rsndOtp cbl_pa" : ""), r += "</div>" } else { usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "phcc"), usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "mb1"); r += returnContainer("", "", "m15 blml20 bepr beopt", "", ""), isOtherEnq(e) || (r += '<i class="blnewform_sprit blicotp beflt"></i>'), isOtherEnq(e) ? r += returnContainer("", "", "bedblk  bevT", "", "") : r += returnContainer("", "", "bedblk bemt15 beml10 bevT", "", ""), r += this.returnOTPInputs(t, e), r += this.returnErrorDiv(e, "bltperor bedsnone"), r += '</div ></div ><div class="beclr"></div>', r = isOtherEnq(e) ? r + '<div class="beotpSW betxtc">Didn\'t receive  OTP ?' : r + '<div class="beotpSW betxtc">Did not get the OTP? ', r += returnButton("t" + e, "resendOtp", "Send SMS again", "blSmst"), r += returnSpan("", "", "", "blgrcl1 disp-inl f_bold cbl_vh"), r += '</div><div class="blLdot blMt25 relt beotpSW" style="display: none"><span class="blgrcl disp - inl f_bold">OR</span></div> <div class="bloptS beotpSW" style="display: none"><span class="blotp">Give us a missed call on : <strong class="blMsN">098-9981-0984</strong></span></div></div >' } this.UserVerificationHtmlObj.UserInput = r }, UserVerification.prototype.getOTPLabel = function (e, t) { var r = "", o = "+" + usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "phcc") + "-" + usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "mb1"); IsChatbl(e) ? "second" === this.message ? (r += "To post your requirement, please enter the One Time Password (OTP) sent on your mobile ", r += returnSpan("", "", o, "befwt")) : (r += "Enter the One Time Password (OTP) sent on  your mobile ", r += returnSpan("", "", o, "befwt"), r += " to ", r += returnSpan("", "", "confirm", "befwt"), r += " your requirement") : (r += returnContainer("t" + e, "OtpMainHeading", "otphdg", "", "Confirm your requirement"), r += "</div>", r += returnContainer("", "", "befs16 blotp bemb20", "", "We have sent a 4 digit One Time Password (OTP) on your mobile "), r += returnSpan("", "", o, "disp-inl befwt", "") + "</span>", r += "</div>"), this.UserVerificationHtmlObj.Label = r }, UserVerification.prototype.getOTPHtml = function (e) { var t = ReqObj.Form[e].formType.toLowerCase(); return this.getOTPLabel(e, t), this.getOTPInput(e, t), this.UserVerificationHtmlObj.OuterWrapper = (IsChatbl(e), ""), this.UserVerificationHtmlObj.ClosingWrapper = (IsChatbl(e), ""), this.UserVerificationHtmlObj }, UserVerification.prototype.sendOtp = function (e) { var t = e.data.type, r = e.data.x, o = e.data.id, i = e.data.resend, a = e.data.tmpId, s = "Enq" === ReqObj.Form[a].formType ? "Send Enquiry" : "Post Buy Leads"; if (ReqObj.Form[a].OnCloseStep && isSet(ReqObj.Form[a].FormSequence)) var n = ReqObj.Form[a].FormSequence.StepCounter + 1 + ReqObj.Form[a].FormSequence.OnCloseCounter + 1; else n = ReqObj.Form[a].FormSequence.StepCounter + 1; if (1 === i && "resendOtp" === o ? blenqGATracking(s, "resendOTP|" + n + "|UserVerification", getEventLabel(), 0, a) : 0 === i && "bl_enqMisscall" === o && blenqGATracking(s, "OncallOTP|" + n + "|UserVerification", getEventLabel(), 0, a), r.handleUI(a, "refresh", "", ""), r.otpCount > 0 && "popup" === chatBlPopupInline(a) && r.handleUI(a, "showmessage", "", ""), 3 !== r.otpCount) { r.otpCount > 0 && r.otpCount <= 3 && r.handleUI(a, "otpCount123", "", ""); var l = 3 === t ? r.getData(3, i, a, "") : 1 === t ? r.getData(1, i, a, "") : ""; "" !== l && r.sendRequest(ObjectTrim(l), t, "", r, a) } else r.handleUI(a, "otpCount3", "", "") }, UserVerification.prototype.validateOtp = function (e) { var t = e.data.type, r = e.data.userVerificationObject, o = e.data.tmpId, i = e.data.obj, a = e.data.authKey; r.sendRequest(ObjectTrim(r.getData(2, "", o, a)), t, i, r, o) }, UserVerification.prototype.getData = function (e, t, r, o) { var i = { s_mobile: usercookie.getParameterValue(this.imeshCookie, "mb1"), modid: ReqObj.Form[r].modId, s_country_code: usercookie.getParameterValue(this.imeshCookie, "phcc"), s_country_iso: usercookie.getParameterValue(this.imeshCookie, "iso"), s_glusrid: usercookie.getParameterValue(this.imeshCookie, "glid"), flag: ReqObj.Form[r].formType.toLowerCase(), OTPResend: t }; return 1 === e ? (i.todoflag = "OTPGen", i) : 2 === e ? (i.todoflag = "OTPVer", i.s_authkey = o, i) : 3 === e ? (i.todoflag = "OTPGen", i.misscall = 1, i) : void 0 }, UserVerification.prototype.sendRequest = function (e, t, r, o, i) { var a = "Enq" === ReqObj.Form[i].formType ? "Send Enquiry" : "Post Buy Leads", s = o; $.ajax({ cache: !1, url: appsServerName + "index.php?r=Newreqform/OtpAuthentication", type: "GET", crossOrigin: !0, crossDomain: !0, data: e, dataType: "json", success: function (e) { if (isSet(e)) { var o = s.imeshCookie; if (!isSet(e.Response) || "Success" !== e.Response.Status) return 204 === parseInt(e.Response.Code) && "OTP not Verified" === e.Response.Message && s.handleUI(i, "verificationFailed", "afterRequest", ""), void RemoveObjFromHit(r, i); if (1 === t || 3 === t) s.otpCount++; else if (2 === t) { var n; -1 === o.indexOf("uv") && (o += "|" === o.charAt(o.length - 1) ? "uv=V" : "|uv=V"), (n = stringToObject(o, "|")).uv = "V", imesh_obj.set(n), usercookie.deleteCookie("imEqGl"), s.updateFulllogin(e), "function" == typeof getLoginStringv1 && getLoginStringv1(), blenqGATracking(a, "confirmOTP", getEventLabel(), 1, i), $("#t" + i + "_byrinfo").removeClass("bedsnone"), $("#t" + i + "_hdg").removeClass("bedsnone"); var l = new UserLogin; if (l.sendRequest({ data: { logObject: "", tmpId: i, userlogin: l, blureve: !1, todo: "verifyusr" } }), isSet(ReqObj.Form[i].RemainingService) && ReqObj.Form[i].RemainingService.length > 0 && !ShowOtp() && ReqObj.Form[i].flags.ImEqgl && (formatServices(ReqObj.Form[i].RemainingService, i), isSet(ReqObj.Form[i].ServiceSequence))) for (; ReqObj.Form[i].ServiceSequence.length > 0;)isSet(ReqObj.Form[i].ServiceSequence[0]) && isSet(ReqObj.Form[i].ServiceSequence[0].fn) && "function" == typeof ReqObj.Form[i].ServiceSequence[0].fn.onSubmit ? ReqObj.Form[i].ServiceSequence[0].fn.onSubmit(i) : IsProduction() && ReqObj.Form[i].ServiceSequence.pop(); PostAjax(r, i) } } else blenqGATracking(a, "service:OtpAuthentication:failure", "response undefined", 1, i), RemoveObjFromHit(r, i) }, error: function (e) { e = isSet(e) ? JSON.stringify(e) : "response undefined", blenqGATracking(a, "service:OtpAuthentication:failure", e, 1, i), RemoveObjFromHit(r, i) }, complete: function (e) { "popup" === chatBlPopupInline(i) ? $("#t" + i + "cbl_msg").parent().addClass("dn") : removeBLLoader(i, "center") } }) }, UserVerification.prototype.updateFulllogin = function (e) { var t = ""; for (var r in e.Response.LOGIN_DATA.LoginCookie) t += r + "=" + e.Response.LOGIN_DATA.LoginCookie[r] + "|"; usercookie.setCookie("v4iilex", t, 180); var o = ""; for (var r in e.Response.LOGIN_DATA.im_iss) o += r + "=" + e.Response.LOGIN_DATA.im_iss[r] + "|"; usercookie.setCookie("im_iss", o, 180) }, UserVerification.prototype.handleUI = function (e, t, r, o) { "focus" === t && ("popup" === chatBlPopupInline(e) ? setTimeout(function () { $("#t" + e + "bl_enqOtp1").focus() }, 1800) : $("#t" + e + "bl_enqOtp1").focus()), "showmessage" === t && ($("#t" + e + "verify_error").parent().removeClass("dn"), $("#t" + e + "verify_error").html("OTP sent on Your Mobile"), $("#t" + e + "cbl_bluline").addClass("cbl_erred")), "refresh" === t && ("popup" !== chatBlPopupInline(e) && $("#t" + e + "verifyerrotpdiv").addClass("bedsnone"), $("#t" + e + "bl_enqOtp1").focus(), $("#t" + e + "bl_enqOtp1").val(""), $("#t" + e + "bl_enqOtp2").val(""), $("#t" + e + "bl_enqOtp3").val(""), $("#t" + e + "bl_enqOtp4").val("")), "otpCount1" === t && ($("#t" + e + "resendOtp").show(), $("#t" + e + "verify_err").html("")), "otpCount123" === t && ($("#t" + e + "bl_enqOtp1").focus(), $("#t" + e + "resendOtp").attr("disabled", "disabled").css({ opacity: "0.4", cursor: "default" }), $("#t" + e + "bl_enqMisscall").attr("disabled", "disabled").css({ opacity: "0.4", cursor: "default" }), 3 !== this.otpCount && setTimeout(function () { $("#t" + e + "resendOtp").removeAttr("disabled").css({ opacity: "1", cursor: "pointer" }), $("#t" + e + "bl_enqMisscall").removeAttr("disabled").css({ opacity: "1", cursor: "pointer" }) }, 2e4)), "otpCount3" === t && ($("#t" + e + "verify_err").html("You have exceeded allowed OTP request attempts"), $("#t" + e + "verifyerrotpdiv").removeClass("bedsnone"), $("#t" + e + "resendOtp").attr("disabled", "disabled").css({ opacity: "0.4", cursor: "default" }), $("#t" + e + "bl_enqMisscall").attr("disabled", "disabled").css({ opacity: "0.4", cursor: "default" })), "verificationFailed" === t && "beforeRequest" === r && (isSet(o) && 0 === o.length ? "popup" === chatBlPopupInline(e) ? ($("#t" + e + "verify_error").html("Please enter verification code"), $("#t" + e + "cbl_bluline").addClass("cbl_erred")) : $("#t" + e + "verify_err").html("Please enter verification code") : "popup" === chatBlPopupInline(e) ? ($("#t" + e + "verify_error").html("Please enter correct verification code"), $("#t" + e + "cbl_bluline").addClass("cbl_erred")) : $("#t" + e + "verify_err").html("Please enter correct verification code"), $("#t" + e + "verifyerrotpdiv").removeClass("bedsnone")), "verificationFailed" === t && "afterRequest" === r && ("popup" === chatBlPopupInline(e) ? ($("#t" + e + "verify_error").html("Please enter correct verification code"), $("#t" + e + "cbl_bluline").addClass("cbl_erred")) : $("#t" + e + "verify_err").html("Please enter correct verification code"), $("#t" + e + "verifyerrotpdiv").removeClass("bedsnone"), $("#t" + e + "bl_enqOtp4").focus()), "tryagain" === t && "afterRequest" === r && ($("#t" + e + "verify_err").html("Something went Wrong. Please try Again"), $("#t" + e + "verifyerrotpdiv").removeClass("bedsnone")) }, UserVerification.prototype.handleEvents = function (e, t) { isSet(validation) || createGlobalObject(); var r = e; $(document).ready(function () { !$("#t" + t + "_blchatfooter").hasClass("focus") && setTimeout(function () { $("#t" + t + "_blchatfooter").addClass("focus") }, 1e3), !$("#t" + t + "_typhere").hasClass("dn") && setTimeout(function () { $("#t" + t + "_typhere").addClass("dn"), $("#t" + t + "_newblchatReply").removeClass("cbl_vh") }, 1099), $("#t" + t + "bl_enqMisscall").on("click", { type: 3, x: r, id: "bl_enqMisscall", resend: 0, tmpId: t }, r.sendOtp), $("#t" + t + "resendOtp").on("click", { type: 1, x: r, id: "resendOtp", resend: 1, tmpId: t }, r.sendOtp), $("#t" + t + "bl_enqOtp1").on("keypress", validation.isNumberKey).on("keyup", { param1: "bl_enqOtp1", param2: "bl_enqOtp2", tmpId: t }, movetoNext), $("#t" + t + "bl_enqOtp2").on("keypress", validation.isNumberKey).on("keyup", { param1: "bl_enqOtp2", param2: "bl_enqOtp3", tmpId: t }, movetoNext).on("keydown", { param1: "bl_enqOtp2", param2: "bl_enqOtp1", tmpId: t }, movetoPrevious), $("#t" + t + "bl_enqOtp3").on("keypress", validation.isNumberKey).on("keyup", { param1: "bl_enqOtp3", param2: "bl_enqOtp4", tmpId: t }, movetoNext).on("keydown", { param1: "bl_enqOtp3", param2: "bl_enqOtp2", tmpId: t }, movetoPrevious), $("#t" + t + "bl_enqOtp4").on("keypress", validation.isNumberKey).on("keydown", { param1: "bl_enqOtp4", param2: "bl_enqOtp3", tmpId: t }, movetoPrevious) }) }, Validation.prototype.isMobileValid = function (e) { if ("IN" === this.usercountry) { if (this.result = { type: !0, error: "" }, ValidNumber(e)) { e = isSet(e) ? e.trim() : ""; this.result.error = 0 === e.length ? "Please Enter Mobile Number" : e.match(/^[2,3,4,5]/) ? "Mobile Number should start with 6,7,8,9" : e.length < 10 ? "Please Enter valid Mobile number" : e.length > 10 ? "Mobile number should contain 10 digits" : "" } else this.result.error = "Please enter a valid Mobile number"; this.result.type = "" === this.result.error } return this.result }, Validation.prototype.isMobileFValid = function (e) { if (this.result = { type: !0, error: "" }, ValidNumber(e)) { e = isSet(e) ? e.trim() : ""; this.result.error = 0 === e.length ? "Please Enter Mobile Number" : "" } else this.result.error = "Please Enter valid Mobile number"; return this.result.type = "" === this.result.error, this.result }, Validation.prototype.isMobileChValid = function (e) { return this.result = { type: !0, error: "" }, (e = isSet(e) ? e.trim() : "").length > 0 ? ValidNumber(e) ? this.result.error = "" : this.result.error = "Phone Number should be numeric" : this.result.error = "", this.result.type = "" === this.result.error, this.result }, Validation.prototype.isEmailValid = function (e) { this.result = { type: !0, error: "" }; e = isSet(e) ? e : ""; return this.result.error = "" === e.trim() ? "" : isHindi(e) ? "Please do not use special symbols" : /^[^<>()[\]\\,;:\%#^\s@\"$&!@]+@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z0-9]+\.)+[a-zA-Z]{2,}))$/.test(e) ? "" : "Please Enter Valid Email ID", this.result.type = "" === this.result.error, this.result.specialcase = "Please do not use special symbols" === this.result.error, this.result }, Validation.prototype.isEmailFilled = function (e) { this.result = { type: !0, error: "" }; e = isSet(e) ? e : ""; return this.result.error = "" === e.trim() ? "Please Enter your Email ID" : /^[^<>()[\]\\,;:\%#^\s@\"$&!@]+@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z0-9]+\.)+[a-zA-Z]{2,}))$/.test(e) ? "" : "Please Enter Valid Email ID", this.result.type = "" === this.result.error, this.result }, Validation.prototype.isTitleValid = function (e) { this.result = { type: !0, error: "" }; e = isSet(e) ? e : ""; return this.result.error = 0 === e.trim().length ? "Please Enter Product/Service Name" : isHindi(e) ? "Please do not use special symbols" : "", this.result.type = "" === this.result.error, this.result.specialcase = "Please do not use special symbols" === this.result.error, this.result }, Validation.prototype.isDescriptionFilled = function (e) { this.result = { type: !0, error: "" }; e = isSet(e) ? e.trim() : ""; return this.result.error = 0 === e.length ? "Please enter your requirement in Detail" : isHindi(e) ? "Please do not use special symbols" : "", this.result.type = "" === this.result.error, this.result.specialcase = "Please do not use special symbols" === this.result.error, this.result }, Validation.prototype.isNameValid = function (e) { this.result = { type: !0, error: "" }; e = isSet(e) ? e : ""; return this.result.error = 0 === e.trim().length ? "Please Enter Your Name" : isHindi(e) ? "Please do not use special symbols" : "", this.result.type = "" === this.result.error, this.result.specialcase = "Please do not use special symbols" === this.result.error, this.result }, Validation.prototype.isCityValid = function (e) { return this.result = { type: !0, error: "" }, this.result.error = 0 === e.trim().length ? "Please Enter Your City" : isHindi(e) ? "Please do not use special symbols" : "", this.result.type = "" === this.result.error, this.result.specialcase = "Please do not use special symbols" === this.result.error, this.result }, Validation.prototype.isQtyUnitValid = function () { return this.result = { type: !0, error: "" }, this.result }, Validation.prototype.isNumberKey = function (e) { if (isSet(e)) { var t = e.which; return 118 === t && !0 === e.ctrlKey || !(t > 31 && (t < 48 || t > 57)) } }, Validation.prototype.isProductNameValid = function (e) { this.result = { type: !0, error: "" }; e = isSet(e) ? e.trim() : ""; return this.result.error = 0 === e.length ? "Enter product/service name" : isHindi(e) ? "Please do not use special symbols" : "", this.result.type = "" === this.result.error, this.result.specialcase = "Please do not use special symbols" === this.result.error, this.result }, Validation.prototype.isCountryValid = function (e, t) { this.result = { type: !0, error: "" }; var r = isSet(e) ? e.trim() : ""; return this.result.error = 0 === r.length ? "Please Select Country" : "", "" !== ReqObj.Form[t].UserInputs.CountryName && void 0 !== ReqObj.Form[t].UserInputs.CountryName || (this.result.error = "Country must be chosen from suggestions"), this.result.type = "" === this.result.error, this.result }; var validation = new Validation, isBlEnqLoaded = !0, isChatBlSequenceUpdated = !1, isChatWidgetOpen = !1, FormCloseEvent = jQuery.Event("formClose"), ReqFormScriptLoaded = jQuery.Event("ReqFormLoaded"); function convertHtml(e, t, r) { isSet(r) || (r = 0), ReqObj.Form[t].questionCount += 1; var o = [], i = []; e.IM_SPEC_OPTIONS_DESC && (o = e.IM_SPEC_OPTIONS_DESC.split(IsqSeperator)), e.IM_SPEC_OPTIONS_ID && (i = e.IM_SPEC_OPTIONS_ID.split(IsqSeperator)); var a = !!(isSet(i) && i.length > 0); isSet(e.IM_SPEC_MASTER_FULL_DESC) && "" !== e.IM_SPEC_MASTER_FULL_DESC && e.IM_SPEC_MASTER_FULL_DESC.length > 40 && (e.IM_SPEC_MASTER_FULL_DESC = e.IM_SPEC_MASTER_FULL_DESC.substr(0, 60) + "..."); var s = { type: "", questionText: e.IM_SPEC_MASTER_DESC, questionId: isSet(e.IM_SPEC_MASTER_ID) ? e.IM_SPEC_MASTER_ID : "", optionSelector: "", others: [] }, n = FillIsq(e.IM_SPEC_MASTER_DESC, t); switch (n = null === n ? "" : n, parseInt(e.IM_SPEC_MASTER_TYPE)) { case 1: s.type = "TEXTBOX"; var l, c = { labelId: "t" + t + "ques" + ReqObj.Form[t].questionCount, questionId: e.IM_SPEC_MASTER_ID, optionId: !!a && i, QuestionDesc: e.IM_SPEC_MASTER_DESC, inputId: "t" + t + "txtbx_option" + ReqObj.Form[t].questionCount, inputName: "t" + t + "text_name" + ReqObj.Form[t].questionCount, ans: n, placeholder: "popup" === chatBlPopupInline(t) ? " Enter " + e.IM_SPEC_MASTER_DESC : "" }; s.optionSelector = "input[name='" + c.inputName + "']", c.divClass = "bepr beclr", c.lblClass = "be-lbl", c.inputClass = "popup" !== chatBlPopupInline(t) ? isImageVidEnq(t) && ReqObj.Form[t].FormSequence.StepCounter < 1 ? "be-input beisq-tbx inpt_errorbx imgoneqty" : "be-input beisq-tbx inpt_errorbx" : "cbl_txt", isOtherEnq(t) && "quantity" !== c.QuestionDesc.toLowerCase() && (c.inputClass = c.inputClass + " txtblng"), r > 0 && (IsChatbl(t) ? "popup" !== chatBlPopupInline(t) ? c.inputClass += " be-chatW" : c.inputClass = " cbl_qunty" : c.divClass += " isq-st19"); var m = Tooltip("text", e.IM_SPEC_MASTER_FULL_DESC); return isSet(e) && isSet(e.IM_SPEC_MASTER_FULL_DESC) && "" !== e.IM_SPEC_MASTER_FULL_DESC && (c.lblClass += " bedbtip"), l = { OuterWrapper: "<div class='" + c.divClass + "'>", beforeLabel: "", Label: MakeLabel(c, m, t), beforeInput: "", UserInput: TextBoxIp(c), ClosingWrapper: "</div>" }, ReqObj.Form[t].Isq.Question.push(s), l; case 2: var u = {}, p = { labelId: "t" + t + "ques" + ReqObj.Form[t].questionCount, questionId: e.IM_SPEC_MASTER_ID, QuestionDesc: e.IM_SPEC_MASTER_DESC }; m = Tooltip("radio", e.IM_SPEC_MASTER_FULL_DESC); if ("Manufacturer Only" === o) { u.Label += ""; var d = "" } else { u.Label += " (Select only one)"; d = " (Select only one)" } if (s.type = "RADIO", s.optionSelector = "input[name='t" + t + "radio_name" + ReqObj.Form[t].questionCount + "']", p.type = s.type, (u = { OuterWrapper: "", Label: LabelForCheckAndRadio(p, m, t, d), ClosingWrapper: "" }).UserInput = "popup" === chatBlPopupInline(t) ? "" : "<div class=''>", "popup" === chatBlPopupInline(t) && ("why do you need this" === p.QuestionDesc.toLowerCase() ? u.UserInput += "<div class='cbl_cheklabel cbl_pa'>Select Purpose</div>" : u.UserInput += "<div class='cbl_cheklabel cbl_pa'>Select " + p.QuestionDesc + "</div>"), u.UserInput += "popup" !== chatBlPopupInline(t) ? "" : "<div class = 'cbl_radio'>", isSet(o)) for (var b = 0; b < o.length; b++) { var h = -1, f = o[b]; if (isSet(o[b]) && (f = trimVal(f.toLowerCase())), n.length > 0 && -1 !== (h = $.inArray(f, n)) && n.splice(h, 1), "others" === o[b].trim().toLowerCase() || "other" === o[b].trim().toLowerCase()) { var q = { divClass: "t" + t + "be-radioboxtemp be-radiobox oth_bx other_radio t" + t + "other_radiotemp", optionId: a ? i[b] : "", inputName: "t" + t + "other_radio_name" + ReqObj.Form[t].questionCount, inputId: "t" + t + "other_radio_name" + ReqObj.Form[t].questionCount + "_option" + (b + 1), ans: "" }; -1 === h && (q.ans = n), u.UserInput += OthersBox(q, t), s.others.push("#t" + t + "other_radio_name" + ReqObj.Form[t].questionCount + "_option" + (b + 1)) } else { var g = { option_id: a ? i[b] : "", templateId: "t" + t, questionCount: ReqObj.Form[t].questionCount, option_desc: o[b], i: b }; g.inputClass = "popup" === chatBlPopupInline(t) ? "cbl_chekbx_btn" : "bevT bedblk", g.labelClass = "popup" === chatBlPopupInline(t) ? "cbl_chekbx_label CheckboxClick" : "bepr CheckboxClick", -1 !== h ? (g.divClass1 = "t" + t + "be-radioboxtemp be-radiobox sl-box chksl", g.divClass2 = "berdio-sl", g.inputClass = "eqVam bedblk radioClick waschecked", g.checked = "checked", g.spanClass = "popup" === chatBlPopupInline(t) ? "" : "bevT bedblk beisq3 w-txt") : (g.divClass1 = "popup" === chatBlPopupInline(t) ? "cbl_chekbx cbl_df cbl_aic cbl_ml20" : "be-chckbox", g.divClass2 = "berdio-sl bedsnone", g.inputClass = "eqVam bedblk radioClick", g.checked = "", g.spanClass = "popup" === chatBlPopupInline(t) ? "" : "bevT bedblk beisq3"), "Looking for suppliers" === e.IM_SPEC_MASTER_DESC && (g.cityFunc = "onclick = radCheck(this)"), u.UserInput += RadioBox(t, g) } } return u.UserInput += "popup" !== chatBlPopupInline(t) ? "" : "</div>", u.UserInput += "popup" === chatBlPopupInline(t) ? "" : "why do you need this" === p.QuestionDesc.toLowerCase() ? "<div id='t" + t + "companyname' class= 'bemt10' ></div></div>" : "</div>", ReqObj.Form[t].Isq.Question.push(s), u; case 3: var C = {}; s.type = "SELECT"; var S = { labelId: "t" + t + "ques" + ReqObj.Form[t].questionCount, QuestionDesc: e.IM_SPEC_MASTER_DESC, questionId: e.IM_SPEC_MASTER_ID, onchange: !1, optionValue: "Select a value", selectName: "t" + t + "select_name" + ReqObj.Form[t].questionCount, selectId: "t" + t + "select_name" + ReqObj.Form[t].questionCount }; s.optionSelector = "popup" === chatBlPopupInline(t) ? "#t" + t + "_selectDD" + ReqObj.Form[t].questionCount : "select[name='" + S.selectName + "']", S.divClass = "bedblk bepr", S.lblClass = "be-lbl", S.selectClass = "popup" === chatBlPopupInline(t) ? "cbl_selct_unit _ul_select dn" : "be-input bewfull betextclr", r > 0 && IsChatbl(t) && "popup" !== chatBlPopupInline(t) && (S.selectClass += " be-chatW slt-styl"), IsChatbl(t) || (S.divClass += " be-w50"), S.optionValue = SelBoxMSg(S.QuestionDesc, t); var v = "", O = !1, y = "", j = "", I = "", _ = '<input type="text" value = "" readonly="" class="cbl_unit" id = "t' + t + "_selectDD" + ReqObj.Form[t].questionCount + '" name="select_unit" maxlength="1000" autocomplete="off" placeholder= "' + S.optionValue + '">', F = "<div onclick = \"funcClick(this,'" + t + "', " + ReqObj.Form[t].questionCount + ' )"><svg class="cbl_arw" id = "t' + t + '_select_box"><use xlink:href="#dwnarow"></use></svg></div>', R = "Currency" === S.QuestionDesc ? '<div class="cbl_selct cbl_pr cbl_df cbl_aic cbl_curr">' : '<div class="cbl_selct cbl_pr cbl_df cbl_aic">'; if (isSet(o)) for (b = 0; b < o.length; b++) { var k = ""; isSet(f = o[b]) && (f = trimVal(f.toLowerCase())), -1 !== (h = $.inArray(f, n)) && (k = " selected", S.selectClass += " beclr3", O = !0); var w = o[b]; w.indexOf("'") > 0 ? w = w.replace(/'/g, "&#39") : w.indexOf('"') > 0 && (w = w.replace(/"/g, "&quot")), "others" === o[b].toLowerCase() || "other" === o[b].toLowerCase() ? (S.onchange = !0, I = w, y = i[b], j = o[b]) : (v += "<" + (N = "popup" === chatBlPopupInline(t) ? "li" : "option") + " value='" + w + "'", v += "optionid='" + i[b] + "' " + k + " >" + o[b] + "</" + N + ">") } m = Tooltip("text", e.IM_SPEC_MASTER_FULL_DESC); isSet(e) && isSet(e.IM_SPEC_MASTER_FULL_DESC) && "" !== e.IM_SPEC_MASTER_FULL_DESC && (S.lblClass += " bedbtip"), C.OuterWrapper = "<div class='" + S.divClass + "'>", C.Label = MakeLabel(S, m, t), C.ClosingWrapper = "</div>"; var P = "", T = ""; if (S.onchange) { T = ""; var L = "be-slbox beisq-tbx be-othr othrwd inpt_errorbx", A = ""; O || (T = notEmpty(n[0]) ? n[0] : ""), notEmpty(T) ? A = "selected" : L += " bedsnone", P = "<input type = 'text' id = 'other_t" + t + "select_name" + ReqObj.Form[t].questionCount + "_1' class='" + L + "' value ='" + T + "'/>", v += "<" + (N = "popup" === chatBlPopupInline(t) ? "li" : "option") + " value='" + I + "'", v += " optionid='" + y + "' " + A + " >" + j + "</" + N + ">", s.others.push("#other_t" + t + "select_name" + ReqObj.Form[t].questionCount + "_1") } var N = "popup" === chatBlPopupInline(t) ? "ul" : "select"; return C.UserInput = "popup" === chatBlPopupInline(t) ? R + _ + F + "<div class='cbl_sclBr cbl_pa dn'>" + SelectBoxIp(S, t) + v + "</" + N + ">" + P + "</div></div>" : SelectBoxIp(S, t) + v + "</" + N + ">" + P, ReqObj.Form[t].Isq.Question.push(s), C; case 4: var B = {}, D = { labelId: "t" + t + "ques" + ReqObj.Form[t].questionCount, questionId: e.IM_SPEC_MASTER_ID, QuestionDesc: e.IM_SPEC_MASTER_DESC }; m = Tooltip("check", e.IM_SPEC_MASTER_FULL_DESC); if (D.type = "check", (B = { OuterWrapper: "", Label: LabelForCheckAndRadio(D, m, t, d = " (Select all that apply)"), ClosingWrapper: "" }).UserInput = "popup" === chatBlPopupInline(t) ? "" : "<div class='bemgb15 nwDt'>", s.type = "CHECKBOX", s.optionSelector = "input[name='t" + t + "checkbox_name" + ReqObj.Form[t].questionCount + "']", "popup" === chatBlPopupInline(t) && ("i am interested in" === D.QuestionDesc.toLowerCase() && (D.QuestionDesc = "all that apply"), B.UserInput += "<div class='cbl_cheklabel cbl_pa'>Select " + D.QuestionDesc + "</div>"), B.UserInput += "popup" !== chatBlPopupInline(t) ? "" : "<div class = 'cbl_radio'>", isSet(o)) for (b = 0; b < o.length; b++) { h = -1; if (n.length > 0) isSet(f = o[b]) && (f = trimVal(f.toLowerCase())), -1 !== (h = $.inArray(f, n)) && n.splice(h, 1); if ("others" === o[b].trim().toLowerCase() || "other" === o[b].trim().toLowerCase()) { s.others.push("#t" + t + "other_checkbox_name" + ReqObj.Form[t].questionCount + "_option" + (b + 1)); var E = { divClass: "be-chckbox oth_bx other_check", optionId: a ? i[b] : "", inputName: "t" + t + "other_checkbox_name" + ReqObj.Form[t].questionCount, inputId: "t" + t + "other_checkbox_name" + ReqObj.Form[t].questionCount + "_option" + (b + 1), ans: "" }; -1 === h && (E.ans = n), B.UserInput += OthersBox(E, t) } else { var x = { option_id: a ? i[b] : "", templateId: "t" + t, questionCount: ReqObj.Form[t].questionCount, option_desc: o[b], i: b }; x.inputClass = "popup" === chatBlPopupInline(t) ? "cbl_chekbx_btn" : "bevT bedblk", x.labelClass = "popup" === chatBlPopupInline(t) ? "cbl_chekbx_label CheckboxClick" : "bepr CheckboxClick", -1 !== h ? (x.divClass1 = isOtherEnq(t) ? "be-chckbox sl-box chksl eqchkbx" : "be-chckbox sl-box chksl", x.divClass2 = "betick-sl", x.checked = "checked", x.spanClass = "popup" === chatBlPopupInline(t) ? "" : "bevT bedblk beisq3 w-txt") : (x.divClass1 = "popup" === chatBlPopupInline(t) ? "cbl_chekbx cbl_df cbl_aic cbl_ml20" : isOtherEnq(t) ? "be-chckbox eqchkbx" : "be-chckbox", x.divClass2 = "betick-sl bedsnone", x.checked = "", x.spanClass = "popup" === chatBlPopupInline(t) ? "" : "bevT bedblk beisq3"), B.UserInput += CheckBox(t, x) } } return B.UserInput += "popup" !== chatBlPopupInline(t) ? "" : "</div>", ReqObj.Form[t].Isq.Question.push(s), B } } $("body").trigger(ReqFormScriptLoaded); var appsServerName = (webAddressLocation = location.hostname).match(/^dev/) ? "//dev-apps.imimg.com/" : webAddressLocation.match(/^stg/) ? "//stg-apps.imimg.com/" : "//apps.imimg.com/"; function notEmpty(e) { return !(!isSet(e) || "" === e) } function isFirstImgVidCTA(e) { return ("image" === ReqObj.Form[e].typeofform.toLowerCase() || "video" === ReqObj.Form[e].typeofform.toLowerCase()) && ReqObj.Form[e].FormSequence.StepCounter < 1 && "" === usercookie.getCookie("ImeshVisitor") } function returnSubmitInnerHtml(e) { var t = returnContainer("t" + e, "_fBtn", "bepr eqClearfx", "", "", ""); return t += "<div class='backdiv bedsnone' id='t" + e + "_backdiv'><input value='' class='be-backbtn' id='t" + e + "_be-backbtn' type='submit'><div id='t" + e + "_backarr'></div></div><div class='befstgo2 bearrowN' id='t" + e + "_submitdiv'><input value='Next' class='form-btn' id='t" + e + "_submit' type='submit' style='background-color: #00a699'></div>", t += "</div>" } function getMcatImage(e, t) { if (isSet(e) && isSet(ReqObj.Form[e]) && isSet(ReqObj.Form[e].formType) && ("chatbl" !== ReqObj.Form[e].formType.toLowerCase() || "popup" === chatBlPopupInline(e))) { var r = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads"; isSet(ReqObj.Form[e].mcatId) && parseInt(ReqObj.Form[e].mcatId) > -1 && isSet(ReqObj.Form[e].modId) && -1 !== ReqObj.Form[e].modId && "" !== ReqObj.Form[e].modId && ($("#t" + e + "_imglodr").removeClass("bedsnone"), $.ajax({ cache: !1, url: appsServerName + "index.php?r=postblenq/McatDtl", type: "GET", crossOrigin: !0, crossDomain: !0, timeout: 3e3, data: { modid: ReqObj.Form[e].modId, mcatid: parseInt(ReqObj.Form[e].mcatId) }, dataType: "json", success: function (r) { if (isSet(r) && isSet(r.Response) && 200 == r.Response.Code && isSet(r.Response.Data) && isSet(r.Response.Data.glcat_mcat_img1_250x250)) { var o = r.Response.Data.glcat_mcat_img1_250x250; o = o.replace("http:", ""), t.hasCallback ? ReqObj.Form[e].displayImage = o : ReqObj.mcatImage = o, pushImage(ReqObj.Form[e].mcatId, o, "") } }, error: function (t) { t = isSet(t) ? t : "response undefined", blenqGATracking(r, "service:McatDtl:failure", JSON.stringify(t), 0, e) }, complete: function () { t.hasCallback && t.cbfunc(e), $("#t" + e + "_imglodr").addClass("bedsnone") } })) } } function ShowOtp(e) { return !(!usercookie.getCookie("ImeshVisitor") || "V" === usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "uv") || "IN" !== usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "iso")) } function ObjectTrim(e) { var t = {}; for (var r in e) "string" == typeof e[r] && (e[r] = e[r].trim()), "" !== e[r] && (t[r] = e[r]); return t } function CheckLocalStorage() { try { return localStorage.setItem("__checklocalstorage", "exists"), localStorage.removeItem("__checklocalstorage"), !0 } catch (e) { return !1 } } function LoginFlag() { } function LoginMode() { } function isSet(e) { return null != e } function movetoNext(e) { var t = e.data.tmpId; "" !== $("#t" + t + e.data.param1).val() && $("#t" + t + e.data.param2).focus() } function movetoPrevious(e) { var t = e.data.tmpId; 8 == e.keyCode && "" === $("#t" + t + e.data.param1).val() && ($("#t" + t + e.data.param2).focus(), $("#t" + t + e.data.param2).html("")) } function stringToObject(e, t) { for (var r = e.split(t), o = isSet(r) ? r.length : 0, i = {}, a = 0; a < o; a++) { var s = r[a].split("="); i[s[0]] = s[1] } return i } function MakeRefText(e) { ReqObj.Form[e].refText = "ctaName=" + (isSet(ReqObj.Form[e].ctaName) ? ReqObj.Form[e].ctaName : ""), ReqObj.Form[e].refText += "|ctaType=" + (isSet(ReqObj.Form[e].ctaType) ? ReqObj.Form[e].ctaType : ""), ReqObj.Form[e].refText += "|PT=" + (isSet(ReqObj.Form[e].pageType) ? ReqObj.Form[e].pageType : ""), ReqObj.Form[e].refText += "|Section=" + (isSet(ReqObj.Form[e].section) ? ReqObj.Form[e].section : ""), ReqObj.Form[e].refText += "|Position=" + (isSet(ReqObj.Form[e].position) ? ReqObj.Form[e].position : ""), ReqObj.Form[e].refText += "|ScriptVer=" + (isSet(ReqObj.Form[e].scriptVersion) ? ReqObj.Form[e].scriptVersion : ""), ReqObj.Form[e].refText += "|compRank=" + (isSet(ReqObj.Form[e].FCPRank) ? ReqObj.Form[e].FCPRank : ""), ReqObj.Form[e].refText += "|searchTerm=" + (isSet(ReqObj.Form[e].mcatName) ? ReqObj.Form[e].mcatName : "") } function imInvokeRequestForGaCode(e, t) { var r = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", o = usercookie.getCookie("ImeshVisitor"), i = "/cgi/" + ReqObj.Form[e].modId + "/" + r + "/" + getEventLabel(); i += "" === o ? "-new.mp" : ".mp", imgtm.push({ event: "VirtualPageview", virtualPageURL: i, virtualPageTitle: "Send Enquiry -" + t, CD_Additional_Data: ReqObj.Form[e].refText }) } function blenqGATracking(e, t, r, o, i) { var a = 0 === o ? "IMEvent" : "IMEvent-NI", s = "iploc" === e ? glmodid : ReqObj.Form[i].modId, n = 0 === i ? s : s + "-" + ReqObj.Form[i].refText; imgtm.push({ event: a, eventCategory: e, eventAction: t, eventLabel: r, CD_Additional_Data: n }) } function labelNEC(e) { var t = ""; return "" !== ReqObj.UserDetail.fn && (t += "N"), "IN" === e ? ("" !== ReqObj.UserDetail.em && (t += "E"), "" !== ReqObj.UserDetail.ctid && (t += "C"), "" === t && (t = "NO-NEC")) : ("" !== ReqObj.UserDetail.mb1 && (t += "M"), "" === t && (t = "NO-NM")), t } function getEventLabel(e) { var t = usercookie.getCookie("ImeshVisitor"), r = (usercookie.getParameterValue(t, "iso"), usercookie.getParameterValue(t, "uv")), o = currentISO(), i = "" === t ? "Unidentified" : "V" === r ? "Verified" : "Unverified", a = "in" === o.toLowerCase() ? "Indian" : "Foreign"; return a += "|" + i + "|" + labelNEC(o), isSet(e) && "" !== e && (a = e + "|" + a), a } function ServiceGATrack(e, t, r) { isSet(_gaq) && _gaq.push(["_trackEvent", e, t, r, 0, !0]) } function addTemplates(e) { -1 === $.inArray(e, template_array) && template_array.push(e) } function UpdateAfterLogin(e) { "" !== usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), e) && (ReqObj.UserDetail[e] = setDetail(e)) } function onHovSubmitChange(e) { "IN" !== currentISO() ? isGDPRCountry() && !0 === ReqObj.Form[e].IsCheckboxChecked ? $("#t" + e + "_submit").addClass("hovsub") : isGDPRCountry() && !1 === ReqObj.Form[e].IsCheckboxChecked ? $("#t" + e + "_submit").removeClass("hovsub") : isGDPRCountry() || $("#t" + e + "_submit").addClass("hovsub") : $("#t" + e + "_submit").addClass("hovsub") } function checkedTNC(e) { isSet(e) && isSet(ReqObj.Form[e]) && ($("#t" + e + "_tCondCheckBox").prop("checked") ? (ReqObj.Form[e].IsCheckboxChecked = !0, $("#t" + e + "_error_tCond").text("Please agree to the terms and conditions").addClass("bedsnone"), isSet(ReqObj.Form[e].formType) && "inline" !== chatBlPopupInline(e) && ("popup" === chatBlPopupInline(e) ? ($("#t" + e + "_submit").prop("disabled", !1), $(".cbl_sbmt_btn").removeClass("cbl_dsbl")) : $("#t" + e + "_submit").prop("disabled", !1).css("background-color", "#00a699"))) : (ReqObj.Form[e].IsCheckboxChecked = !1, isSet(ReqObj.Form[e].formType) && "inline" !== chatBlPopupInline(e) && ("popup" === chatBlPopupInline(e) ? ($("#t" + e + "_submit").prop("disabled", !0), $(".cbl_sbmt_btn").addClass("cbl_dsbl")) : $("#t" + e + "_submit").prop("disabled", !0).css("background-color", "#b2b2b2"))), onHovSubmitChange(e)) } function ShowHideTNC(e) { if (!IsTncAlreadyFilled(e) && isSet(e) && isSet(ReqObj.Form[e].FormSequence)) if ("IN" !== currentISO() && "inline" !== chatBlPopupInline(e)) { var t = ReqObj.Form[e].FormSequence; ReqObj.Form[e].IsCheckboxChecked && (t.OnCloseCounter > -1 || t.StepCounter > 0) ? HideTncBox(e) : ("image" === ReqObj.Form[e].typeofform.toLowerCase() || "video" === ReqObj.Form[e].typeofform.toLowerCase()) && new RegExp("isq").test(ReqObj.Form[e].currentScreen.toLowerCase()) && t.StepCounter < 1 ? HideTncBox(e) : ShowTncBox(e) } else HideTncBox(e); else HideTncBox(e) } function DefaultValueforTnc(e) { "popup" === chatBlPopupInline(e) && $(".cbl_error").addClass("cbl_frnerr"), $("#t" + e + "_tCond").removeClass("bedsnone"), $("#t" + e + "_tCondCheckBox").prop("checked", !1) } function ShowTncBox(e) { if ("inline" === chatBlPopupInline(e)) DefaultValueforTnc(e); else if (isSet(ReqObj.Form[e])) { ReqObj.Form[e].FormSequence.StepCounter > 0 && !1 === ReqObj.Form[e].isTNCShownOnFirstStep || (ReqObj.Form[e].IsCheckboxChecked ? ($("#t" + e + "_tCondCheckBox").prop("checked", !0), $("#t" + e + "_tCond").removeClass("bedsnone"), "popup" === chatBlPopupInline(e) ? ($("#t" + e + "_submit").prop("disabled", !1), $(".cbl_sbmt_btn").removeClass("cbl_dsbl")) : $("#t" + e + "_submit").prop("disabled", !1).css("background-color", "#00a699")) : (DefaultValueforTnc(e), "popup" === chatBlPopupInline(e) ? ($("#t" + e + "_submit").prop("disabled", !0), $(".cbl_sbmt_btn").addClass("cbl_dsbl")) : $("#t" + e + "_submit").prop("disabled", !0).css("background-color", "#b2b2b2"), ReqObj.Form[e].isTNCShownOnFirstStep = !0)) } } function HideTncBox(e) { $("#t" + e + "_tCond").addClass("bedsnone"), $("#t" + e + "_tCondCheckBox").prop("checked", !0), "inline" !== chatBlPopupInline(e) && ("popup" === chatBlPopupInline(e) ? ($("#t" + e + "_submit").prop("disabled", !1), $(".cbl_sbmt_btn").removeClass("cbl_dsbl")) : $("#t" + e + "_submit").prop("disabled", !1).css("background-color", "#00a699")) } function toShowOtpFlagCondition(e) { return "bl" === ReqObj.Form[e].formType.toLowerCase() || "chatbl" === ReqObj.Form[e].formType.toLowerCase() || "chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() ? isSet(ReqObj.Form[e].toShowOtpStepbl) && !1 !== ReqObj.Form[e].toShowOtpStepbl : "enq" === ReqObj.Form[e].formType.toLowerCase() ? isSet(ReqObj.Form[e].toShowOtpStepenq) && !1 !== ReqObj.Form[e].toShowOtpStepenq : void 0 } function disableEnquiryButton(e) { if ("function" == typeof ReqObj.Form[e].enqSentCallBack) { isSet(ReqObj.Form[e].enquiryDivID) && "" !== ReqObj.Form[e].enquiryDivID ? ReqObj.Form[e].enquiryDivID : ReqObj.Form[e].pDispId; var t = ReturntoProp(e); ReqObj.Form[e].enqSentCallBack(t) } } function appendImEqGlCookie(e, t) { if (isSet(e)) { ReqObj.Form[e].toShowOtpStep = !isSet(t) || "firsttimecreation" !== t; var r = ""; if (r = isSet(ReqObj.Form[e].formType) && "enq" === ReqObj.Form[e].formType.toLowerCase() ? isSet(ReqObj.Form[e].enquiryDivID) && "" !== ReqObj.Form[e].enquiryDivID ? ReqObj.Form[e].enquiryDivID : "dispid" + ReqObj.Form[e].pDispId : "BL" + usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "glid"), isSet(r) && "" !== r) { var o = usercookie.getCookie("imEqGl"), i = usercookie.getCookie("imEqGl").length; 0 === i ? usercookie.setCookie("imEqGl", r, "1", ReqObj.Form[e].modId) : (r = "," === o.substring(0, i - 2) ? o + r + "," : o + "," + r, usercookie.setCookie("imEqGl", r, "1", ReqObj.Form[e].modId)) } return r } return "" } function RemoveValFromImEqGl(e) { if (isSet(e) && "" !== e) { var t = usercookie.getCookie("imEqGl"); if (isSet(t) && "" !== trimVal(t) && "undef" !== t) for (var r = t.split(","), o = r.length - 1; o >= 0; o--)isSet(r[o]) && r[o] === e && r.splice(o, 1) } } function get_buyer_info(e) { var t = "", r = usercookie.getCookie("ImeshVisitor"); if ("" === r) return ""; var o = { main: "Your Contact Information :" }; o.buyername = isSet(ReqObj.UserDetail.fn) && "" !== ReqObj.UserDetail.fn ? ReqObj.UserDetail.fn : "", o.buyermobile = isSet(ReqObj.UserDetail.mb1) && "" !== ReqObj.UserDetail.mb1 ? "+" + usercookie.getParameterValue(r, "phcc") + "-" + ReqObj.UserDetail.mb1 : "", o.buyeremail = isSet(ReqObj.UserDetail.em) && "" !== ReqObj.UserDetail.em ? ReqObj.UserDetail.em : ""; t = "<b>" + o.main + "</b><br/>"; return "" !== o.buyername && (t += o.buyername + "</br>"), isOtherEnq(e) ? "" !== o.buyermobile && "" !== o.buyeremail ? t += o.buyermobile + returnSpan("", "", "   |   ", "", "") + o.buyeremail : "" !== o.buyermobile ? t += o.buyermobile : "" !== o.buyeremail && (t += o.buyeremail) : ("" !== o.buyermobile && (t += o.buyermobile + "</br>"), "" !== o.buyeremail && (t += o.buyeremail + "</br>")), "" === o.buyername && "" === o.buyermobile && "" === o.buyeremail ? "" : ("" !== t && $("#t" + e + "_leftR").addClass("btPd"), t) } function ReturntoProp(e) { var t = JSON.parse(JSON.stringify(ReqObj.Original[e])); return t.IsqArray = ReqObj.Form[e].IsqArray, t.displayImage = ReqObj.Form[e].displayImage, t.prodName = ReqObj.Form[e].prodName, t.generationId = ReqObj.Form[e].generationId, t.mcatName = ReqObj.Form[e].mcatName, t } function changeProd(e) { if (isSet(e) && isSet(e.data)) { ReqObj.changeProdClick = !0; var t = e.data.tmpId, r = e.data.todo; if ($(".be-prdimg").children("img").attr("src", ""), "prev" === r && isSet(ReqObj.Form[t].prev)) { ReqObj.ImageVideoIsqSeq = !1; var o = ReturntoProp(t); ReqObj.Form[t].prev(o) } else if ("next" === r && isSet(ReqObj.Form[t].next)) { ReqObj.ImageVideoIsqSeq = !1; o = ReturntoProp(t); ReqObj.Form[t].next(o) } } } function BlEnqGenerated(e) { return !!(isSet(e) && isSet(ReqObj.Form[e].generationId) && parseInt(ReqObj.Form[e].generationId) > 1) } function ShowProdName(e) { return "product" !== ReqObj.Form[e].modrefType.toLowerCase() || BlEnqGenerated(e) || "" !== ReqObj.Form[e].prodName && ("" !== ReqObj.Form[e].prodName || "chatbl" !== ReqObj.Form[e].formType.toLowerCase() || "08" !== e.substring(0, 2)) && ("bl" !== ReqObj.Form[e].formType.toLowerCase() || "09" !== e.substring(0, 2) && "04" !== e.substring(0, 2)) && ("enq" !== ReqObj.Form[e].formType.toLowerCase() || "04" !== e.substring(0, 2) && "01" !== e.substring(0, 2)) ? ReqObj.Form[e].flags.WasProdNamePresent : (ReqObj.Form[e].flags.WasProdNamePresent = !0, ReqObj.Form[e].isproductshown = !0, !0) } function ShowReqBox(e) { return !0 !== ReqObj.Form[e].flags.isDescDivShown } function GetPopUpHtml(e) { loadOverlay(); return ReqObj.OverlayHtml.replace(/0901/gi, e) } function loadOverlay() { isSet($("#t0901_bewrapper").html()) && "" !== $("#t0901_bewrapper").html() && (ReqObj.OverlayHtml = $("#t0901_bewrapper").html()) } function NEC() { return !ReqObj.UserDetail.fn || ("IN" === currentISO() ? !ReqObj.UserDetail.em || !(ReqObj.UserDetail.ctid || ReqObj.UserDetail.cityname || ReqObj.UserDetail.ctoth) : !ReqObj.UserDetail.mb1) } function ReturnCorrectVal(e, t) { return isSet(e) && "" !== e ? e : isSet(t) && "" !== t ? t : "" } function setDetail(e) { return ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), e), ReturnCorrectVal(ReqObj.UserDetail[e], "")) } function SetUserDetails() { createGlobalObject(), ReqObj.UserDetail.fn = ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn"), ReqObj.UserDetail.fn), ReqObj.UserDetail.em = ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "em"), ReqObj.UserDetail.em), ReqObj.UserDetail.ctid = ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "ctid"), ReqObj.UserDetail.ctid), ReqObj.UserDetail.mb1 = ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "mb1"), ReqObj.UserDetail.mb1), ReqObj.UserDetail.uv = ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "uv"), ReqObj.UserDetail.uv) } function currentISO() { var e = usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "iso"), t = usercookie.getParameterValue(usercookie.getCookie("iploc"), "gcniso"); return "" !== e ? e : "" !== ReqObj.changeUserIso ? ReqObj.changeUserIso : "" !== t ? t : "IN" } function currentIpCountry() { return usercookie.getParameterValue(usercookie.getCookie("iploc"), "gcnnm") } function ConstructorName(e) { if (isSet(e)) { if (e.constructor.name) return e.constructor.name; if (isSet(e.className) && "" !== e.className) return e.className; var t = new RegExp(/s*function\s*(.*?)\s*\{/), r = e.constructor.toString().match(t)[1], o = r.indexOf("("); if (-1 !== o) return r.substr(0, o) } } function FormCloseButtons(e) { $(document).off("keydown.BlEnqForm").on("keydown.BlEnqForm", function (t) { 27 !== t.keyCode || "bl" !== ReqObj.Form[e].formType.toLowerCase() && "enq" !== ReqObj.Form[e].formType.toLowerCase() && "chatbl" !== ReqObj.Form[e].formType.toLowerCase() || FormCloseStep(e, t) }), $("#t" + e + "_cls").off("click").on("click", function (t) { FormCloseStep(e, t) }) } function trimVal(e) { var t = ""; return isSet(e) && "string" == typeof e && (t = e.trim()), t } function stopBgScroll() { $("html").css("overflow", "hidden") } function resumeBgScroll() { $("html").css("overflow", "auto") } function createGlobalObject() { validation = new Validation, usercookie = new UserCookie } function ValidGenId(e) { return !!(ValidNumber(e) && parseInt(e, 10) > 1) } function ValidNumber(e) { return !!(isSet(e) && parseInt(e, 10) && Number(e)) } function SanitizeId(e) { return isSet(e) ? isNaN(e) ? defaultGenerationId : isNaN(parseInt(e, 10)) ? defaultGenerationId : parseInt(e, 10) : defaultGenerationId } function isObjectEmpty(e) { return !(!isSet(e) || "object" != typeof e) && (e = ObjectTrim(e), !$.isEmptyObject(e)) } function returnObjectSize(e) { var t = 0; return e instanceof Object && $.each(e, function () { t += 1 }), t } function StaticMessage() { var e = "Get verified supplier details instantly on your "; return "IN" === currentISO() ? e += "mobile" : e += "email", e } function ShowNameField(e) { return !usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn") && ("IN" !== currentISO() || (!isSet(ReqObj.Form[e].HideNameonFirstStep) || 1 !== parseInt(ReqObj.Form[e].HideNameonFirstStep, 10))) } function HideSuggester() { $("ul.ui-autocomplete").each(function () { $(this).hide() }), $("ul.ui-autocomplete").parent().css("display", "none") } function callfunc(e, t) { for (var r = 0; r < e.length; r++)t.toLowerCase() === ConstructorName(e[r].Obj).toLowerCase() && e.splice(r, 1)[0] } function RefactorUiArray(e) { for (var t = 0; t < PnameDependent.length; t++)callfunc(ReqObj.Form[e].UiArray[ReqObj.Form[e].FormSequence.StepCounter], PnameDependent[t]), RemoveService(ReqObj.Form[e].FormSequence.FullServiceArray[ReqObj.Form[e].FormSequence.StepCounter], PnameDependent[t]) } function RemoveService(e, t) { if (isSet(e)) for (var r = 0; r < e.length; r++) { if (ConstructorName(e[r].fn).toLowerCase() === t.toLowerCase()) return e.splice(r, 1), r -= 1, !0; if (!0 === RemoveService(e[r].cb, t)) return !0 } } function RefactorFormArrays(e) { RefactorUiArray(e) } function DirectSubmitWithoutBlur(e) { SetFormHtmlDefaultValue(e), 1 === parseInt(ReqObj.Form[e].disableRd) ? ReqObj.Form[e].flags.isDescDivShown = !0 : ReqObj.Form[e].flags.isDescDivShown = !1, setTemplateDefaultValue(e.substring(0, 2), e.substring(2, 4), ReqObj.Form[e]), GetIsq(e), ReqObj.Form[e].GlobalIsqObject = new Isq(e) } function removeBLLoader(e, t) { var r = isSet(e) ? e : ""; if ("" !== r && IsChatbl(r)) { if (isSet(t) && "left" === t.toLowerCase()) var o = "inline" === chatBlPopupInline(e) ? "message-left" : "popup" === chatBlPopupInline(e) ? "cbl_ques" : ""; else o = "txt-cnt"; var i = $("#t" + r + "_typing"); i.hasClass(o) && i.remove() } else { var a = $("#t" + r + "_belodr"); a.hasClass("bedsnone") || a.addClass("bedsnone") } } function addBlLoader(e, t) { var r = e; if ("" !== r && IsChatbl(r)) $("#t" + e + "_typing").length > 0 || ("inline" === chatBlPopupInline(e) ? $("#t" + r + "_bl_form").append(appendChatLoader(e, t, "blchat-lodr")) : "popup" === chatBlPopupInline(e) && $("#t" + r + "_new_chatbl").append(appendChatLoader(e, t, "txt_area  cbl_bg1"))); else { var o = $("#t" + r + "_belodr"); o.hasClass("bedsnone") && o.removeClass("bedsnone") } } function addYTLoader(e, t) { var r = $("#t" + e + "_belodrYT"); r.hasClass("bedsnone") && r.removeClass("bedsnone") } function removeYTLoader(e, t) { var r = $("#t" + e + "_belodrYT"); r.hasClass("bedsnone") || r.addClass("bedsnone") } function callFlagSuggestor(e, t) { !1 === ReqObj.Form[e].flags.isFlagSuggSet && $("#t" + e + "_Country_dropdown").length > 0 && flagsugg.setFlagSuggestor(e, t) } function appendChatLoader(e, t, r) { if (isSet(t) && "left" === t.toLowerCase()) var o = "inline" === chatBlPopupInline(e) ? "message-left" : "popup" === chatBlPopupInline(e) ? "cbl_ques cbl_type " : "", i = r; else o = "popup" === chatBlPopupInline(e) ? "txt-cnt bemb10 cbl_ques cbl_type" : "txt-cnt bemb10 ", i = r; return "popup" === chatBlPopupInline(e) ? "<div id='t" + e + "_typing' class='" + o + "'><div class='" + i + "'><span></span><span></span><span></span></div></div>" : "<div id='t" + e + "_typing' class='" + o + "'><div class='typtext'><span class='spinme-left'><div class='" + i + "'><div class='bounce1'></div><div class='bounce2'></div><div class='bounce3'></div></div></span></div></div>" } function MakeWrapper(e, t, r, o) { if (isSet(ReqObj.Form[t].formType) && IsChatbl(t)) { for (var i = "popup" === chatBlPopupInline(t) ? "<div class = 'txt_area cbl_bg1'>" : "<div class='Question'>", a = "popup" === chatBlPopupInline(t) ? "" : "<div class='t" + t + "_userInput' class='bewbg'>", s = 0; s < e.length; s++)for (var n = 0; n < e[s].length; n++)i += e[s][n].Label, a += e[s][n].UserInput; return i += "</div>", a += "</div>", ConversationLeftWrapper(t, "popup" !== chatBlPopupInline(t) ? i + a : "ques" === o ? i : a, { classtotest: chatBlClass(t, "left"), leftright: "inline" === chatBlPopupInline(t) ? "message-left" : "popup" === chatBlPopupInline(t) ? r.SuffixOuterHtml : "" }) } var l = r.SuffixOuterHtml, c = "", m = "", u = ""; if (isSet(r) && isSet(r.suffix) && "" !== r.suffix) { if ("_isqBox" === r.suffix || "_contactinfo" === r.suffix || "_Prodname" === r.suffix) { var p = "IN" !== currentISO() && !0 === r.isPhone ? "eqflot eqIsf" : "eqflot bepr"; c += "_contactinfo" === r.suffix && isOtherEnq(t) ? "<div class='" + p + "'>" : "<div class='be-row'>", m += "</div>" } "_contactinfo" === r.suffix && (u += "<div class='beclr'></div>") } for (s = 0; s < e.length; s++) { l += c; for (n = 0; n < e[s].length; n++)isSet(e[s][n].isenquire) && !0 === e[s][n].isenquire && (l = r.SuffixOuterHtml + "<div class='eqmb5 eqmt20'>"), l += e[s][n].OuterWrapper + e[s][n].Label + e[s][n].UserInput + e[s][n].ClosingWrapper; l += m } return l += r.SuffixClosingHtml, l += u } function ChatBlMsgs(e, t) { if (isSet(e)) { var r = "What is your preferred "; isSet(t) && "radio" === t.toLowerCase() && (r = "Please select "); var o = trimVal(e.toLowerCase()); return o in ChatBlStaticMsg ? ChatBlStaticMsg[o] : isSet(t) && "radio" === t.toLowerCase() ? r + "<strong>" + e + "</strong>" : r + "<strong>" + e + "</strong>" + QuestionEnding } } function ConversationLeftWrapper(e, t, r, o) { if (isSet(t) && "" !== t) return "popup" !== chatBlPopupInline(e) || isSet(o) ? '<div class="' + r.leftright + '"><div class="' + r.classtotest + '">' + t + "</div></div>" : r.leftright + t + "</div>" } function ConversationRightWrapper(e, t, r) { if ("popup" === chatBlPopupInline(e) && "not answered" === t.toLowerCase()) return ""; if (isSet(t) && "" !== t) { var o = "popup" === chatBlPopupInline(e) ? "<div class='txt_area'>" + t + "</div>" : "inline" === chatBlPopupInline(e) ? t : ""; return "popup" === chatBlPopupInline(e) ? '<div class="' + r.leftright + '">' + o + "</div>" : '<div class="' + r.leftright + '"><div class="' + r.classtotest + '">' + o + "</div></div>" } } function ConversationCenterWrapper(e, t) { if (isSet(t) && "" !== t) return "popup" !== chatBlPopupInline(e) ? '<div class="chat-mblV chat-blH">' + t + "</div>" : '<div class ="cbl_verfy">' + t + "</div>" } function returnIsoHtml(e, t, r) { return isSet(r) || (r = ""), '<input type="text" value="' + r + '" readonly="" name="iso" id="t' + e + '_iso" class="' + t + '" tabindex="-1" disabled="disabled">' } function returnInput(e, t, r, o, i, a, s, n, l, c) { return '<input id="' + e + t + '" type="' + r + '" name="' + o + '" value="' + s + '" class="' + a + '" placeholder="' + i + '" maxlength="' + l + '" style="' + n + '"' + c + '="">' } function returnButton(e, t, r, o) { return '<button id="' + e + t + '" class="' + o + '">' + r + "</button>" } function returnContainer(e, t, r, o, i, a) { return isSet(i) || (i = ""), '<div id="' + e + t + '" class="' + r + '" data-role="' + o + '" style="' + a + '">' + i } function returnSpan(e, t, r, o, i) { return '<span id="' + e + t + '" class="' + o + '" style="' + i + '" >' + r + "</span>" } function returnLabel(e, t, r, o) { return '<label id="' + e + r + '" class="' + o + '">' + t + "</label>" } function returnDl(e, t, r, o) { return '<dl id="' + e + t + '" class="' + r + '" disabled="' + o + '"></dl>' } function returnA(e, t, r, o, i) { return '<a href="' + r + '" target="' + o + '" class="' + i + '">' } function returnImg(e, t, r, o) { return '<img id="' + e + t + '"src="' + r + '" class="' + o + '">' } function returnAnswer(e, t) { return ReqObj.Form[e].UserInputs[t] } function flagwrapper(e) { return '<div class="cbl_flag">' + e + "</div>" } function skipDiv(e) { var t = returnContainer("", "", "cbl_resend cbl_skip", "", "", ""); return t += returnButton("t" + e, "_submitNo", "Skip", "cbl_brd1 cbl_clr1 cbl_cp"), t += "</div>" } function addLine() { return '<div class="cbl_line"></div>' } function scrollSmoothToBottom(e) { var t = document.getElementById(e); isSet(t) && $("#" + e).animate({ scrollTop: t.scrollHeight - t.clientHeight }, 500) } function newchatblScroll(e, t) { $("#t" + t + "_scroll").animate({ scrollTop: $("#t" + t + "_scroll").prop("scrollHeight") }, 1e3), $("#t" + t + "_scroll").on("mousewheel", function (e) { return $("#t" + t + "_scroll").stop(!0, !0), !0 }) } function IsFormBL(e) { if (isSet(e) && isSet(ReqObj.Form[e])) { if (isSet(ReqObj.Form[e].formType)) var t = $.inArray(ReqObj.Form[e].formType.toLowerCase(), ["bl", "chatbl", "chatbl-inline"]); return -1 !== t } } function CallGeneration(e) { if (isSet(e)) return parseInt(ReqObj.Form[e].generationId, 10) <= 1 && !0 !== ExistsInArray(ReqObj.Form[e].HitArray, "Generation") && !0 !== ExistsInArray(ReqObj.Form[e].ServiceSequence, "Generation") } function SetAutoCompleteClass(e, t) { var r = "be-sugg t" + e + t; return IsChatbl(e) && ("inline" === chatBlPopupInline(e) ? r += " be-chat" : "popup" === chatBlPopupInline(e) && (r += " bl-chat")), r } function toCallFlagSuggestor(e) { return "true" !== flagsugg.flaghit[e] && 0 !== $("#t" + e + "_Country_dropdown").length } function reloadFlagSuggestor(e) { for (var t = isSet(template_array) ? template_array.length : 0, r = 0; r < t; r++)isSet(ReqObj.Form[template_array[r]].flags) && $("#t" + template_array[r] + "_Country_dropdown").length > 0 && (ReqObj.Form[template_array[r]].flags.isFlagSuggSet = !1, flagsugg.setFlagSuggestor(template_array[r], e)) } function IsTNCChecked(e, t, r) { var o = !0; return (o = !!ReqObj.Form[e].IsCheckboxChecked || (!t || ("IN" === currentISO() || (!isSet(r) || "" === r)))) ? RemoveTncError(e) : ShowTncError(e), o } function ShowTncError(e) { $("#t" + e + "_error_tCond").text("Please agree to the terms and conditions").removeClass("bedsnone") } function RemoveTncError(e) { $("#t" + e + "_error_tCond").addClass("bedsnone") } function ShowIsq(e) { return 1 !== parseInt(ReqObj.Form[e].disableIsq) && ("" === ReqObj.Form[e].IsqArray || ReqObj.Form[e].prevCount < ReqObj.Form[e].IsqLength) } function ShowStaticQuestionForeign(e) { return !1 } function GetObjectKeys(e) { if (Object.keys) return Object.keys(e); var t = []; for (var r in e) e.hasOwnProperty(r) && t.push(r); return t } function updateChatWidgetGlobalVar(e) { "chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() && "08" === e.substring(0, 2) && (isChatWidgetOpen = !$("#t" + e + "_chatBL").hasClass("cbl_vh")) } function OpenAndCloseChatbl(e, t) { $("#t" + e + "message_indicator").css({ display: "none" }), $("#t" + e + "_bl_form_wrapper_cta").toggleClass("bedsnone"), $("#t" + e + "_chatBL").toggleClass("heightUp"), $("#t" + e + "_chatBL_div").toggleClass("chat-min"), $("#t" + e + "_chatAnimation").toggleClass("cortana"), $("#t" + e + "_beminize").toggle(), updateChatWidgetGlobalVar(e), "chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() && "08" === e.substring(0, 2) && (isChatBlSequenceUpdated = !isSet(t) || "true" !== t || !0 === isChatBlSequenceUpdated), OpenCloseChatblTracking(e, t) } function OpenCloseChatblTracking(e, t) { var r = isSet(t) && "true" === t ? "From scroll" : "From click"; ReqObj.Form[e].source = r, $("#t" + e + "_chatBL").hasClass("heightUp") && (blenqGATracking("Post Buy Leads", ReqObj.Form[e].classfortracking + "|" + r, getEventLabel(), 1, e), blenqGATracking("Post Buy Leads", "true" === t ? "Open on scroll" : "CTA Clicked", getEventLabel(), 1, e), fireYandex(e)) } function BlAutoSuggRowNum(e) { if (isSet(e)) { var t = 5; return "202" === e && (t = 3), IsChatbl(e) && (t = 4), t } return 5 } function ReturnBlUserName(e) { var t = "", r = ""; (r = isSet(ReqObj.UserDetail.fn) && "" !== ReqObj.UserDetail.fn ? ReqObj.UserDetail.fn : usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "fn"), IsChatbl(e) && isSet(r) && "" !== r) && (t = ConversationLeftWrapper(e, "Hi " + r, { classtotest: "popup" !== chatBlPopupInline(e) ? chatBlClass(e, "left") : "txt_area cbl_bg1", leftright: "inline" === chatBlPopupInline(e) ? "message-left" : "popup" === chatBlPopupInline(e) ? "cbl_ques cbl_vh" : "" }, "name")); return t } function IsChatbl(e) { return !(!(isSet(e) && isSet(ReqObj.Form[e]) && isSet(ReqObj.Form[e].formType)) || "chatbl-inline" !== ReqObj.Form[e].formType.toLowerCase() && "chatbl" !== ReqObj.Form[e].formType.toLowerCase()) } function preventDefault(e) { (e = e || window.event).preventDefault && e.preventDefault(), e.returnValue = !1 } function keydown(e) { for (var t = [32, 33, 34, 35, 36, 37, 38, 39, 40], r = t.length; r--;)if ((!isSet(e.target.id) || "t05" !== e.target.id.substring(0, 3)) && e.keyCode === t[r]) return void preventDefault(e) } function wheel(e) { preventDefault(e) } function disable_scroll() { window.addEventListener && window.addEventListener("onmousewheel", wheel, !1), window.onmousewheel = document.onmousewheel = wheel, document.onkeydown = keydown } function enable_scroll() { window.removeEventListener && window.removeEventListener("onmousewheel", wheel, !1), window.onmousewheel = document.onmousewheel = document.onkeydown = null } function IsProduction() { return !webAddressLocation.match(/^dev/) && !webAddressLocation.match(/^stg/) } function CopyObject(e) { var t = e || {}, r = {}; for (var o in t) t.hasOwnProperty(o) && (r[o] = t[o]); return r } function ResetUserDetails(e) { ReqObj.UserDetail[e] = "" } function binaryArraySearch(e, t) { if (isSet(e)) { for (var r = t, o = 0, i = e.length - 1; o <= i;) { var a = Math.floor((o + i) / 2); if (e[a] === r) return a; e[a] > r ? i = a - 1 : e[a] < r && (o = a + 1) } return -1 } return -1 } function StaticQuesForeignUser(e) { return !1 } function isGDPRCountry() { return -1 !== $.inArray(currentISO(), ["AT", "BE", "BG", "HR", "CY", "CZ", "DK", "EE", "FI", "FR", "DE", "GR", "HU", "IE", "IT", "LV", "LT", "LU", "MT", "NL", "PL", "PT", "RO", "SK", "SI", "ES", "SE", "GB", "UK"]) } function IsTncAlreadyFilled(e) { return !(!notEmpty(usercookie.getCookie("ImeshVisitor")) && -1 !== $.inArray(currentISO(), ["AT", "BE", "BG", "HR", "CY", "CZ", "DK", "EE", "FI", "FR", "DE", "GR", "HU", "IE", "IT", "LV", "LT", "LU", "MT", "NL", "PL", "PT", "RO", "SK", "SI", "ES", "SE", "GB", "UK"])) } function updateEnrichShownKey(e, t, r) { ReqObj.Form[e].flags.isEnrichShown.isStaticShown = t, ReqObj.Form[e].flags.isEnrichShown.isAttachmentShown = r, "1" === ReqObj.Form[e].showAttachment ? ReqObj.Form[e].flags.isEnrichShown.isAttachmentShown = !1 : "0" === ReqObj.Form[e].showAttachment ? ReqObj.Form[e].flags.isEnrichShown.isAttachmentShown = !0 : "-1" === ReqObj.Form[e].showAttachment && "bl" === ReqObj.Form[e].formType.toLowerCase() ? StaticQuesForeignUser(e) ? ReqObj.Form[e].flags.isEnrichShown.isAttachmentShown = !0 : ReqObj.Form[e].flags.isEnrichShown.isAttachmentShown = !1 : "-1" === ReqObj.Form[e].showAttachment && "enq" === ReqObj.Form[e].formType.toLowerCase() && (ReqObj.Form[e].flags.isEnrichShown.isAttachmentShown = !0) } function returnIsEnrichShownKeyVal(e) { return !1 === ReqObj.Form[e].flags.isEnrichShown.isStaticShown || !1 === ReqObj.Form[e].flags.isEnrichShown.isAttachmentShown } function chatBlClass(e, t) { if ("left" === t) { if ("chatbl" === ReqObj.Form[e].formType.toLowerCase() && "08" === e.substring(0, 2)) return "message-text2"; if ("chatbl" === ReqObj.Form[e].formType.toLowerCase() && "05" === e.substring(0, 2)) return "message-text" } else if ("right" === t) { if ("chatbl" === ReqObj.Form[e].formType.toLowerCase() && "08" === e.substring(0, 2)) return "message-text3"; if ("chatbl" === ReqObj.Form[e].formType.toLowerCase() && "05" === e.substring(0, 2)) return "message-text1" } else if ("yes" === t) { if ("chatbl" === ReqObj.Form[e].formType.toLowerCase() && "08" === e.substring(0, 2)) return "blchat-btn2"; if ("chatbl" === ReqObj.Form[e].formType.toLowerCase() && "05" === e.substring(0, 2)) return "bechat-btn" } else if ("change" === t) { if ("chatbl" === ReqObj.Form[e].formType.toLowerCase() && "08" === e.substring(0, 2)) return "blchat-btn1"; if ("chatbl" === ReqObj.Form[e].formType.toLowerCase() && "05" === e.substring(0, 2)) return "bechat-btn" } } function chatBlPopupInline(e) { return "chatbl" !== ReqObj.Form[e].formType.toLowerCase() && "chatbl-inline" !== ReqObj.Form[e].formType.toLowerCase() || "08" !== e.substring(0, 2) ? "chatbl" === ReqObj.Form[e].formType.toLowerCase() && "05" === e.substring(0, 2) ? "inline" : "nochat" : "popup" } function OpenChatBLPopup(e) { isBLFormOpen = !0, "popup" === chatBlPopupInline(e) ? ("chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() && chatwidgetTransitions(e), chatblTransition(e), updateChatBlProdName(e), chatblFirstMsg(e), "chatbl-inline" !== ReqObj.Form[e].formType.toLowerCase() && stopBgScroll(), "chatbl-inline" !== ReqObj.Form[e].formType.toLowerCase() && $(".t" + e + "blk_scrn").removeClass("dn")) : $("#t" + e + "_chatBL").removeClass("bedsnone").css({ display: "table" }) } function chatblFirstMsg(e) { setTimeout(function () { if ($("#t" + e + "hi").removeClass("dn"), UpdateChatName(e), "" !== usercookie.getCookie("ImeshVisitor")) if ("V" !== usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "uv") && isSecondBl()); else { var t = $("#t" + e + "_hiid").text(); $("#t" + e + "_hiid").text(t + ", provide below details to get quick quotes from sellers") } }, 300) } function chatwidgetTransitions(e) { $("#t" + e + "_chatBL").addClass("cbl_smwrap"), $("#t" + e + "_bl_form_wrapper_cta").toggleClass("bedsnone"), $("#t" + e + "message_indicator").addClass("dn") } function chatblTransition(e) { $("#t" + e + "_chatBL").removeClass("cbl_adjust"), $("#t" + e + "_blchatfooter").removeClass("focus"), $("#t" + e + "_blchatbody").removeClass("cbl_htgrow"), $("#t" + e + "_newblchatReply").html(""), "chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() ? $("#t" + e + "_chatBL").removeClass("bedsnone cbl_vh").addClass("cbl_vv") : $("#t" + e + "_chatBL").removeClass("bedsnone").css({ display: "flex" }), $("#t" + e + "_typhere").removeClass("dn"), $("#t" + e + "_newblchatReply").addClass("cbl_vh"), $("#t" + e + "chngPrdDiv").removeClass("dn"), $("#t" + e + "_blchatfooter").focus(), "chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() && updateChatWidgetGlobalVar(e) } function updateChatBlProdName(e) { if ($("#t" + e + "_productname").html(""), "chatbl" === ReqObj.Form[e].formType.toLowerCase() && (ShowProdName(e) || "" === ReqObj.Form[e].mcatName && "" === ReqObj.Form[e].prodName)) { var t = " <span>Tell us what you need to Get Best Price</span>"; return t += "<div class='cbl_msg'>Provide below details to get quick quotes from sellers</div>", void $("#t" + e + "_productname").append(t) } t = " <span>Get Best Price </span> "; var r = "" !== ReqObj.Form[e].mcatName ? ReqObj.Form[e].mcatName : ReqObj.Form[e].prodName; "" !== r && (t += "for <span class = 'cbl_fwb productname'>" + r + "</span>"), "chatbl" === ReqObj.Form[e].formType.toLowerCase() && ("" !== usercookie.getCookie("ImeshVisitor") ? "V" !== usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "uv") && isSecondBl() && (t += "<div class='cbl_msg'>Provide below details to get quick quotes from sellers</div>") : t += "<div class='cbl_msg'>Provide below details to get quick quotes from sellers</div>"), $("#t" + e + "_productname").append(t) } function isSecondEnq() { var e = usercookie.getCookie("imEqGl"); if (isSet(e) && "" !== trimVal(e) && "undef" !== e) { for (var t = e.split(","), r = 0; r < t.length; r++)if (isSet(t[r]) && "" !== trimVal(t[r]) && "dispid" === t[r].substring(0, 6)) return !0; return !1 } return !1 } function isSecondBl() { var e = usercookie.getCookie("imEqGl"); if (isSet(e) && "" !== trimVal(e) && "undef" !== e) { for (var t = e.split(","), r = 0; r < t.length; r++)if (isSet(t[r]) && "" !== trimVal(t[r]) && "BL" === t[r].substring(0, 2)) return !0; return !1 } return !1 } function isSecondBlEnq(e) { return !!isSet(e) && (!!isSet(ReqObj.Form[e].formType) && (!("bl" !== ReqObj.Form[e].formType.toLowerCase() || !isSecondBl()) || !("enq" !== ReqObj.Form[e].formType.toLowerCase() || !isSecondEnq()))) } function foreignUserIsq() { return !0 } function pushImage(e, t, r) { ReqObj.ImageKey[e] = isSet(t) && "" !== t ? t : isSet(r) && "" !== r ? r : "" } function yandex_impression_track(e, t, r, o) { var i, a, s, n, l; "function" != typeof ym && (i = window, a = document, s = "script", i.ym = i.ym || function () { (i.ym.a = i.ym.a || []).push(arguments) }, i.ym.l = 1 * new Date, n = a.createElement(s), l = a.getElementsByTagName(s)[0], n.async = 1, n.src = "https://mc.yandex.ru/metrika/tag.js", l.parentNode.insertBefore(n, l), ym(51115208, "init", { id: 51115208, clickmap: !0, trackLinks: !0, accurateTrackBounce: !0, webvisor: !0 })), window.yaParams = { formType: t }, ym(51115208, "params", window.yaParams || {}) } function getyandexParameter(e) { var t = {}; return t.userType = usercookie.getCookie("ImeshVisitor") ? "Identified" : "UnIdentified", isSet(ReqObj.Form[e].source) && "" !== ReqObj.Form[e].source ? t.formType = ReqObj.Form[e].formType + "-" + ReqObj.Form[e].source : t.formType = ReqObj.Form[e].formType, t.modId = ReqObj.Form[e].modId, t.data_arr = [], IsChatbl(e) ? t.data_arr.push(ReqObj.Form[e].afflId) : (t.data_arr.push(ReqObj.Form[e].ctaName), t.data_arr.push(ReqObj.Form[e].section)), t } function fireYandex(e) { var t = getyandexParameter(e); yandex_impression_track(t.userType, t.formType, t.modId, t.data_arr) } function isOtherEnq(e) { return "enq" === ReqObj.Form[e].formType.toLowerCase() } function isImageVidEnq(e) { return "enq" === ReqObj.Form[e].formType.toLowerCase() && ("image" === ReqObj.Form[e].typeofform.toLowerCase() || "video" === ReqObj.Form[e].typeofform.toLowerCase()) } function getCurrentCounter(e) { return e.length } function isHindi(e) { var t = e.split(""); for (i = 0; i < t.length; i++) { var r = t[i].charCodeAt(); if (r >= 2309 && r <= 2361) return !0 } return !1 } function IpLoc() { var e = usercookie.getCookie("iploc"); "" !== e && ("" === e || "" !== usercookie.getParameterValue(e, "gip")) || navigator.userAgent.match(/googlebot|mediapartners/) ? this.captureDetailsOfIploc() : this.getIp() } function updateDispZoomImage(e, t, r, o) { var i = getImage(ReqObj.Form[e].mcatId); "bl" !== t && "popup" !== chatBlPopupInline(e) || (void 0 === i || "" === i ? (ReqObj.Form[e].displayImage = "", ReqObj.Form[e].zoomImage = "") : isSet(i) && "" !== i && (ReqObj.Form[e].displayImage = i, ReqObj.Form[e].zoomImage = i)), "bl" !== t && "popup" !== chatBlPopupInline(e) || ("" === ReqObj.Form[e].displayImage && "" === ReqObj.Form[e].zoomImage && 0 === $("#t" + e + "defaultimage").length ? (getMcatImage(e, { hasCallback: !0, cbfunc: update_image }), addImage(e, r, o)) : addImage(e, r, o)) } function addImage(e, t, r) { var o = 1 === t || "fromservice" === r ? "image" : ReqObj.Form[e].ctaType.toLowerCase(), i = [{ type: o, displayImage: isSet(ReqObj.Form[e].displayImage) ? ReqObj.Form[e].displayImage : "", zoomImage: isSet(ReqObj.Form[e].zoomImage) ? ReqObj.Form[e].zoomImage : "", vidUrl: isSet(ReqObj.Form[e].vidUrl) ? ReqObj.Form[e].vidUrl : "" }]; $("#t" + e + "_prodimg").html((new ReqImage).displayHtml(e, i, 0)), "video" !== o && $("#t" + e + "_prodimg").removeClass("bedsnone") } function update_image(e) { isSet(e) && ("" !== ReqObj.Form[e].displayImage ? $("#t" + e + "_prodimg").html((new ReqImage).getImage(e + "_dispimage", "", ReqObj.Form[e].displayImage) + '<span class="be-blrprdimg"  style="background-image: url(' + ReqObj.Form[e].displayImage + ');"></span>') : $("#t" + e + "_prodimg").html('<div id="' + e + '"defaultimage" class="be-nobgimg"><div class="blnewform_sprit be-noimg"></div></div>')) } function leftSideTransition(e, t, r) { updateDispZoomImage(t, ReqObj.Form[t].formType.toLowerCase(), e, r) } function getImage(e) { return ReqObj.ImageKey[e] } function leftSideLoadZoom(e) { $("#t" + e + "_zoomimage").on("load", function () { $("#t" + e + "_prodimg > img") && ($("#t" + e + "_prodimg > #t" + e + "_zoomimage").show(), $("#t" + e + "_prodimg > #t" + e + "_dispimage").remove()) }) } function funcOth(e) { "Other" === $("#" + e + " option:selected").val() ? ($("#other_" + e + "_1").css("display", "block"), $("#other_" + e + "_1").focus()) : $("#other_" + e + "_1").css("display", "none") } function funcClick(e, t, r) { if ($("#t" + t + "_selectDD" + r).prop("readonly") || "" === e.id) { $("#t" + t + "verify_error").text(""), $("#t" + t + "cbl_bluline").removeClass("cbl_erred"), $("#t" + t + "select_name" + r).removeClass("dn"), $(".cbl_sclBr").removeClass("dn"); var o = $("#t" + t + "select_name" + r), i = $("#t" + t + "_selectDD" + r), a = o[0].firstChild; o.find("li").click(function (e) { if (e.currentTarget !== a) { var t = $(this).html(); $(this).siblings().removeClass("cbl_selected"), $(this).addClass("cbl_selected"), $("._ul_select").addClass("dn"), $(".cbl_sclBr").addClass("dn"), "other" === t.toLowerCase() ? ($(i).removeAttr("readonly"), $(i).prop("placeholder", "enter the unit"), $(i).focus(), t = "") : $(i).attr("readonly", "true"), i.val(t), $(".cbl_skip").addClass("dn") } else e.preventDefault() }) } } function AskForCompanyName(e, t, r) { var o = $("#" + t.target.id).val(); if (isSet(o) && "" !== o) if (o = o.toLowerCase(), !0 !== r || "for reselling" !== o && "for business use" !== o) $("#t" + e + "companyname").html(""); else { var i = "bl" === ReqObj.Form[e].formType.toLowerCase() ? "" : "border-radius: 7px;", a = "enq" === ReqObj.Form[e].formType.toLowerCase() ? "color:#111;" : "color:#696969;"; $("#t" + e + "companyname").html("<label style='padding: 12px 0px 9px 0px;font-size: 15px;" + a + ";pointer-events: none;line-height:14px;display: block;'>Company Name</label>" + returnInput(e, "_compnamerb", "text", "_compnamerb", "Please enter your company name", "cpNm", "", "height:42px;vertical-align:top;padding:0px 0 0 8px;font-size: 15px;border:1px solid #c9c6c6;background-color:#fff;color: #000;width: 80%;" + i, "", "")), ReqObj.Form[e].CompanyNameAsked = !0 } } function RadioClick(e) { $(".radioClick").off("click").on("click", function (t) { chatBlPopupInline(e) && $("#t" + e + "_submitNo").parent().addClass("dn"); var r = $(this).attr("name"), o = $(this).hasClass("waschecked"); $("input[name='" + r + "']").each(function () { $(this).prop("checked", !1).removeClass("waschecked"), $(this).parent().removeClass("sl-box chksl"), $(this).siblings("label").children(".bechk-in").children().hide() }), o ? "why do you need this" !== $("#t" + e + "ques" + r.charAt(r.length - 1)).text().toLowerCase() || "bl" !== ReqObj.Form[e].formType.toLowerCase() && "enq" !== ReqObj.Form[e].formType.toLowerCase() || AskForCompanyName(e, t, !1) : ("for reselling" !== $("#" + this.id).val().toLowerCase() && "for business use" !== $("#" + this.id).val().toLowerCase() || ("1" !== localStorage.getItem("Company Name") ? AskForCompanyName(e, t, !0) : localStorage.setItem("Company Name", "1")), $(this).prop("checked", !0).addClass("waschecked"), $(this).parent().siblings(".oth_bx").children("input").val(""), "popup" !== chatBlPopupInline(e) && $(this).parent().addClass("sl-box chksl"), $(this).siblings("label").children(".bechk-in").children().show()) }) } function CheckBoxClick(e) { setTimeout(function () { $(".cbl_chekbx").focus() }, 1300), $(".cbl_chekbx_btn ").off("click").on("click", function () { "popup" === chatBlPopupInline(e) && $("#t" + e + "_submitNo").parent().addClass("dn") }), $(".CheckboxClick").off("click").on("click", function () { "popup" === chatBlPopupInline(e) && $("#t" + e + "_submitNo").parent().addClass("bedsnone"); var t = $(this); t.siblings("input").prop("checked") ? (t.children(".bechk-in").children().hide(), t.parent().removeClass("chksl")) : (t.children(".bechk-in").children().show(), "popup" !== chatBlPopupInline(e) && t.parent().addClass("chksl")) }) } function radCheck(e) { if (isSet(e)) { var t = $(e).children("span").attr("id"), r = t.slice(0, 5), o = r + "_enrich_city", a = ""; if ("Anywhere in India" !== $("#" + t).html() && "Local Only" !== $("#" + t).html() && "Specific City" !== $("#" + t).text() || $("#spcity").html(""), "Specific City" === $("#" + t).text()) { var s = ""; for (i = 1; i < 4; i++)s = "", s = o + i, a += "<div class='bepr beW15 belft text_bx'><label class='be-lbl'>City " + i + "</label><input type='text' id=" + s + " name=" + s + " autocomplete='off'  class='be-slbox' onblur='chckval(" + s + ",this.value);'><input type='hidden' id='" + s + "specificcity_hidden'></div>"; $("#spcity").length > 0 || $("#" + t).parent().parent().parent().append("<div id='spcity' class='be-row bemt5' style='height:54px;'></div>"), $("#spcity").html(a) } if ("Local Only" === $("#" + t).text() || "Anywhere in India" === $("#" + t).text()) $("#spcity").remove(); else if ("Specific City" === $("#" + t).text()) { $("#" + t).parent().siblings("input").hasClass("waschecked") && $("#spcity").remove() } enrichCityMultiple(r) } } function enrichCityMultiple(e) { for (var t = 1; t <= 3; t++)null !== document.getElementById(e + "_enrich_city" + t) && (window[e + "city_sugg_" + t] = new Suggester({ element: e + "_enrich_city" + t, onSelect: selecttext_city_enrich, type: "city", fields: "std,state,id,stateid", placeholder: "", minStringLengthToDisplaySuggestion: 1, autocompleteClass: "be-sugg", displayFields: "value,state", displaySeparator: " >> ", filters: "iso:IN", recentData: !1 })) } function selecttext_city_enrich(e, t) { isSet(t) && (this.value = t.item.value, $("#" + this.id + "specificcity_hidden").val(t.item.data.id)) } function chckval(e, t) { } function blkerr(e) { } function thankYouTrack(e, t) { return blenqGATracking(isSet(ReqObj.Form[e].formType) && "bl" === ReqObj.Form[e].formType.toLowerCase() ? "Post Buy Leads" : "Send Enquiry", t, getEventLabel(), 0, e), !0 } LoginFlag.prototype.returnLoginFlag = function (e) { return "glusrupdate" === e && "" !== e ? 2 : "verifyusr" === e && "" !== e ? 5 : "login" === e && "" !== e ? 1 : "blurlogin" === e && "" !== e ? 3 : void 0 }, LoginMode.prototype.getLoginMode = function () { var e = usercookie.getCookie("v4iilex"), t = usercookie.getCookie("im_iss"), r = usercookie.getCookie("imEqGl"), o = usercookie.getCookie("ImeshVisitor"); return "" === o && "" !== e && (usercookie.deleteCookie("v4iilex"), e = ""), "" === o && "" !== r && usercookie.deleteCookie("imEqGl"), isSet(t) && "" !== t ? 1 : isSet(o) && "" !== o ? 2 : 3 }, SetUserDetails(), loadOverlay(), IpLoc.prototype.getIp = function () { var e = this, t = location.hostname.match(/^dev/) ? "//stg-geoip.imimg.com/" : location.hostname.match(/^stg/) ? "//stg-geoip.imimg.com/" : "//geoip.imimg.com/"; isSet(glmodid) && $.ajax({ cache: !1, url: t + "api/location.php", data: { modid: glmodid, token: "imobile@15061981" }, type: "POST", dataType: "json", success: function (t) { if (isSet(t) && isSet(t.Response)) if (200 === parseInt(t.Response.Code) && "Success" === t.Response.Status) { var r = t.Response.Data; isSet(r) && (r.geoip_cityname = isSet(r.geoip_cityname) ? r.geoip_cityname : "", r.geoip_cityid = isSet(r.geoip_cityid) ? r.geoip_cityid : "", r.geoip_countryiso = isSet(r.geoip_countryiso) ? r.geoip_countryiso : "", r.geoip_countryname = isSet(r.geoip_countryname) ? r.geoip_countryname : "", r.geoip_accuracy = isSet(r.geoip_accuracy) ? r.geoip_accuracy : "", r.geoip_ipaddress = isSet(r.geoip_ipaddress) ? r.geoip_ipaddress : "", r.geoip_statename = isSet(r.geoip_statename) ? r.geoip_statename : "", e.setIpLoc(r, glmodid)) } else blenqGATracking("iploc", "service:location:failure", t.Response, 1, 0); else blenqGATracking("iploc", "service:location:failure", "response undefined", 1, 0) }, error: function (e) { e = isSet(e) ? e : "response undefined", blenqGATracking("iploc", "service:location:failure", JSON.stringify(e), 1, 0) } }) }, IpLoc.prototype.setIpLoc = function (e, t) { var r = "gcniso=" + e.geoip_countryiso + "|gcnnm=" + e.geoip_countryname + "|gctnm=" + e.geoip_cityname + "|gctid=" + e.geoip_cityid + "|gacrcy=" + e.geoip_accuracy + "|gip=" + e.geoip_ipaddress + "|gstnm=" + e.geoip_statename; usercookie.setCookie("iploc", r, .125, t), this.captureDetailsOfIploc(), reloadFlagSuggestor("iploc") }, IpLoc.prototype.captureDetailsOfIploc = function () { var e = usercookie.getCookie("iploc"); ReqObj.UserDetail.ipctid = usercookie.getParameterValue(e, "gctid"), ReqObj.UserDetail.ipcityname = usercookie.getParameterValue(e, "gctnm") }, new IpLoc; var webAddressLocation; appsServerName = (webAddressLocation = location.hostname).match(/^dev/) ? "//dev-apps.imimg.com/" : webAddressLocation.match(/^stg/) ? "//stg-apps.imimg.com/" : "//apps.imimg.com/"; function ProductName(e) { this.ProductNameHTML = "", this.onselect = 0, this.tmpId = "", ReqObj.Form[e].productObject = this, $("#t" + e + "_prodtitle").html(""), this.className = "ProductName", this.isProdNameChanged = !1, this.ProductNameHtmlObj = { Label: "", UserInput: "", OuterWrapper: "", ClosingWrapper: "" }, this.ProductNameHtmlObjArray = [] } function Callblur(e) { if (13 === (e.keyCode ? e.keyCode : e.which) && e.target.id === "t" + e.data.param1 + "prodtitle" && isSet($("#t" + e.data.param1 + "prodtitle")[0])) { for (var t = $._data($("#t" + e.data.param1 + "prodtitle")[0], "events"), r = isSet(t.blur) ? t.blur : [], o = 0; o < r.length; o++)r[o].handler(r[o]); HideSuggester() } } function IsBlEnqProdNameChanged(e) { if (isSet(e)) return !(!$("#t" + e + "prodtitle").length || "" === $("#t" + e + "prodtitle").val() || "Enter product/service name" === $("#t" + e + "prodtitle").val() || ReqObj.Form[e].prodName === $("#t" + e + "prodtitle").val()) } function RequirementDtl(e, t) { this.className = "RequirementDtl", this.RequirementDtlObj = { OuterWrapper: "", UserInput: "", ClosingWrapper: "", Label: "" }, this.Rdbox = "", this.setValue = "", this.countclick = 0, this.QuestionsToRemove = ["Why do you need this", "Any Preferred Brand", "I am interested in", "Is this a sample order", "Is It Customized", "Currency"], this.QuestionArray = [], this.type = t } function ThankYou(e) { this.payxImgUrl = "https://paywith.indiamart.com?bannerid=EN_Form", this.payxAdvUrl = "https://paywith.indiamart.com?bannerid=EN_Form_ADV_", this.ThankYouHtml = "", this.AfterThankYouHtml = "", this.className = "ThankYou", this.idToHide = "", this.idToAppend = "", this.addUnitDiv = IsChatbl(e) ? "chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() ? "<div id='div-gpt-ad-1583149499454-0' style='width: 320px; height: 50px;'></div>" : "<div id='ca-pub-1282188796495854' style='width: 728px; height: 90px;'></div>" : "<div id='div-gpt-ad-1576734581911-0' style='width: 728px; height: 90px;margin: 0px auto 21px;'></div>", this.adsMcat = ["148850", "12728", "142719", "178788", "184859"], this.initialisation(e) } ProductName.prototype.addHtmlObjToArray = function (e) { this.ProductNameHtmlObjArray.push(e) }, ProductName.prototype.displayAnswer = function (e) { var t = chatBlClass(e, "right"), r = "inline" === chatBlPopupInline(e) ? "message-right" : "popup" === chatBlPopupInline(e) ? "cbl_ansr" : ""; return [ConversationRightWrapper(e, returnAnswer(e, "ProductName"), { classtotest: t, leftright: r })] }, ProductName.prototype.hasHtml = function (e) { if (isSet(e)) { this.tmpId = e.tmpId; var t = e.tmpId; if (this.addHtmlObjToArray(this.getProductHtml(t)), "popup" !== chatBlPopupInline(t)) { var r = { SuffixOuterHtml: "<div  id='t" + t + "_prodtitle'>", SuffixClosingHtml: "</div>", suffix: "_prodtitle" }; this.ProductNameHTML = MakeWrapper([this.ProductNameHtmlObjArray], t, r, "") } else { r = { SuffixOuterHtml: "<div  id='t" + t + "_prodtitle' class = 'cbl_ques cbl_vh'>", SuffixClosingHtml: "</div>", suffix: "_prodtitle" }; this.ProductNameHTMLQues = MakeWrapper([this.ProductNameHtmlObjArray], t, r, "ques"); r = { SuffixOuterHtml: "<div class = 'cbl_dtls cbl_prdchng cbl_df t" + t + "_userInput dn'>", SuffixClosingHtml: "", suffix: "_prodtitle" }; this.ProductNameHTMLInput = MakeWrapper([this.ProductNameHtmlObjArray], t, r, "input"), this.ProductNameHTML = this.ProductNameHTMLQues + this.ProductNameHTMLInput } "" !== this.ProductNameHTML ? this.ifHtmlPresent(e, t) : this.ifHtmlNotPresent(e, t) } }, ProductName.prototype.ifHtmlPresent = function (e, t) { if (e.that.NumberofClassCalled -= 1, AttachObject(e.object, t), isSet(e.AfterService)) for (var r = 0; r < e.AfterService.length; r++)e.that.MakeSeq(e.AfterService[r], t); 0 === e.that.NumberofClassCalled && makeFinalSeq(e, t) }, ProductName.prototype.ifHtmlNotPresent = function (e, t) { e.hasFallback ? CreateSeq(e.FallbackObj) : e.that.NumberofClassCalled -= 1 }, ProductName.prototype.returnProductInput = function (e, t) { return '<input templateId="' + e + '" class="' + t + '" type="text" name="q_title" id="t' + e + 'prodtitle" onblur="" maxlength="100" placeholder="Enter product / service name" autocomplete="off" spellcheck="true" role="textbox" aria-autocomplete="list" aria-haspopup="true">' }, ProductName.prototype.returnProductError = function (e, t, r) { return IsChatbl(e) ? '<div class="' + r + '" id="t' + e + '_error_title">Enter product/service name' : '<div class="' + r + '" id="t' + e + '_error_title"><div data-role="content">Enter product/service name</div>' }, ProductName.prototype.getInput = function (e, t) { this.ProductNameHtmlObj.UserInput = IsChatbl(e) ? this.getChatBlInputHtml(e, t) : this.getBlEnqInputHtml(e, t) }, ProductName.prototype.getChatBlInputHtml = function (e, t) { var r = "inline" === chatBlPopupInline(e) || "popup" === chatBlPopupInline(e) ? "be-slbox inpt_errorbx chatpdg" : "", o = ""; o += this.returnProductInput(e, r); var i = returnContainer("", "", "chat-arrow", "", "", ""); i += "</div>"; var a = "inline" === chatBlPopupInline(e) ? "chat-arowicon1" : "popup" === chatBlPopupInline(e) ? "chat-arowicon1" : ""; return o += "popup" === chatBlPopupInline(e) ? "" : returnButton("t" + e, "_submit", i, a), o += this.returnProductError(e, t, "redc bltperor"), o += "</div>" }, ProductName.prototype.getBlEnqInputHtml = function (e, t) { var r = ""; return r += this.returnProductInput(e, "be-slbox inpt_errorbx be-row"), r += this.returnProductError(e, t, "beerrp4 bedsnone be-erbx"), r += '<a class="be-erarw" data-role="arrow"></a></div>' }, ProductName.prototype.getLabel = function (e, t) { this.ProductNameHtmlObj.Label = IsChatbl(e) ? this.getChatBlLabelHtml(e, t) : this.getBlEnqLabelHtml(e, t) }, ProductName.prototype.getChatBlLabelHtml = function (e, t) { return returnLabel("t" + e, "Please enter Product/Service name", "_name-l", "") }, ProductName.prototype.getBlEnqLabelHtml = function (e, t) { return returnLabel("t" + e, "Enter Product/Service name", "_name-l", "be-lbl") }, ProductName.prototype.getProductHtml = function (e) { return this.getLabel(e, ReqObj.Form[e].formType.toLowerCase()), this.getInput(e, ReqObj.Form[e].formType.toLowerCase()), this.ProductNameHtmlObj.ClosingWrapper = "", this.ProductNameHtmlObj.OuterWrapper = "", this.ProductNameHtmlObj }, ProductName.prototype.displayHtml = function () { return "popup" === chatBlPopupInline(this.tmpId) ? [this.ProductNameHTMLQues, this.ProductNameHTMLInput] : [this.ProductNameHTML] }, ProductName.prototype.handleUI = function (e) { var t = e.data.tmpId; "default" === e.data.todo && (this.setTitleSuggester(t), $("#t" + t + "_error_title").addClass("bedsnone"), $("#t" + t + "prodtitle").removeClass("highlight-err"), $("#t" + t + "_name-l").removeClass("redc"), this.showMcatFilled(t)) }, ProductName.prototype.handleHeading = function (e) { ButtonNameUI(ReqObj.Form[e].currentScreen, e) }, ProductName.prototype.defaultEvents = function (e) { this.handleUI({ data: { tmpId: e, todo: "default" } }), this.handleEvents(e), $(document).off("click.prodName keypress.prodName keydown.prodName").on("click.prodName keypress.prodName keydown.prodName", ".inpt_errorbx", function () { $("#t" + e + "_error_title").addClass("bedsnone"), $("#t" + e + "prodtitle").removeClass("highlight-err"), $("#t" + e + "_name-l").removeClass("redc") }) }, ProductName.prototype.AddBlur = function (e) { $("#t" + e + "prodtitle").off("blur.blEnqProdNameBlur").on("blur.blEnqProdNameBlur", { param1: e, param2: "blur", pnObject: this }, this.checkMcatIDJquery) }, ProductName.prototype.RemoveBlur = function (e) { $("#t" + e + "prodtitle").off("blur.blEnqProdNameBlur") }, ProductName.prototype.handleEvents = function (e) { this.IsEnterPressed = !1; var t = this; $(document).ready(function () { if (!$("#t" + e + "_blchatfooter").hasClass("focus") && setTimeout(function () { $("#t" + e + "_blchatfooter").addClass("focus") }, 1e3), !$("#t" + e + "_typhere").hasClass("dn") && setTimeout(function () { $("#t" + e + "_typhere").addClass("dn"), $("#t" + e + "_newblchatReply").removeClass("cbl_vh") }, 1099), ReqObj.Form[e].flags.autofocusPName && $("#t" + e + "prodtitle").focus(), "chatbl" !== ReqObj.Form[e].formType) { t.AddBlur(e), $("#t" + e + "prodtitle").off("mouseleave.BlEnqEvent").on("mouseleave.BlEnqEvent", function () { $("#t" + e + "_cls").each(function () { "block" !== $(this).css("display") && "inline-block" !== $(this).css("display") || ($(this).off("mouseenter.BlEnqEvent").on("mouseenter.BlEnqEvent", function (r) { t.RemoveBlur(e) }), $(this).off("mouseleave.BlEnqEvent").on("mouseleave.BlEnqEvent", function () { t.AddBlur(e) })) }) }), $(document).off("mouseenter.BlEnqEvent").on("mouseenter.BlEnqEvent", ".t" + e + "_prodName", function (r) { "block" !== $(this).css("display") && "inline-block" !== $(this).css("display") || t.RemoveBlur(e) }), $(document).off("mouseleave.BlEnqEvent").on("mouseleave.BlEnqEvent", ".t" + e + "_prodName", function () { "block" !== $(this).css("display") && "inline-block" !== $(this).css("display") || t.AddBlur(e) }); var r = $("#t" + e + "_submit").css("display"); "block" !== r && "inline-block" !== r || ($("#t" + e + "_submit").off("mouseenter.BlEnqEvent").on("mouseenter.BlEnqEvent", function () { t.RemoveBlur(e) }), $("#t" + e + "_submit").off("mouseleave.SubmitBtn").on("mouseleave.SubmitBtn", function () { t.AddBlur(e) })) } $("#t" + e + "prodtitle").off("keypress.BlEnqEvent").on("keypress.BlEnqEvent", function (r) { 13 === (r.keyCode ? r.keyCode : r.which) && ($("#t" + e + "_submit").is(":disabled") || (t.IsEnterPressed = !0, $("#t" + e + "prodtitle").off("blur"), HideSuggester())) }) }) }, ProductName.prototype.setTitleSuggester = function (e) { var t = this, r = "sugg_title_" + e, o = setInterval(function () { if ("undefined" != typeof Suggester) { $(".t" + e + "_prodName").each(function () { $(this).remove() }); var i = SetAutoCompleteClass(e, "_prodName"), a = BlAutoSuggRowNum(e); window[r] = new Suggester({ element: "t" + e + "prodtitle", getQuotation: !1, onSelect: t.selectTitle, fields: "", type: "product", module: "BL-FORM", rowsToDisplay: a, recentData: 1, autocompleteClass: i }), JSON.stringify(r) && (isSet(e) && isSet(ReqObj.Form[e]) && isSet(ReqObj.Form[e].flags) && (ReqObj.Form[e].flags.isTitleSuggSet = !0), clearInterval(o)) } }, 1e3) }, ProductName.prototype.selectTitle = function (e, t) { var r = ReqObj.Form[$(this).attr("templateId")].productObject; isSet(r) && $("#t" + r.tmpId + "prodtitle").length && ReqObj.Form[r.tmpId].prodName !== $("#t" + r.tmpId + "prodtitle").val() && (isSet(t) && isSet(t.item) ? (t.item.value && ($("#t" + r.tmpId + "prodtitle").val(t.item.value), IsChatbl(r.tmpId) && (ReqObj.Form[r.tmpId].UserInputs.ProductName = t.item.value), ReqObj.Form[r.tmpId].prodName = t.item.value, ReqObj.Form[r.tmpId].prodDispName = "", ReqObj.Form[r.tmpId].mcatName = ""), isSet(t.item.mcat_id) && isSet(t.item.mcat_id[0]) && isSet(t.item.cat_id) && isSet(t.item.cat_id[0]) ? (ReqObj.Form[r.tmpId].mcatId = t.item.mcat_id[0], ReqObj.Form[r.tmpId].catId = t.item.cat_id[0], ReqObj.Form[r.tmpId].callLeftSide = !1, r.getMcatImage(r.tmpId, "select"), isSet(r.tmpId) && "09" === r.tmpId.substring(0, 2) && AfterFormDefaults(r.tmpId), $("#t" + r.tmpId + "prodtitle").focus()) : (ReqObj.Form[r.tmpId].IsProdNameChanged = !0, r.getMcatDetail($("#t" + r.tmpId + "prodtitle").val(), r.tmpId, "select"))) : (ReqObj.Form[r.tmpId].IsProdNameChanged = !0, r.getMcatDetail($("#t" + r.tmpId + "prodtitle").val(), r.tmpId, "select"))) }, ProductName.prototype.SaveDetails = function (e, t) { IsChatbl(e) && (ReqObj.Form[e].UserInputs.ProductName = $("#t" + e + "prodtitle").val()) }, ProductName.prototype.getMcatImage = function (e) { if (isSet(e) && isSet(ReqObj.Form[e]) && isSet(ReqObj.Form[e].formType) && ("chatbl" !== ReqObj.Form[e].formType.toLowerCase() || "popup" === chatBlPopupInline(e))) { var t = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads"; $("#t" + e + "_imglodr").removeClass("bedsnone"), ReqObj.Form[e].mcatImage = "", isSet(ReqObj.Form[e].mcatId) && -1 !== parseInt(ReqObj.Form[e].mcatId) ? $.ajax({ cache: !1, url: appsServerName + "index.php?r=postblenq/McatDtl", type: "GET", crossOrigin: !0, crossDomain: !0, timeout: 3e3, data: { modid: ReqObj.Form[e].modId, mcatid: ReqObj.Form[e].mcatId }, dataType: "json", success: function (r) { if (isSet(r) && isSet(r.Response) && 200 === parseInt(r.Response.Code) && isSet(r.Response.Data)) { if (isSet(r.Response.Data.glcat_mcat_img1_250x250)) { var o = r.Response.Data.glcat_mcat_img1_250x250; o = o.replace("http:", ""), ReqObj.Form[e].displayImage = o, ReqObj.Form[e].zoomImage = o, ReqObj.Form[e].vidUrl = "", pushImage(ReqObj.Form[e].mcatId, o, "") } } else blenqGATracking(t, "service:McatDtl:failure", r, 1, e) }, error: function (r) { var o = isSet(r) ? r : "response undefined"; blenqGATracking(t, "service:McatDtl:failure", o, 1, e) }, complete: function () { $("#t" + e + "_imglodr").addClass("bedsnone"), leftSideTransition(0, e, "fromservice") } }) : -1 === parseInt(ReqObj.Form[e].mcatId, 10) && (ReqObj.Form[e].displayImage = "", ReqObj.Form[e].zoomImage = "", $("#t" + e + "_imglodr").addClass("bedsnone"), leftSideTransition(0, e)) } }, ProductName.prototype.getMcatDetail = function (e, t, r, o) { var i = this, a = "//apps.imimg.com/models/mcatid-suggestion.php?search_param=" + encodeURIComponent(e); isSet(e) && (addBlLoader(t, "center"), ReqObj.Form[t].mcatId = -2, IsChatbl(t) && $("#t" + t + "prodtitle").prop("disabled", !0).addClass("chatblur"), IsChatbl(t) && $("#t" + t + "_submit").prop("disabled", !0).addClass("chatblur"), $.ajax({ cache: !1, url: a, type: "GET", dataType: "json", success: function (e) { isSet(e) && e.mcatid && e.catid ? (ReqObj.Form[t].mcatId = e.mcatid, ReqObj.Form[t].catId = e.catid, ReqObj.Form[t].mcatType = e.type, ReqObj.Form[t].prodDispName = "", ReqObj.Form[t].mcatName = "") : (ReqObj.Form[t].mcatId = -1, ReqObj.Form[t].catId = -1, ReqObj.Form[t].mcatType = "") }, error: function (e, r, o) { ReqObj.Form[t].mcatId = -1, ReqObj.Form[t].catId = -1, ReqObj.Form[t].mcatType = "" }, complete: function (a) { IsChatbl(t) && $("#t" + t + "prodtitle").prop("disabled", !1).removeClass("chatblur"), IsChatbl(t) && $("#t" + t + "_submit").prop("disabled", !1).removeClass("chatblur"), StaticQuesForeignUser(t) && ("p" === ReqObj.Form[t].mcatType.toLowerCase() ? ReqObj.Form[t].modrefType = "product" : ReqObj.Form[t].modrefType = "company"), removeBLLoader(t, "center"), i.isProdNameChanged && DirectSubmitWithoutBlur(t), ReqObj.Form[t].prodName = e, ReqObj.Form[t].callLeftSide = !1, "popup" === chatBlPopupInline(t) && ("" !== ReqObj.Form[t].mcatName ? updateChatBlProdName(t) : $(".productname").text(ReqObj.Form[t].prodName)), i.getMcatImage(t), isSet(o) && PostAjax(o, t), !isSet(r) || "blur" !== r && "select" !== r || (ReqObj.Form[t].flags.autofocusPName = !0, $("#t" + t + "prodtitle").length > 0 && $("#t" + t + "prodtitle").val() === e && ("chatbl" !== ReqObj.Form[t].formType.toLowerCase() ? AfterFormDefaults(t) : GetIsqFromService(t)), IsChatbl(t)) } })) }, ProductName.prototype.showMcatFilled = function (e) { var t = ""; "" !== ReqObj.Form[e].prodName && (void 0 !== ReqObj.Form[e].prodServ && "C" !== ReqObj.Form[e].prodServ ? t = ReqObj.Form[e].prodName : "C" === ReqObj.Form[e].prodServ && "BL" === ReqObj.Form[e].formType && (t = ReqObj.Form[e].prodName)), "popup" !== chatBlPopupInline(e) && $("#t" + e + "prodtitle").val(t) }, ProductName.prototype.onSubmit = function (e) { var t = PreAjax("ProductName", e); IsBlEnqProdNameChanged(e) && (this.isProdNameChanged = !0), this.checkMcatID({ param1: e, param2: "submit" }, t) }, ProductName.prototype.validate = function (e, t) { var r = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", o = $("#t" + e + "prodtitle").val(); isSet(validation) || createGlobalObject(); var i = validation.isProductNameValid(o), a = ReqObj.Form[e].FormSequence.StepCounter + 1; return !1 !== i.type || (blenqGATracking(r, "Validation_Error_Prd_Title|" + a + "|ProductName", getEventLabel(), 1, e), "popup" === chatBlPopupInline(e) ? ($("#t" + e + "verify_error").text(i.error), $("#t" + e + "cbl_bluline").addClass("cbl_erred")) : ($("#t" + e + "_error_title").removeClass("bedsnone").focus(), $("#t" + e + "prodtitle").addClass("highlight-err")), "chatbl" !== ReqObj.Form[e].formType.toLowerCase() && $("#t" + e + "_name-l").addClass("redc"), !1) }, ProductName.prototype.checkMcatIDJquery = function (e) { e.data.pnObject.checkMcatID(e.data) }, ProductName.prototype.checkMcatID = function (e, t) { var r = e.param1, o = e.param2; IsBlEnqProdNameChanged(r) ? this.getMcatDetail($("#t" + r + "prodtitle").val(), r, o, t) : isSet(t) && PostAjax(t, r) }, RequirementDtl.prototype.hasHtml = function (e) { isSet(e) && ("isq" === this.type ? (ReqObj.Form[e.tmpId].ReqDtl.HasHtmlCalled = !0, "" === ReqObj.Form[e.tmpId].IsqArray ? ReqObj.Form[e.tmpId].GlobalRdObj.RdObj = e : isSet(ReqObj.Form[e.tmpId].GlobalRdObj) && "function" == typeof ReqObj.Form[e.tmpId].GlobalRdObj.AttachingObject && ReqObj.Form[e.tmpId].GlobalRdObj.AttachingObject(e)) : "" !== this.getHtml(e.tmpId) ? this.ifHtmlPresent(e) : this.ifHtmlNotPresent(e)) }, RequirementDtl.prototype.displayHtml = function (e) { if (isSet(e)) { if (ReqObj.Form[e].flags.isDescDivShown = !0, this.getHtml(e), "popup" === chatBlPopupInline(e)) { t = { SuffixOuterHtml: "<div  id='t" + e + "_reqbox' class='cbl_ques cbl_vh'>", SuffixClosingHtml: "</div>", suffix: "_reqbox" }; return this.RdboxQues = MakeWrapper([[this.RequirementDtlObj]], e, t, "ques"), t = { SuffixOuterHtml: "<div  id='t" + e + "_reqboxInput ' class='cbl_dtls cbl_name cbl_df t" + e + "_userInput dn'>", SuffixClosingHtml: "</div>", suffix: "_reqbox" }, this.RdboxInput = MakeWrapper([[this.RequirementDtlObj]], e, t, "input"), this.Rdbox = this.RdboxQues + this.RdboxInput, [this.RdboxQues, this.RdboxInput] } var t = { SuffixOuterHtml: "<div  id='t" + e + "_reqbox' class='bepdpreq bemt15'>", SuffixClosingHtml: "</div>", suffix: "_reqbox" }; return this.Rdbox = MakeWrapper([[this.RequirementDtlObj]], e, t, ""), [this.Rdbox] } }, RequirementDtl.prototype.ifHtmlPresent = function (e) { if (e.that.NumberofClassCalled -= 1, AttachObject(e.object, e.tmpId), isSet(e.AfterService)) for (var t = 0; t < e.AfterService.length; t++)e.that.MakeSeq(e.AfterService[t], e.tmpId); 0 === e.that.NumberofClassCalled && makeFinalSeq(e, e.tmpId) }, RequirementDtl.prototype.ifHtmlNotPresent = function (e) { e.hasFallback && CreateSeq(e.FallbackObj) }, RequirementDtl.prototype.getHtml = function (e) { var t = "isq" === this.type ? 0 : 1; this.getInput(e, t), this.getLabel(e) }, RequirementDtl.prototype.getPrefilledText = function (e) { var t = "Hi,\n"; return "product" === ReqObj.Form[e].modrefType.toLowerCase() ? t += "I am interested in buying " + ReqObj.Form[e].prodName : t += "I am looking for service provider for " + ReqObj.Form[e].prodName, t += "\nKindly send me quotations." }, RequirementDtl.prototype.getInput = function (e, t) { var r = ""; if (r += "popup" === chatBlPopupInline(e) ? "" : returnContainer("", "", "betarea", "", "", ""), 0 === t) { var o = this.returnIsqAsButton(e); if (isSet(o) && "" !== o) this.setValue = "yes", r += "<textarea class='be-slbox be-txtarea' id='t" + e + "_reqBoxTemplates' placeholder='" + (i = "Mention more details about your requirement.") + "' value = '' style='font-size:13px' isqattr = 'true'></textarea><div class='New-Fld'><p>Add more details</p>", r += o; else r += "<textarea class='be-slbox be-txtarea' id='t" + e + "_reqBoxTemplates' placeholder='" + (i = this.getPlaceHolderText(e)) + "'></textarea>"; r += "</div>" } else { var i = this.getPlaceHolderText(e); r += "popup" === chatBlPopupInline(e) ? "<input class='cbl_name cbl_txt' id = 't" + e + "_reqBoxTemplates' placeholder='" + i + "'></input>" : "<textarea class='be-slbox be-txtarea' id='t" + e + "_reqBoxTemplates' placeholder='" + i + "'></textarea>" } r += "popup" === chatBlPopupInline(e) ? skipDiv(e) : "", r += "</div>", this.RequirementDtlObj.UserInput = r }, RequirementDtl.prototype.getPlaceHolderText = function (e) { return isOtherEnq(e) ? "Additional details about your requirement..." : "popup" === chatBlPopupInline(e) ? "You can enter specific details here..." : "IN" === currentISO() ? "" : (chatBlPopupInline(e), "") }, RequirementDtl.prototype.getLabel = function (e) { "chatbl" !== ReqObj.Form[e].formType.toLowerCase() && (this.RequirementDtlObj.Label = "<div class='be-erbx beerrp6 bedsnone' id='t" + e + "_textarea_error'><div id='t" + e + "_textarear_cont' data-role='content'>Please enter your requirement in Detail</div><a class='be-erarw' data-role='arrow'></a></div>"); var t = { lblClass: "be-lbl", labelId: "t" + e + "_textarea", QuestionDesc: "Requirement Details" }; !isOtherEnq(e) || "09" !== e.substring(0, 2) || "1" !== ReqObj.Form[e].disableIsq && ReqObj.Form[e].IsqArray !== [] && null !== ReqObj.Form[e].IsqArray || (t.QuestionDesc = "Write your message here"), this.RequirementDtlObj.Label = MakeLabel(t, "", e) }, RequirementDtl.prototype.returnIsqAsButton = function (e) { if (isSet(ReqObj.Form[e].IsqArray)) { var t = "", r = this.getIsqAsQuestions(e); this.QuestionArray = r; for (var o = r.length, i = 0; i < o; i++)t += returnInput("t" + e, "isqtypebtn" + i, "button", "isqtypebtn" + i, "", "button", r[i], "", "", ""); return t } }, RequirementDtl.prototype.getIsqAsQuestions = function (e) { ReqObj.Form[e].toGetQuestionsOnly = !0; for (var t = ReqObj.Form[e].IsqArray, r = ReqObj.Form[e].IsqArray.length, o = [], i = 0; i < r; i++)FindIsqObjectQuestions(t[i], e, 0, !1, o); var a = ReqObj.Form[e].Isq.getIsqQuestionString; this.modifyQuestionArray(ReqObj.Form[e].Isq.currentQuestionString, a); return this.modifyQuestionArray(this.QuestionsToRemove, a) }, RequirementDtl.prototype.modifyQuestionArray = function (e, t) { for (var r = e.length, o = 0; o < r; o++)if (-1 !== $.inArray(e[o], t)) { var i = t.indexOf(e[o]); t.splice(i, 1) } return t }, RequirementDtl.prototype.AttachingObject = function (e) { if (isSet(e)) if (null !== ReqObj.Form[e.tmpId].IsqArray) { if (e.that.NumberofClassCalled -= 1, AttachObject(e.object, e.tmpId), isSet(e.AfterService)) for (var t = 0; t < e.AfterService.length; t++)e.that.MakeSeq(e.AfterService[t], e.tmpId); 0 === e.that.NumberofClassCalled && makeFinalSeq(e, e.tmpId) } else e.hasFallback && CreateSeq(e.FallbackObj) }, RequirementDtl.prototype.resetClass = function (e) { ReqObj.Form[e].flags.isDescDivShown = !1, ReqObj.Form[e].flags.isDescDivShown ? ReqObj.Form[e].prevCount -= ReqObj.Form[e].IsqStepN : ReqObj.Form[e].prevCount -= ReqObj.Form[e].IsqStep1 }, RequirementDtl.prototype.defaultEvents = function (e) { if (isSet(e)) { var t = "isq" === this.type ? "isqasbutton" : ""; this.handleEvents({ data: { tmpId: e, todo: t, obj: this } }), this.handleUI({ data: { tmpId: e, todo: "defaults", obj: this } }), !$("#t" + e + "_blchatfooter").hasClass("focus") && setTimeout(function () { $("#t" + e + "_blchatfooter").addClass("focus") }, 1e3), !$("#t" + e + "_typhere").hasClass("dn") && setTimeout(function () { $("#t" + e + "_typhere").addClass("dn"), $("#t" + e + "_newblchatReply").removeClass("cbl_vh") }, 1099); var r = $("#t" + e + "_reqBoxTemplates"); if (StaticQuesForeignUser(e) && !IsChatbl(e)) "true" === $("#t" + e + "_reqBoxTemplates").attr("isqattr") ? (r.height(100), r.css("line-height", "16px")) : r.height(80); isSet(ReqObj.Form[e].ReqDtlBox) ? r.text(ReqObj.Form[e].ReqDtlBox) : ReqObj.Form[e].ReqDtlBox = "", r.off("blur").on("blur", function (t) { ReqObj.Form[e].ReqDtlBox = $("#t" + e + "_reqBoxTemplates").val() }), "-126" === ReqObj.Form[e].afflId && r.attr("placeholder", "Type your message here..."), r.on("focus", function () { r.removeClass("highlight-err"), $("#t" + e + "_textarea").removeClass("redc"), $("#t" + e + "_textarea_error").addClass("bedsnone") }), IsChatbl(e) && ("popup" === chatBlPopupInline(e) ? setTimeout(function () { r.focus() }, 1300) : r.focus()) } get_buyer_info(e), "" !== usercookie.getCookie("ImeshVisitor") && $("#t" + e + "_leftR").removeClass("lftMgn") }, RequirementDtl.prototype.EventIfScreenPresent = function (e) { isOtherEnq(e) && (this.handleHeading(e), ButtonNameUI("isq", e)) }, RequirementDtl.prototype.handleHeading = function (e) { ReqObj.Form[e].ctaheadingappend = !1, "isqrequirementdtl" === ReqObj.Form[e].currentScreen.toLowerCase() ? "hidden" === $("#isq_first_screen").attr("type") && "Screen1" === $("#isq_first_screen").attr("value") ? ReqObj.Form[e].IsqLength < 3 ? (ReqObj.Form[e].ctaheadingappend = 0 === ReqObj.Form[e].FormSequence.StepCounter, "image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || 0 !== ReqObj.Form[e].FormSequence.StepCounter ? $("#t" + e + "_hdg").removeClass("bedsnone").html(getFormHeading(e, "Isq")) : $("#t" + e + "_hdg").addClass("bedsnone").html("")) : "image" !== ReqObj.Form[e].typeofform.toLowerCase() && "video" !== ReqObj.Form[e].typeofform.toLowerCase() || 0 !== ReqObj.Form[e].FormSequence.StepCounter ? $("#t" + e + "_hdg").removeClass("bedsnone").html(getFormHeading(e, "isqrequirementdtl")) : $("#t" + e + "_hdg").addClass("bedsnone").html("") : $("#t" + e + "_hdg").removeClass("bedsnone").html(getFormHeading(e, "isqrequirementdtl")) : "requirementdtl" === ReqObj.Form[e].currentScreen.toLowerCase() && ("hidden" === $("#isq_first_screen").attr("type") && "Screen1" === $("#isq_first_screen").attr("value") ? $("#t" + e + "_hdg").removeClass("bedsnone").html(getFormHeading(e, "isqrequirementdtl")) : $("#t" + e + "_hdg").removeClass("bedsnone").html(getFormHeading(e, "requirementdtl"))) }, RequirementDtl.prototype.handleButton = function (e) { ButtonNameUI("requirementdtl", e) }, RequirementDtl.prototype.handleEvents = function (e) { var t = e.data.tmpId, r = e.data.todo, o = e.data.obj; if ("isqasbutton" === r) for (var i = this.QuestionArray.length, a = 0; a < i; a++)$("#t" + t + "isqtypebtn" + a).off("click").on("click", { text: $("#t" + t + "isqtypebtn" + a).val(), obj: o, tmpId: t, todo: r, element: "#t" + t + "isqtypebtn" + a }, o.handleUI) }, RequirementDtl.prototype.handleUI = function (e) { var t = e.data.tmpId, r = e.data.todo, o = e.data.obj; if ("defaults" === r && "yes" === o.setValue && $("#t" + t + "_reqBoxTemplates").val(), "isqasbutton" === r) { o.countclick++; var i = e.data.text, a = e.data.element; $(a).css("background-color", "#ededed"), o.fireTracking({ data: { tmpId: t, todo: "onsuggselect", text: i } }); var s = $("#t" + t + "_reqBoxTemplates").val(); i = 1 === o.countclick ? s + i + " : " : s + "\n" + i + " : ", "popup" === chatBlPopupInline(t) ? setTimeout(function () { $("#t" + t + "_reqBoxTemplates").focus().val(i) }, 1300) : $("#t" + t + "_reqBoxTemplates").focus().val(i), "popup" !== chatBlPopupInline(t) && scrollSmoothToBottom("t" + t + "_reqBoxTemplates") } }, RequirementDtl.prototype.validate = function (e) { if (isSet(e) && isSet(ReqObj.Form[e]) && 1 === parseInt(ReqObj.Form[e].rdMend)) { var t = $("#t" + e + "_reqBoxTemplates"); return isSet(validation) || createGlobalObject(), !1 !== validation.isDescriptionFilled(t.val()).type || (this.fireTracking({ data: { tmpId: e, todo: "default" } }), "popup" !== chatBlPopupInline(e) && t.addClass("highlight-err").parent().siblings("label").addClass("redc"), t.parent().siblings(".be-erbx").removeClass("bedsnone"), !1) } return !0 }, RequirementDtl.prototype.fireTracking = function (e) { var t = e.data.todo, r = e.data.tmpId, o = "Enq" === ReqObj.Form[r].formType ? "Send Enquiry" : "Post Buy Leads"; "default" === t && blenqGATracking(o, "Validation_Error_Desc|" + (ReqObj.Form[r].FormSequence.StepCounter + 1) + "|RequirementDetail", getEventLabel(), 0, r); "onsuggselect" === t && blenqGATracking(o, "|Suggselected-" + e.data.text + "|mcat-" + ("product" === ReqObj.Form[r].modrefType.toLowerCase() ? ReqObj.Form[r].prodName : ReqObj.Form[r].mcatName), getEventLabel(), 0, r) }, RequirementDtl.prototype.SaveDetails = function (e) { isSet(e) && (ReqObj.Form[e].ReqDtlBox = $("#t" + e + "_reqBoxTemplates").val(), isSet(ReqObj.Form[e].ReqDtlBox) && ReqObj.Form[e].ReqDtlBox && (ReqObj.Form[e].ReqDtlBox = ReqObj.Form[e].ReqDtlBox.trim())) }, RequirementDtl.prototype.displayAnswer = function (e) { var t = NotFilled; return isSet(ReqObj.Form[e].ReqDtlBox) && ReqObj.Form[e].ReqDtlBox && (t = ReqObj.Form[e].ReqDtlBox), [ConversationRightWrapper(e, t, { classtotest: chatBlClass(e, "right"), leftright: "inline" === chatBlPopupInline(e) ? "message-right" : "popup" === chatBlPopupInline(e) ? "cbl_ansr" : "" })] }, RequirementDtl.prototype.onSubmit = function (e) { if (isSet(e)) { var t = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", r = PreAjax("RequirementDtl", e), o = location.hostname, i = o.match(/^dev/) ? "//dev-apps.imimg.com/" : o.match(/^stg/) ? "//stg-apps.imimg.com/" : "//apps.imimg.com/", a = "enq" !== ReqObj.Form[e].formType.toLowerCase() || ReqObj.Form[e].hitFinishEnquiryService, s = ""; if (s = IsChatbl(e) ? "BL" : ReqObj.Form[e].formType, ReqObj.Form[e].ReqDtlBox && ValidGenId(ReqObj.Form[e].generationId)) { var n = { enrichDesc: "", offer_id: ReqObj.Form[e].generationId, s_glusrid: usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "glid"), modid: ReqObj.Form[e].modId, blEnqFlag: s }, l = ""; "" !== trimVal(ReqObj.Form[e].ReqDtlBox) && "" !== trimVal(ReqObj.Form[e].EnrichmentVal) && (l = ", "), n.enrichDesc = ReqObj.Form[e].ReqDtlBox + l + ReqObj.Form[e].EnrichmentVal, isSet(ReqObj.Form[e].formType) && "enq" === ReqObj.Form[e].formType.toLowerCase() && (n.r_glusrid = ReqObj.Form[e].rcvGlid, n.q_dest = ReqObj.Form[e].query_destination), $.ajax({ cache: !1, url: i + "index.php?r=Newreqform/saveEnrichment", type: "GET", dataType: "json", crossOrigin: !0, crossDomain: !0, data: n, success: function (o) { isSet(o) ? 1 === parseInt(o.success) ? (blenqGATracking(t, "service:saveEnrichment:success", getEventLabel(), 1, e), PostAjax(r, e)) : (blenqGATracking(t, "service:saveEnrichment:failure", o, 1, e), Ajaxfailure(r, e, a)) : (blenqGATracking(t, "service:saveEnrichment:failure", "response undefined", 1, e), Ajaxfailure(r, e, a)) }, error: function (o) { o = isSet(o) ? JSON.stringify(o) : "response undefined", blenqGATracking(t, "service:saveEnrichment:failure", o, 1, e), Ajaxfailure(r, e, a) } }) } else PostAjax(r, e) } }, ThankYou.prototype.initialisation = function (e) { "chatbl" !== ReqObj.Form[e].formType.toLowerCase() && (this.idToAppend = "#t" + e + "_thankDiv", this.idToHide = "#t" + e + "_mcont") }, ThankYou.prototype.displayHtml = function (e) { if (isSet(e)) return this.fireServices(e), [this.ThankYouHtml] }, ThankYou.prototype.hasHtml = function (e) { isSet(e) && (this.showThankYou(e.tmpId), e.that.NumberofClassCalled -= 1, "" !== this.ThankYouHtml ? this.isHtmlPresent(e) : this.isHtmlNotPresent(e)) }, ThankYou.prototype.isHtmlPresent = function (e) { if (AttachObject(e.object, e.tmpId), isSet(e.AfterService)) for (var t = 0; t < e.AfterService.length; t++)e.that.MakeSeq(e.AfterService[t], e.tmpId); 0 === e.that.NumberofClassCalled && makeFinalSeq(e, e.tmpId) }, ThankYou.prototype.isHtmlNotPresent = function (e) { e.hasFallback && CreateSeq(e.FallbackObj) }, ThankYou.prototype.SaveDetails = function (e) { }, ThankYou.prototype.handleHeading = function (e) { }, ThankYou.prototype.getThankYouData = function (e) { var t = usercookie.getCookie("ImeshVisitor"), r = {}; return r.imeshcookie = t, r.em = ReturnCorrectVal(usercookie.getParameterValue(t, "em"), ""), r.ev = ReturnCorrectVal(usercookie.getParameterValue(t, "ev"), ""), r.utyp = ReturnCorrectVal(usercookie.getParameterValue(t, "utyp"), ""), r.cntry_iso = ReturnCorrectVal(usercookie.getParameterValue(t, "iso"), ""), r.formType = isSet(ReqObj.Form[e].formType) ? ReqObj.Form[e].formType.toLowerCase() : "", r.manageSname = webAddressLocation.match(/^dev/) ? "https://dev-" : webAddressLocation.match(/^stg/) ? "https://stg-" : "https://", r.rglusr = isSet(ReqObj.Form[e].R_glusr_id) ? ReqObj.Form[e].R_glusr_id : "", r.pname = isSet(ReqObj.Form[e].R_title) ? ReqObj.Form[e].R_title : "", r.comp = isSet(ReqObj.Form[e].company) ? ReqObj.Form[e].company : "", r }, ThankYou.prototype.showThankYou = function (e) { var t = this.getThankYouData(e); t.tmpId = e, t.manageBL = this.manageBL(t), t.grBoxhtml = this.grBoxhtml(t), t.paybannerHtml = this.paybannerHtml(t), t.payNumber = this.payNumber(t), t.thankmess = this.thankmess(t), t.knowMore = this.knowMore(t), this.setPayxUrl(t), this.payxImgUrl = "enq" === t.formType ? this.payxImgUrl + "1" : this.payxImgUrl + "2", this.payxAdvUrl = "enq" === t.formType ? this.payxAdvUrl + "1" : this.payxAdvUrl + "2", this.getHtml(t) }, ThankYou.prototype.setPayxUrl = function (e) { if ("enq" === e.formType) { var t = "" === e.rglusr ? btoa(-1) : btoa(e.rglusr), r = "" === e.comp ? btoa(-1) : btoa(e.comp), o = "" === e.pname ? btoa(-1) : btoa(e.pname); this.payxImgUrl = this.payxImgUrl + "&S_name=" + r + "&s_glid=" + t + "&p_name=" + o, this.payxAdvUrl = this.payxAdvUrl + "&S_name=" + r + "&s_glid=" + t + "&p_name=" + o } }, ThankYou.prototype.manageBL = function (e) { return "P" === e.utyp.toUpperCase() || "P" !== e.utyp.toUpperCase() && window.location.href.match(/seller.indiamart.com/) ? e.manageSname + "seller.indiamart.com/blgen/managebl/" : e.manageSname + "my.indiamart.com/buyertools/managebl/" }, ThankYou.prototype.grBoxhtml = function (e) { return e.imeshcookie.indexOf("ev") >= 0 && "V" !== e.ev && "" !== e.em ? returnContainer("", "", "be-grbg", "", "Suppliers are more likely to contact verified buyers.<br><b>Check your email " + e.em + " to verify.</b>", "") + "</div>" : "" }, ThankYou.prototype.paybannerHtml = function (e) { return '<div class="BL_Fbg BL_Fp1 BL_Fm4 txt-cnt br4"><a target ="_blank" href="https://paywith.indiamart.com/" onclick = \'return thankYouTrack("' + e.tmpId + '","ThankYou_PWIM")\'><span class="BL_Ficn1"></span><div class="BL_Ff3 BL_Fc1 BL_Ff5">Protect your payments for <span class="BL_Fwb">FREE,</span> Pay sellers online via <span class="BL_Fwb">Pay with IndiaMART</span></div><div class="BL_Fm5 BL_Fm8 BL_Ff5"><span class="BL_Ff4 BL_Fc1 BL_Fwb BL_Fm6"><span class="BL_Ficn2 BL_Fm7"></span> 100% Buyer Protection</span><span class="BL_Ff4 BL_Fc1 BL_Fwb BL_Fm6"><span class="BL_Ficn3 BL_Fm7"></span> Multiple Payment Options</span><span class="BL_Ff4 BL_Fc1 BL_Fwb BL_Fm6"><span class="BL_Ficn4 BL_Fm7"></span> Buy Now, Pay At Ease </span></div><div class="BL_Fbg1 BL_Brd1 BL_Fp2"><span class="BL_Ff4 BL_Ff5">Credit Card   &nbsp;|&nbsp;   UPI / Wallet / Net Banking   &nbsp;|&nbsp;   Cardless EMI   &nbsp;|&nbsp;   Pay Later</span><br><span class="BL_Ff4 BL_Ff4 BL_Ftxn BL_Fwb BL_Fm2 BL_Fc4">Know More  &gt;</span></div></a></div>' }, ThankYou.prototype.thankmess = function (e) { var t = ""; return t += '<div class="bethhdg befwt bemt30 bemb5"><i class="cHkIcon"></i>Thank You!</div>', t += returnContainer("", "'", "txt16 txt33 xMt10", "", "bl" === e.formType ? "IndiaMART has received your requirement" : "Your requirement has been sent to <span class='befwt'>" + ReqObj.Form[e.tmpId].rcvName + "</span>", "") + "</div>", t += e.grBoxhtml, t = "bl" === e.formType ? t + returnContainer("", "", "befs14 bemt15", "", "Want to add/edit your details to your requirement? Do it here:", "") + "</div>" + returnContainer("", "manage_rqt", "bemt15 bedblk", "", "", "") + returnA("", "", e.manageBL, "_blank", "form-btn bepdglr") + "Manage Your Requirement</a></div>" : t + returnContainer("", "", "clr-b", "", "", "") + "</div ><div id='manage_msg' class='xM40 bedblk txt16 txt66'>To check further replies from the supplier, view <a href='https://my.indiamart.com/enquiry/messagecentre/' target = '_blank' class='msglink' id='t" + e.tmpId + "msglink' onclick = 'return thankYouTrack(\"" + e.tmpId + '","ThankYou_message")\'> Messages</a ></div>' }, ThankYou.prototype.knowMore = function (e) { var t = "bl" === e.formType ? "" : "be_payXurlADV"; return returnA("", "", this.payxAdvUrl, "_blank", t) + returnSpan("", "payxknowmore", "Know More", "kMr") + "</a>" }, ThankYou.prototype.payNumber = function (e) { return e.formType, "" }, ThankYou.prototype.getHtml = function (e) { "chatbl" === e.formType || "chatbl-inline" === e.formType ? this.getChatBlThankYouHtml(e) : this.getBlEnqThankYouHtml(e) }, ThankYou.prototype.getChatBlThankYouHtml = function (e) { var t = chatBlClass(e.tmpId, "left"), r = "inline" === chatBlPopupInline(e.tmpId) ? "message-left" : "popup" === chatBlPopupInline(e.tmpId) ? "<div class = 'cbl_verfy'>" : "", o = "popup" === chatBlPopupInline(e.tmpId) ? '<div class="txt_area cbl_brd1 cbl_clr1"><svg class="cbl_ok cbl_field"><use xlink:href="#cblcheck"></use></svg><span class="befwt">We have received your requirement</span>. We will soon connect you with relevant suppliers. </div>' : '<span class="chat-tickbx"></span><span class="befwt">We have received your requirement</span>. We will soon connect you with relevant suppliers.', i = ConversationLeftWrapper(e.tmpId, o, { classtotest: t, leftright: r }); this.ThankYouHtml = i + "<div class = 'cbl_advpos'><span class='cbl_vrfy cbl_adv'>ADVERTISEMENT</span>" + this.addUnitDiv + "</div>" }, ThankYou.prototype.getBlEnqThankYouHtml = function (e) { var t = ""; "IN" === e.cntry_iso ? (t = "", t += "<div class=''>", t = "bl" === ReqObj.Form[e.tmpId].typeofform.toLowerCase() ? t + "<div class='be-cls' id=t" + e.tmpId + "_cls >X</div >" : t + "<div class='be-cls' id=t" + e.tmpId + "_cls ></div >", t = (t += "<div class='txt-cnt befs16'>" + e.thankmess + "</div>" + e.payNumber + e.paybannerHtml) + this.addUnitDiv + "</div>", t += "</div>") : (t = "<div class='dtc bevT be-w98'><div class='be-cross' id=t" + e.tmpId + "_cls>X</div><div class='txt-cnt befs16'>" + e.thankmess + "</div>", t += this.addUnitDiv), this.ThankYouHtml = t }, ThankYou.prototype.defaultEvents = function (e, t) { this.handleEvents(e, t), this.fireTracking(e), "chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() && setTimeout(function () { $("#t" + e + "_chatBL").hasClass("cbl_vv") && CloseForm(e) }, 1e4), this.googleAddEvents(e), "popup" === chatBlPopupInline(e) && ($("#t" + e + "_chatBL").addClass("cbl_adjust"), $("#t" + e + "_blchatbody").addClass("cbl_htgrow")) }, ThankYou.prototype.googleAddEvents = function (e) { window.googletag && googletag.pubadsReady && (IsChatbl(e) ? "chatbl-inline" === ReqObj.Form[e].formType.toLowerCase() ? this.chatblAdd(e) : this.chatLikeblAdd(e) : this.BlEnqAdd(e)) }; var slot = "", slotChat = "", slotChatLike = ""; ThankYou.prototype.BlEnqAdd = function (e) { var t = this.adsMcat, r = isSet(ReqObj.Form[e].isAdult) && "" !== ReqObj.Form[e].isAdult ? ReqObj.Form[e].isAdult : 2; "" === ReqObj.Form[e].mcatId || 2 !== parseInt(r) && 0 !== parseInt(r) || (window.googletag = window.googletag || { cmd: [] }, googletag.pubads().setTargeting("mcatid", ReqObj.Form[e].mcatId), "" === slot && (slot = googletag.defineSlot("/3047175/Desktop_PBRENQ_Adunit", [728, 90], "div-gpt-ad-1576734581911-0"), ReqObj.isAddSlot = 1), slot.addService(googletag.pubads()), googletag.pubads().refresh([slot]), googletag.pubads().enableSingleRequest(), googletag.enableServices(), googletag.display("div-gpt-ad-1576734581911-0")), IsChatbl(e) || -1 !== $.inArray(ReqObj.Form[e].mcatId, t) ? $("#t" + e + "_mcont").removeClass("oEq") : $("#t" + e + "_mcont").addClass("oEq") }, ThankYou.prototype.chatblAdd = function (e) { var t = isSet(ReqObj.Form[e].isAdult) && "" !== ReqObj.Form[e].isAdult ? ReqObj.Form[e].isAdult : 2; "" === ReqObj.Form[e].mcatId || 2 !== parseInt(t) && 0 !== parseInt(t) || (window.googletag = window.googletag || { cmd: [] }, googletag.pubads().setTargeting("mcatid", ReqObj.Form[e].mcatId), "" === slotChat && (slotChat = googletag.defineSlot("/3047175/Desktop_PBRENQFORMS_ChatAdunit", [320, 50], "div-gpt-ad-1583149499454-0")), slotChat.addService(googletag.pubads()), googletag.pubads().refresh([slotChat]), googletag.pubads().enableSingleRequest(), googletag.enableServices(), googletag.display("div-gpt-ad-1583149499454-0")) }, ThankYou.prototype.chatLikeblAdd = function (e) { var t = isSet(ReqObj.Form[e].isAdult) && "" !== ReqObj.Form[e].isAdult ? ReqObj.Form[e].isAdult : 2; "" === ReqObj.Form[e].mcatId || 2 !== parseInt(t) && 0 !== parseInt(t) || (window.googletag = window.googletag || { cmd: [] }, googletag.pubads().setTargeting("mcatid", ReqObj.Form[e].mcatId), "" === slotChatLike && (slotChatLike = googletag.defineSlot("/3047175/Desktop_PBRENQ_CHATLIKE_ONCLICK", [728, 90], "ca-pub-1282188796495854")), slotChatLike.addService(googletag.pubads()), googletag.pubads().refresh([slotChatLike]), googletag.pubads().enableSingleRequest(), googletag.enableServices(), googletag.display("ca-pub-1282188796495854")) }, ThankYou.prototype.handleEvents = function (e, t) { "IN" !== currentISO() ? $("#t" + e + "_thankDiv").addClass("eqfRx") : $("#t" + e + "_thankDiv").removeClass("eqfRx"), $("#t" + e + "_cls").off("click").on("click", function (t) { FormCloseStep(e, t) }), $("#t" + e + "_thankDiv").addClass("BL_Thnky"), isSet(t) && "" !== t && "onclosescreen" === t.type.toLowerCase() ? $("#" + t.elid).addClass("BL_Thnky_1") : $("#" + t.elid).removeClass("BL_Thnky_1") }, ThankYou.prototype.fireTracking = function (e) { var t = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", r = isSet(ReqObj.Form[e].FormSequence) ? ReqObj.Form[e].FormSequence.StepCounter + 1 + ReqObj.Form[e].FormSequence.OnCloseCounter + 1 : 2; $("#payxbanner").on("click", function () { blenqGATracking(t, "PayX_Banner|" + r + "|Thank You", getEventLabel(), 0, e) }), $("#payxknowmore").on("click", function () { blenqGATracking(t, "PayX_KnowMore|" + r + "|Thank You", getEventLabel(), 0, e) }), $("#manage_rqt").on("click", function () { blenqGATracking(t, "Manage Your Requirement|" + r + "|Thank You", getEventLabel(), 0, e) }) }, ThankYou.prototype.fireServices = function (e) { var t = "Enq" === ReqObj.Form[e].formType ? "Send Enquiry" : "Post Buy Leads", r = isSet(ReqObj.Form[e].FormSequence) ? ReqObj.Form[e].FormSequence.StepCounter + 1 + ReqObj.Form[e].FormSequence.OnCloseCounter + 1 : 2, o = currentISO(); "enq" === ReqObj.Form[e].formType.toLowerCase() && ("IN" !== usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "iso") || "IN" === usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "iso") && "V" === usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"), "uv") ? ReqObj.Form[e].hitFinishEnquiryService = !0 : FinishEnquiryService(e)), "IN" !== o || IsChatbl(e) || blenqGATracking(t, "Displayed_PayX|" + r + "|Thank You", getEventLabel(), 0, e) };